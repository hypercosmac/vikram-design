(()=>{var aE=Object.defineProperty,oE=Object.defineProperties;var sE=Object.getOwnPropertyDescriptors;var Bf=Object.getOwnPropertySymbols;var uE=Object.prototype.hasOwnProperty,cE=Object.prototype.propertyIsEnumerable;var Ho=(pe,w,Q)=>w in pe?aE(pe,w,{enumerable:!0,configurable:!0,writable:!0,value:Q}):pe[w]=Q,K=(pe,w)=>{for(var Q in w||(w={}))uE.call(w,Q)&&Ho(pe,Q,w[Q]);if(Bf)for(var Q of Bf(w))cE.call(w,Q)&&Ho(pe,Q,w[Q]);return pe},Ft=(pe,w)=>oE(pe,sE(w));var lE=(pe,w)=>()=>(w||pe((w={exports:{}}).exports,w),w.exports);var B=(pe,w,Q)=>(Ho(pe,typeof w!="symbol"?w+"":w,Q),Q);var se=(pe,w,Q)=>new Promise((ee,Zn)=>{var te=ze=>{try{An(Q.next(ze))}catch(en){Zn(en)}},b=ze=>{try{An(Q.throw(ze))}catch(en){Zn(en)}},An=ze=>ze.done?ee(ze.value):Promise.resolve(ze.value).then(te,b);An((Q=Q.apply(pe,w)).next())});var fE=lE((Ge,je)=>{(function(){"use strict";function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(n),!0).forEach(function(r){b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q(e){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(e)}function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},en(e,t)}function Wf(e,t){if(e==null)return{};var n,r,i=function(o,s){if(o==null)return{};var u,l,f={},d=Object.keys(o);for(l=0;l<d.length;l++)u=d[l],s.indexOf(u)>=0||(f[u]=o[u]);return f}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uf(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Go(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uf(this,n)}}function rt(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var a,o,s=[],u=!0,l=!1;try{for(i=i.call(n);!(u=(a=i.next()).done)&&(s.push(a.value),!r||s.length!==r);u=!0);}catch(f){l=!0,o=f}finally{try{u||i.return==null||i.return()}finally{if(l)throw o}}return s}}(e,t)||Li(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cr(e){return function(t){if(Array.isArray(t))return Di(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Li(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Li(e,t){if(e){if(typeof e=="string")return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}function Di(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Li(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw a}}}}var tn={DEBUG:!1,LIB_VERSION:"1.108.4"},Hf=Array.isArray,jo=Object.prototype,zo=jo.hasOwnProperty,Qn=jo.toString,fe=Hf||function(e){return Qn.call(e)==="[object Array]"},Yo=function(e){return Qn.call(e)==="[object Uint8Array]"},Ye=function(e){return typeof e=="function"},Lt=function(e){return e===Object(e)&&!fe(e)},M=function(e){return e===void 0},Ie=function(e){return Qn.call(e)=="[object String]"},De=function(e){return e===null},at=function(e){return Qn.call(e)=="[object Number]"},Mi=function(e){return Qn.call(e)==="[object Boolean]"},Gf=function(e){return e instanceof FormData},g=typeof window!="undefined"?window:void 0,ct=typeof globalThis!="undefined"?globalThis:g,Vo=Array.prototype,Ko=Vo.forEach,Jo=Vo.indexOf,Xo=ct==null?void 0:ct.navigator,I=ct==null?void 0:ct.document,Dt=ct==null?void 0:ct.location,qi=ct==null?void 0:ct.fetch,Zo=ct==null?void 0:ct.XMLHttpRequest,ue=Xo==null?void 0:Xo.userAgent,ke=g!=null?g:{},Qo="[PostHog.js]",y={_log:function(e){if(g&&(tn.DEBUG||ke.POSTHOG_DEBUG)&&!M(g.console)&&g.console){for(var t=("__rrweb_original__"in g.console[e])?g.console[e].__rrweb_original__:g.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[Qo].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y._log.apply(y,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y._log.apply(y,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y._log.apply(y,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[Qo].concat(n))},uninitializedWarning:function(e){y.error("You must initialize PostHog before calling ".concat(e))}},Or={},Fr=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function In(e,t,n){if(fe(e)){if(Ko&&e.forEach===Ko)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Or)return}}}function Y(e,t,n){if(!De(e)&&!M(e)){if(fe(e))return In(e,t,n);if(Gf(e)){var r,i=it(e.entries());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t.call(n,a[1],a[0])===Or)return}}catch(s){i.e(s)}finally{i.f()}}else for(var o in e)if(zo.call(e,o)&&t.call(n,e[o],o)===Or)return}}var ve=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return In(n,function(i){for(var a in i)i[a]!==void 0&&(e[a]=i[a])}),e};function U(e,t){return e.indexOf(t)!==-1}function Lr(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var es=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},ts=function(e){try{return e()}catch(t){return}},ns=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){y.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),y.critical(i)}}},Ni=function(e){var t={};return Y(e,function(n,r){Ie(n)&&n.length>0&&(t[r]=n)}),t};function jf(e,t){return n=e,r=function(a){return Ie(a)&&!De(t)?a.slice(0,t):a},i=new Set,function a(o,s){return o!==Object(o)?r?r(o,s):o:i.has(o)?void 0:(i.add(o),fe(o)?(u=[],In(o,function(l){u.push(a(l))})):(u={},Y(o,function(l,f){i.has(l)||(u[f]=a(l,f))})),u);var u}(n);var n,r,i}function Bi(e){var t,n,r,i,a,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,l="",f=[];if(!e)return e;e=zf(e);do t=(a=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=a>>12&63,r=a>>6&63,i=63&a,f[u++]=o.charAt(t)+o.charAt(n)+o.charAt(r)+o.charAt(i);while(s<e.length);switch(l=f.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}var zf=function(e){var t,n,r,i,a="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),s=null;o<128?n++:s=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),De(s)||(n>t&&(a+=e.substring(t,n)),a+=s,t=n=i+1)}return n>t&&(a+=e.substring(t,e.length)),a},er=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,a){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!a);else{var o="on"+n,s=t[o];t[o]=function(u,l,f){return function(d){if(d=d||e(g==null?void 0:g.event)){var h,p=!0;Ye(f)&&(h=f(d));var v=l.call(u,d);return h!==!1&&v!==!1||(p=!1),p}}}(t,r,s)}else y.error("No valid element provided to register_event")}}();function tr(e,t){var n=function(){if(!I)return t("document not found");var r=I.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,a=I.querySelectorAll("body > script");a.length>0?(i=a[0].parentNode)===null||i===void 0||i.insertBefore(r,a[0]):I.body.appendChild(r)};I!=null&&I.body?n():I==null||I.addEventListener("DOMContentLoaded",n)}function Wi(e){return e?Fr(e).split(/\s+/):[]}function Dr(e){var t="";switch(Q(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Wi(t)}function Mr(e){var t="";return qr(e)&&!as(e)&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,function(n){rs(n)&&n.textContent&&(t+=Fr(n.textContent).split(/(\s+)/).filter(En).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),Fr(t)}function Ui(e){return!!e&&e.nodeType===1}function nn(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function rs(e){return!!e&&e.nodeType===3}function is(e){return!!e&&e.nodeType===11}var Hi=["a","button","form","input","select","textarea","label"];function Yf(e){var t=e.parentNode;return!(!t||!Ui(t))&&t}function Vf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!g||!e||nn(e,"html")||!Ui(e))return!1;if(n!=null&&n.url_allowlist){var r=g.location.href,i=n.url_allowlist;if(i&&!i.some(function(p){return r.match(p)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(p){return t.type===p}))return!1}for(var o=!1,s=[e],u=!0,l=e;l.parentNode&&!nn(l,"body");)if(is(l.parentNode))s.push(l.parentNode.host),l=l.parentNode.host;else{if(!(u=Yf(l)))break;if(Hi.indexOf(u.tagName.toLowerCase())>-1)o=!0;else{var f=g.getComputedStyle(u);f&&f.getPropertyValue("cursor")==="pointer"&&(o=!0)}s.push(u),l=u}if(!function(p,v){var _=v==null?void 0:v.element_allowlist;if(M(_))return!0;var m,k=it(p);try{var A=function(){var x=m.value;if(_.some(function(C){return x.tagName.toLowerCase()===C}))return{v:!0}};for(k.s();!(m=k.n()).done;){var G=A();if(Q(G)==="object")return G.v}}catch(x){k.e(x)}finally{k.f()}return!1}(s,n)||!function(p,v){var _=v==null?void 0:v.css_selector_allowlist;if(M(_))return!0;var m,k=it(p);try{var A=function(){var x=m.value;if(_.some(function(C){return x.matches(C)}))return{v:!0}};for(k.s();!(m=k.n()).done;){var G=A();if(Q(G)==="object")return G.v}}catch(x){k.e(x)}finally{k.f()}return!1}(s,n))return!1;var d=g.getComputedStyle(e);if(d&&d.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return t.type==="submit";case"input":case"select":case"textarea":return t.type==="change"||t.type==="click";default:return o?t.type==="click":t.type==="click"&&(Hi.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function qr(e){for(var t=e;t.parentNode&&!nn(t,"body");t=t.parentNode){var n=Dr(t);if(U(n,"ph-sensitive")||U(n,"ph-no-capture"))return!1}if(U(Dr(e),"ph-include"))return!0;var r=e.type||"";if(Ie(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Ie(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function as(e){return!!(nn(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||nn(e,"select")||nn(e,"textarea")||e.getAttribute("contenteditable")==="true")}function En(e){return!(De(e)||M(e)||Ie(e)&&(e=Fr(e),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(e)))}function os(e){var t=Mr(e);return En(t="".concat(t," ").concat(ss(e)).trim())?t:""}function ss(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Y(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Mr(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(ss(n)).trim())}catch(a){y.error(a)}}),t}function Kf(e){return function(t){var n=t.map(function(r){var i,a,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var s,u=it(r.attr_class);try{for(u.s();!(s=u.n()).done;){var l=s.value;o+=".".concat(l.replace(/"/g,""))}}catch(h){u.e(h)}finally{u.f()}}var f=w(w(w(w({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(a=r.nth_of_type)!==null&&a!==void 0?a:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Lr(f).sort(function(h,p){var v=rt(h,1)[0],_=rt(p,1)[0];return v.localeCompare(_)}).forEach(function(h){var p=rt(h,2),v=p[0],_=p[1];return d[us(v.toString())]=us(_.toString())}),o+=":",o+=Lr(f).map(function(h){var p=rt(h,2),v=p[0],_=p[1];return"".concat(v,'="').concat(_,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,a={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:Jf(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Lr(n).filter(function(o){return rt(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var s=rt(o,2),u=s[0],l=s[1];return a.attributes[u]=l}),a})}(e))}function us(e){return e.replace(/"|\\"/g,'\\"')}function Jf(e){var t=e.attr__class;return t?fe(t)?t:Wi(t):void 0}var Xf=function(){function e(t){ee(this,e),this.clicks=[],this.enabled=t}return te(e,[{key:"isRageClick",value:function(t,n,r){if(!this.enabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),cs="$people_distinct_id",Nr="__alias",nr="__timers",ls="$autocapture_disabled_server_side",Gi="$session_recording_enabled_server_side",fs="$console_log_recording_enabled_server_side",ds="$session_recording_recorder_version_server_side",hs="$session_recording_network_payload_capture",ps="$session_recording_canvas_recording",Br="$sesid",Wr="$session_is_sampled",xn="$enabled_feature_flags",ji="$early_access_features",Rn="$stored_person_properties",Mt="$stored_group_properties",zi="$surveys",Ur="$flag_call_reported",Yi="$user_state",Vi="$posthog_quota_limited",Ki="$client_session_props",Zf=[cs,Nr,"__cmpns",nr,Gi,Br,xn,Yi,Vi,ji,Mt,Rn,zi,Ur,Ki];function Ji(e,t){return t.length>e?t.slice(0,e)+"...":t}var qt={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(e){var t,n=De(this._isDisabledServerSide)?!((t=e.persistence)===null||t===void 0||!t.props[ls]):this._isDisabledServerSide,r=!!e.config.autocapture;this._isAutocaptureEnabled=r&&!n},_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Ui(t));return t},_getAugmentPropertiesFromElement:function(e){if(!qr(e))return{};var t={};return Y(e.attributes,function(n){if(n.name.indexOf("data-ph-capture-attribute")===0){var r=n.name.replace("data-ph-capture-attribute-",""),i=n.value;r&&i&&En(i)&&(t[r]=i)}}),t},_getPropertiesFromElement:function(e,t,n){var r,i=e.tagName.toLowerCase(),a={tag_name:i};Hi.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?a.$el_text=Ji(1024,os(e)):a.$el_text=Ji(1024,Mr(e)));var o=Dr(e);o.length>0&&(a.classes=o.filter(function(d){return d!==""}));var s=(r=this.config)===null||r===void 0?void 0:r.element_attribute_ignorelist;Y(e.attributes,function(d){var h;if((!as(e)||["name","id","class"].indexOf(d.name)!==-1)&&(s==null||!s.includes(d.name))&&!t&&En(d.value)&&(h=d.name,!Ie(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var p=d.value;d.name==="class"&&(p=Wi(p).join(" ")),a["attr__"+d.name]=Ji(1024,p)}});for(var u=1,l=1,f=e;f=this._previousElementSibling(f);)u++,f.tagName===e.tagName&&l++;return a.nth_child=u,a.nth_of_type=l,a},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1}},_extractCustomPropertyValue:function(e){var t=[];return Y(I==null?void 0:I.querySelectorAll(e.css_selector),function(n){var r;["input","select"].indexOf(n.tagName.toLowerCase())>-1?r=n.value:n.textContent&&(r=n.textContent),En(r)&&t.push(r)}),t.join(", ")},_getCustomProperties:function(e){var t=this,n={};return Y(this._customProperties,function(r){Y(r.event_selectors,function(i){Y(I==null?void 0:I.querySelectorAll(i),function(a){U(e,a)&&qr(a)&&(n[r.name]=t._extractCustomPropertyValue(r))})})}),n},_getEventTarget:function(e){return M(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t},_captureEvent:function(e,t){var n,r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",a=this._getEventTarget(e);if(rs(a)&&(a=a.parentNode||null),i==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this._captureEvent(e,t,"$rageclick"),a&&Vf(a,e,this.config)){for(var o,s,u=[a],l=a;l.parentNode&&!nn(l,"body");)is(l.parentNode)?(u.push(l.parentNode.host),l=l.parentNode.host):(u.push(l.parentNode),l=l.parentNode);var f,d=[],h={},p=!1;if(Y(u,function(_){var m=qr(_);_.tagName.toLowerCase()==="a"&&(f=_.getAttribute("href"),f=m&&En(f)&&f),U(Dr(_),"ph-no-capture")&&(p=!0),d.push(r._getPropertiesFromElement(_,t.config.mask_all_element_attributes,t.config.mask_all_text));var k=r._getAugmentPropertiesFromElement(_);ve(h,k)}),t.config.mask_all_text||(a.tagName.toLowerCase()==="a"||a.tagName.toLowerCase()==="button"?d[0].$el_text=os(a):d[0].$el_text=Mr(a)),f&&(d[0].attr__href=f),p)return!1;var v=ve(this._getDefaultProperties(e.type),t.elementsChainAsString?{$elements_chain:Kf(d)}:{$elements:d},(o=d[0])!==null&&o!==void 0&&o.$el_text?{$el_text:(s=d[0])===null||s===void 0?void 0:s.$el_text}:{},this._getCustomProperties(u),h);return t.capture(i,v),!0}},_navigate:function(e){g&&(g.location.href=e)},_addDomEventHandlers:function(e){var t=this;if(g&&I){var n=function(r){r=r||(g==null?void 0:g.event),t._captureEvent(r,e)};er(I,"submit",n,!1,!0),er(I,"change",n,!1,!0),er(I,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(e){var t;Mi(e.__autocapture)||(this.config=e.__autocapture),(t=this.config)!==null&&t!==void 0&&t.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(n){return new RegExp(n)})),this.rageclicks=new Xf(e.config.rageclick)},afterDecideResponse:function(e,t){var n=t.config.token;this._initializedTokens.indexOf(n)>-1?y.info('autocapture already initialized for token "'+n+'"'):(t.persistence&&t.persistence.register(b({},ls,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this._setIsAutocaptureEnabled(t),this._initializedTokens.push(n),e&&e.config&&e.config.enable_collect_everything&&this._isAutocaptureEnabled?(e.custom_properties&&(this._customProperties=e.custom_properties),this._addDomEventHandlers(t)):t.__autocapture=!1)},enabledForProject:function(e,t,n){if(!e)return!0;t=M(t)?10:t,n=M(n)?10:n;for(var r=0,i=0;i<e.length;i++)r+=e.charCodeAt(i);return r%t<n},isBrowserSupported:function(){return Ye(I==null?void 0:I.querySelectorAll)}};(function(e){for(var t in e)Ye(e[t])&&(e[t]=e[t].bind(e))})(qt),function(e){for(var t in e)Ye(e[t])&&(e[t]=ns(e[t]))}(qt);var Xi="$active_feature_flags",Hr="$override_feature_flags",_s="$feature_flag_payloads",gs=function(e){var t,n={},r=it(Lr(e||{}));try{for(r.s();!(t=r.n()).done;){var i=rt(t.value,2),a=i[0],o=i[1];o&&(n[a]=o)}}catch(s){r.e(s)}finally{r.f()}return n},Qf=function(){function e(t){ee(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return te(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(xn),n=this.instance.get_property(Hr);if(!n)return t||{};for(var r=ve({},t),i=Object.keys(n),a=0;a<i.length;a++)n[i[a]]===!1?delete r[i[a]]:r[i[a]]=n[i[a]];return this._override_warning||(y.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(_s)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Rn),i=this.instance.get_property(Mt),a=Bi(JSON.stringify({token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.requestRouter.endpointFor("api","/decide/?v=3"),{data:a},{method:"POST"},this.instance._prepare_callback(function(o){t.$anon_distinct_id=void 0,t.receivedFeatureFlags(o),t.setReloadingPaused(!1),t._startReloadTimer()}))}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],a="".concat(i),o=this.instance.get_property(Ur)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(a))&&(fe(o[t])?o[t].push(a):o[t]=[a],(r=this.instance.persistence)===null||r===void 0||r.register(b({},Ur,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}y.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);y.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();(function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=i.featureFlags,l=i.featureFlagPayloads;if(u)if(fe(u)){var f,d={};if(u)for(var h=0;h<u.length;h++)d[u[h]]=!0;a&&a.register((b(f={},Xi,u),b(f,xn,d),f))}else{var p,v=u,_=l;i.errorsWhileComputingFlags&&(v=w(w({},o),v),_=w(w({},s),_)),a&&a.register((b(p={},Xi,Object.keys(gs(v))),b(p,xn,v||{}),b(p,_s,_||{}),p))}})(t,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return y.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(Hr);else if(fe(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(b({},Hr,n))}else this.instance.persistence.register(b({},Hr,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,a=r.flagVariants;t(i,a)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,a=b({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:a}),this.setPersonPropertiesForFlags(a,!1);var o=w(w({},this.getFlagVariants()),{},b({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((b(i={},Xi,Object.keys(gs(o))),b(i,xn,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(ji);if(i&&!r)return t(i);this.instance._send_request(this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),{},{method:"GET"},function(a){var o,s=a.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(b({},ji,s)),t(s)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,r=t.flagVariants;this.featureFlagEventHandlers.forEach(function(i){return i(n,r)})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Rn)||{};this.instance.register(b({},Rn,w(w({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Rn)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Mt)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=w(w({},r[i]),t[i]),delete t[i]}),this.instance.register(b({},Mt,w(w({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Mt)||{};this.instance.register(b({},Mt,w(w({},n),{},b({},t,{}))))}else this.instance.unregister(Mt)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return at(e)&&isFinite(e)&&Math.floor(e)===e});var vs="0123456789abcdef",ed=function(){function e(t){if(ee(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return te(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+vs.charAt(this.bytes[n]>>>4)+vs.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>281474976710655||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|n>>>8,a[7]=n,a[8]=128|r>>>24,a[9]=r>>>16,a[10]=r>>>8,a[11]=r,a[12]=i>>>24,a[13]=i>>>16,a[14]=i>>>8,a[15]=i,new e(a)}}]),e}(),td=function(){function e(){ee(this,e),b(this,"timestamp",0),b(this,"counter",0),b(this,"random",new nd)}return te(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(M(t)){this.timestamp=0;var n=this.generateOrAbort();if(M(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return ed.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),ms=function(e){if(typeof UUIDV7_DENY_WEAK_RNG!="undefined"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};g&&!M(g.crypto)&&crypto.getRandomValues&&(ms=function(e){return crypto.getRandomValues(e)});var ys,nd=function(){function e(){ee(this,e),b(this,"buffer",new Uint32Array(8)),b(this,"cursor",1/0)}return te(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(ms(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),rn=function(){return rd().toString()},rd=function(){return(ys||(ys=new td)).generate()},id="Thu, 01 Jan 1970 00:00:00 GMT",rr="",ad=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function od(e,t){if(t){var n=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;if(rr)return rr;if(!a||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),s=Math.min(o.length,8),u="dmn_chk_"+rn(),l=new RegExp("(^|;)\\s*"+u+"=1");!rr&&s--;){var f=o.slice(s).join("."),d=u+"=1;domain=."+f;a.cookie=d,l.test(a.cookie)&&(a.cookie=d+";expires="+id,rr=f)}return rr}(e);if(!n){var r=function(i){var a=i.match(ad);return a?a[0]:""}(e);r!==n&&y.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var lt={is_supported:function(){return!!I},error:function(e){y.error("cookieStore error: "+e)},get:function(e){if(I){try{for(var t=e+"=",n=I.cookie.split(";").filter(function(a){return a.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch(a){}return null}},parse:function(e){var t;try{t=JSON.parse(lt.get(e))||{}}catch(n){}return t},set:function(e,t,n,r,i){if(I)try{var a="",o="",s=od(I.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),a="; expires="+u.toUTCString()}i&&(o="; secure");var l=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+s+o;return l.length>3686.4&&y.warn("cookieStore warning: large cookie, len="+l.length),I.cookie=l,l}catch(f){return}},remove:function(e,t){try{lt.set(e,"",-1,t)}catch(n){return}}},Zi=null,le={is_supported:function(){if(!De(Zi))return Zi;var e=!0;if(M(g))e=!1;else try{var t="__mplssupport__";le.set(t,"xyz"),le.get(t)!=='"xyz"'&&(e=!1),le.remove(t)}catch(n){e=!1}return e||y.error("localStorage unsupported; falling back to cookie store"),Zi=e,e},error:function(e){y.error("localStorage error: "+e)},get:function(e){try{return g==null?void 0:g.localStorage.getItem(e)}catch(t){le.error(t)}return null},parse:function(e){try{return JSON.parse(le.get(e))||{}}catch(t){}return null},set:function(e,t){try{g==null||g.localStorage.setItem(e,JSON.stringify(t))}catch(n){le.error(n)}},remove:function(e){try{g==null||g.localStorage.removeItem(e)}catch(t){le.error(t)}}},sd=["distinct_id",Br,Wr],ir=w(w({},le),{},{parse:function(e){try{var t={};try{t=lt.parse(e)||{}}catch(r){}var n=ve(t,JSON.parse(le.get(e)||"{}"));return le.set(e,n),n}catch(r){}return null},set:function(e,t,n,r,i){try{le.set(e,t);var a={};sd.forEach(function(o){t[o]&&(a[o]=t[o])}),Object.keys(a).length&&lt.set(e,a,n,r,i)}catch(o){le.error(o)}},remove:function(e,t){try{g==null||g.localStorage.removeItem(e),lt.remove(e,t)}catch(n){le.error(n)}}}),Gr={},ud={is_supported:function(){return!0},error:function(e){y.error("memoryStorage error: "+e)},get:function(e){return Gr[e]||null},parse:function(e){return Gr[e]||null},set:function(e,t){Gr[e]=t},remove:function(e){delete Gr[e]}},an=null,me={is_supported:function(){if(!De(an))return an;if(an=!0,M(g))an=!1;else try{var e="__support__";me.set(e,"xyz"),me.get(e)!=='"xyz"'&&(an=!1),me.remove(e)}catch(t){an=!1}return an},error:function(e){y.error("sessionStorage error: ",e)},get:function(e){try{return g==null?void 0:g.sessionStorage.getItem(e)}catch(t){me.error(t)}return null},parse:function(e){try{return JSON.parse(me.get(e))||null}catch(t){}return null},set:function(e,t){try{g==null||g.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){me.error(n)}},remove:function(e){try{g==null||g.sessionStorage.removeItem(e)}catch(t){me.error(t)}}},cd=["localhost","127.0.0.1"],jr=!(!Zo||!("withCredentials"in new Zo))||!!qi,ws=function(e){var t=I==null?void 0:I.createElement("a");return M(t)?null:(t.href=e,t)},ld=function(e,t){return!!function(n){try{new RegExp(n)}catch(r){return!1}return!0}(t)&&new RegExp(t).test(e)},fd=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Y(e,function(a,o){M(a)||M(o)||o==="undefined"||(t=encodeURIComponent(function(s){return s instanceof File}(a)?a.name:a.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},bs=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var a=r[i].split("=");if(a[0]===t){n=a;break}}if(!fe(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch(s){y.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},zr=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},de={campaignParams:function(e){var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gbraid","wbraid","fbclid","msclkid"].concat(e||[]),n={};return Y(t,function(r){var i=I?bs(I.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=I==null?void 0:I.referrer;return e?e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=de.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!De(e)){n.$search_engine=e;var r=I?bs(I.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:function(e,t,n){return t=t||"",n||U(e," OPR/")?U(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":U(e,"IEMobile")||U(e,"WPDesktop")?"Internet Explorer Mobile":U(e,"SamsungBrowser/")?"Samsung Internet":U(e,"Edge")||U(e,"Edg/")?"Microsoft Edge":U(e,"FBIOS")?"Facebook Mobile":U(e,"Chrome")?"Chrome":U(e,"CriOS")?"Chrome iOS":U(e,"UCWEB")||U(e,"UCBrowser")?"UC Browser":U(e,"FxiOS")?"Firefox iOS":U(t,"Apple")||function(r){return U(r,"Safari")&&!U(r,"Chrome")&&!U(r,"Android")}(e)?U(e,"Mobile")?"Mobile Safari":"Safari":U(e,"Android")?"Android Mobile":U(e,"Konqueror")||U(e,"konqueror")?"Konqueror":U(e,"Firefox")?"Firefox":U(e,"MSIE")||U(e,"Trident/")?"Internet Explorer":U(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[de.browser(e,t,n)];if(M(r))return null;for(var i=0;i<r.length;i++){var a=r[i],o=e.match(a);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){if(/Windows/i.test(e)){if(/Phone/.test(e)||/WPDesktop/.test(e))return{os_name:"Windows Phone",os_version:""};var t=/Windows NT ([0-9.]+)/i.exec(e);return t&&t[1]?{os_name:"Windows",os_version:t[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(e)){var n=/OS (\d+)_(\d+)_?(\d+)?/i.exec(e);return n&&n[1]?{os_name:"iOS",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(e)){var r=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(e);return r&&r[1]?{os_name:"Android",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(e))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(e)){var i=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(e);return i&&i[1]?{os_name:"Mac OS X",os_version:[i[1],i[2],i[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(e)?{os_name:"Linux",os_version:""}:/CrOS/.test(e)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)&&!/Mobile/.test(e)?"Android Tablet":/Android/.test(e)?"Android":""},deviceType:function(e){var t=this.device(e);return t==="iPad"||t==="Android Tablet"?"Tablet":t?"Mobile":"Desktop"},referrer:function(){return(I==null?void 0:I.referrer)||"$direct"},referringDomain:function(){var e;return I!=null&&I.referrer&&((e=ws(I.referrer))===null||e===void 0?void 0:e.host)||"$direct"},properties:function(){if(!ue)return{};var e=de.os(ue),t=e.os_name,n=e.os_version;return ve(Ni({$os:t,$os_version:n,$browser:de.browser(ue,navigator.vendor,ke.opera),$device:de.device(ue),$device_type:de.deviceType(ue)}),{$current_url:Dt==null?void 0:Dt.href,$host:Dt==null?void 0:Dt.host,$pathname:Dt==null?void 0:Dt.pathname,$raw_user_agent:ue.length>1e3?ue.substring(0,997)+"...":ue,$browser_version:de.browserVersion(ue,navigator.vendor,ke.opera),$browser_language:de.browserLanguage(),$screen_height:g==null?void 0:g.screen.height,$screen_width:g==null?void 0:g.screen.width,$viewport_height:g==null?void 0:g.innerHeight,$viewport_width:g==null?void 0:g.innerWidth,$lib:"web",$lib_version:tn.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:es()/1e3})},people_properties:function(){if(!ue)return{};var e=de.os(ue),t=e.os_name,n=e.os_version;return ve(Ni({$os:t,$os_version:n,$browser:de.browser(ue,navigator.vendor,ke.opera)}),{$browser_version:de.browserVersion(ue,navigator.vendor,ke.opera)})}},dd=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Qi=function(){function e(t){ee(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return te(e,[{key:"buildStorage",value:function(t){dd.indexOf(t.persistence.toLowerCase())===-1&&(y.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&le.is_supported()?le:n==="localstorage+cookie"&&ir.is_supported()?ir:n==="sessionstorage"&&me.is_supported()?me:n==="memory"?ud:n==="cookie"?lt:ir.is_supported()?ir:lt}},{key:"properties",value:function(){var t={};return Y(this.props,function(n,r){if(r===xn&&Lt(n))for(var i=Object.keys(n),a=0;a<i.length;a++)t["$feature/".concat(i[a])]=n[i[a]];else s=r,u=!1,(De(o=Zf)?u:Jo&&o.indexOf===Jo?o.indexOf(s)!=-1:(Y(o,function(l){if(u||(u=l===s))return Or}),u))||(t[r]=n);var o,s,u}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=ve({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(Lt(t)){M(n)&&(n="None"),this.expire_days=M(r)?this.default_expiry:r;var a=!1;if(Y(t,function(o,s){i.props.hasOwnProperty(s)&&i.props[s]!==n||(i.props[s]=o,a=!0)}),a)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Lt(t)){this.expire_days=M(n)?this.default_expiry:n;var i=!1;if(Y(t,function(a,o){t.hasOwnProperty(o)&&r.props[o]!==a&&(r.props[o]=a,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(de.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(de.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||de.referrer(),$referring_domain:this.props.$referring_domain||de.referringDomain()})}},{key:"get_referrer_info",value:function(){return Ni({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(t){return Y(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[nr]||{};r[t]=n,this.props[nr]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[nr]||{})[t];return M(n)||(delete this.props[nr][t],this.save()),n}},{key:"get_user_state",value:function(){return this.props[Yi]||"anonymous"}},{key:"set_user_state",value:function(t){this.props[Yi]=t,this.save()}},{key:"get_quota_limits",value:function(){return this.props[Vi]||{}}},{key:"set_quota_limits",value:function(t){this.props[Vi]=t,this.save()}}]),e}(),ks=2,hd=4,pd=te(function e(t){var n,r,i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ee(this,e),b(this,"bucketSize",100),b(this,"refillRate",10),b(this,"mutationBuckets",{}),b(this,"loggedTracker",{}),b(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),b(this,"getNodeOrRelevantParent",function(o){var s=i.rrweb.mirror.getNode(o);if((s==null?void 0:s.nodeName)!=="svg"&&s instanceof Element){var u=s.closest("svg");if(u)return[i.rrweb.mirror.getId(u),u]}return[o,s]}),b(this,"numberOfChanges",function(o){var s,u,l,f,d,h,p,v;return((s=(u=o.removes)===null||u===void 0?void 0:u.length)!==null&&s!==void 0?s:0)+((l=(f=o.attributes)===null||f===void 0?void 0:f.length)!==null&&l!==void 0?l:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(v=o.adds)===null||v===void 0?void 0:v.length)!==null&&p!==void 0?p:0)}),b(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var s=o.data,u=i.numberOfChanges(s);s.attributes&&(s.attributes=s.attributes.filter(function(f){var d,h,p,v=rt(i.getNodeOrRelevantParent(f.id),2),_=v[0],m=v[1];return i.mutationBuckets[_]===0?!1:(i.mutationBuckets[_]=(d=i.mutationBuckets[_])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[_]=Math.max(i.mutationBuckets[_]-1,0),i.mutationBuckets[_]===0&&(i.loggedTracker[_]||(i.loggedTracker[_]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,_,m))),f)}));var l=i.numberOfChanges(s);return l!==0||u===l?o:void 0}),this.rrweb=t,this.options=a,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Yr=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Yr||{}),_d={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},gd=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],vd=["/s/","/e/","/i/vo/e/"];function Ss(e,t,n,r){if(M(e)||De(e))return e;var i=(t==null?void 0:t["content-length"])||function(a){return new Blob([a]).size}(e);return Ie(i)&&(i=parseInt(i)),i>n?"[SessionReplay] ".concat(r," body too large to record (").concat(i," bytes)"):e}var md=function(e,t){var n,r,i,a=e.session_recording,o=a.recordHeaders!==!1&&t.recordHeaders,s=a.recordBody!==!1&&t.recordBody,u=a.recordPerformance!==!1&&t.recordPerformance,l=(n=a,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=Ss(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=Ss(h.responseBody,h.responseHeaders,i,"Response")),h}),f=function(h){return l(function(_){var m=ws(_.name);if(!(m&&m.pathname&&vd.includes(m.pathname)))return _}((p=h,Object.keys((v=p.requestHeaders)!==null&&v!==void 0?v:{}).forEach(function(_){var m;gd.includes(_.toLowerCase())&&((m=p.requestHeaders)===null||m===void 0||delete m[_])}),p)));var p,v},d=Ye(e.session_recording.maskNetworkRequestFn);return d&&Ye(e.session_recording.maskCapturedNetworkRequestFn)&&y.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return w(w({},h),{},{name:p==null?void 0:p.url})}),a.maskRequestFn=Ye(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,v,_,m=f(h);return m&&(p=(v=(_=e.session_recording).maskCapturedNetworkRequestFn)===null||v===void 0?void 0:v.call(_,m))!==null&&p!==void 0?p:void 0}:void 0,a.maskRequestFn||(a.maskRequestFn=f),w(w(w({},_d),a),{},{recordHeaders:o,recordBody:s,recordPerformance:u,recordInitialRequests:u})},yd="__ph_opt_in_out_";function wd(e,t){Es(!0,e,t)}function bd(e,t){Es(!1,e,t)}function kd(e,t){return Is(e,t)==="1"}function As(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||g,i=r==null?void 0:r.navigator,a=!1;return Y([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){U([!0,1,"1","yes"],o)&&(a=!0)}),a}return!1}(t)||Is(e,t)==="0"}function Sd(e,t){ea(t=t||{}).remove(ta(e,t),!!t.crossSubdomainCookie)}function ea(e){return(e=e||{}).persistenceType==="localStorage"?le:e.persistenceType==="localStorage+cookie"?ir:lt}function ta(e,t){return((t=t||{}).persistencePrefix||yd)+e}function Is(e,t){return ea(t).get(ta(e,t))}function Es(e,t,n){Ie(t)&&t.length?(ea(n=n||{}).set(ta(t,n),e?1:0,at(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):y.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function na(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,a=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=As(n,{respectDnt:r,persistenceType:i,persistencePrefix:a,window:o}))}catch(s){y.error("Unexpected error when checking capturing opt-out status: "+s)}return t}var ft,xs=3e5,Rs=xs;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(ft||(ft={}));var Ad=[ft.MouseMove,ft.MouseInteraction,ft.Scroll,ft.ViewportResize,ft.Input,ft.TouchMove,ft.MediaInteraction,ft.Drag],Ts=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Id=function(){function e(t){var n=this;if(ee(this,e),b(this,"queuedRRWebEvents",[]),b(this,"isIdle",!1),b(this,"_linkedFlagSeen",!1),b(this,"_lastActivityTimestamp",Date.now()),b(this,"windowId",null),b(this,"sessionId",null),b(this,"_linkedFlag",null),b(this,"_sampleRate",null),b(this,"_minimumDuration",null),b(this,"_forceAllowLocalhostNetworkCapture",!1),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,g==null||g.addEventListener("beforeunload",function(){n._flushBuffer()}),g==null||g.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),g==null||g.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),!this.instance.sessionManager)throw y.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return te(e,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw y.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return at(this._sampleRate)?this.instance.get_property(Wr):null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(Gi),n=!this.instance.config.disable_session_recording;return g&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(fs),n=this.instance.config.enable_recording_console_log;return n!=null?n:t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(ps);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"recordingVersion",get:function(){var t,n=this.instance.get_property(ds);return((t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recorderVersion)||n||"v1"}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(hs),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},a=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),s=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return a||o||s?{recordHeaders:a,recordBody:o,recordPerformance:s}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Ie(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":Mi(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?(this.startCaptureAndTrySendingQueuedSnapshots(),y.info("[SessionRecording] started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,y.info("[SessionRecording] stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t;if(at(this._sampleRate)){var i,a=this.isSampled;r||!Mi(a)?i=Math.random()<this._sampleRate:i=a,i||y.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),(n=this.instance.persistence)===null||n===void 0||n.register(b({},Wr,i))}else{var o;(o=this.instance.persistence)===null||o===void 0||o.register(b({},Wr,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,a,o,s,u,l,f,d,h,p=this;this.instance.persistence&&this.instance.persistence.register((b(h={},Gi,!!t.sessionRecording),b(h,fs,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),b(h,ds,(s=t.sessionRecording)===null||s===void 0?void 0:s.recorderVersion),b(h,hs,w({capturePerformance:t.capturePerformance},(u=t.sessionRecording)===null||u===void 0?void 0:u.networkPayloadCapture)),b(h,ps,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(f=t.sessionRecording)===null||f===void 0?void 0:f.canvasFps,quality:(d=t.sessionRecording)===null||d===void 0?void 0:d.canvasQuality}),h));var v=(n=t.sessionRecording)===null||n===void 0?void 0:n.sampleRate;this._sampleRate=M(v)||De(v)?null:parseFloat(v);var _,m=(r=t.sessionRecording)===null||r===void 0?void 0:r.minimumDurationMilliseconds;if(this._minimumDuration=M(m)?null:m,this._linkedFlag=((i=t.sessionRecording)===null||i===void 0?void 0:i.linkedFlag)||null,(a=t.sessionRecording)!==null&&a!==void 0&&a.endpoint&&(this._endpoint=(_=t.sessionRecording)===null||_===void 0?void 0:_.endpoint),at(this._sampleRate)&&this.sessionManager.onSessionId(function(A){p.makeSamplingDecision(A)}),Ie(this._linkedFlag)){var k=this._linkedFlag;this.instance.onFeatureFlags(function(A){p._linkedFlagSeen=A.includes(k)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:es()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var t=this;if(!M(Object.assign)&&!(this._captureStarted||this.instance.config.disable_session_recording||na(this.instance))){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var n=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?tr(this.instance.requestRouter.endpointFor("assets","/static/".concat(n,"?v=").concat(tn.LIB_VERSION)),function(r){if(r)return y.error("Could not load ".concat(n),r);t._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(t){var n;return t.type===3&&Ad.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this._isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>Rs&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:Rs}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),a=i.windowId,o=i.sessionId,s=this.sessionId!==o,u=this.windowId!==a;this.windowId=a,this.sessionId=o,(r||[ks,hd].indexOf(t.type)===-1&&(u||s))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return y.warn("[Session-Recording] could not emit queued rrweb event.",n),this.queuedRRWebEvents.length<10&&this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(Ts(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(Ts(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=g.rrweb?g.rrweb.record:g.rrwebRecord;for(var i=this.instance.config.session_recording,a=0,o=Object.entries(i||{});a<o.length;a++){var s=rt(o[a],2),u=s[0],l=s[1];u in r&&(r[u]=l)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new pd(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");y.info(p,{node:h}),n.log("[PostHog Recorder] "+p,"warn")}}),this._scheduleFullSnapshot();var f=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(w({emit:function(d){n.onRRwebEmit(d)},plugins:f},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=g?n._maskUrl(g.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){y.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:f.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else y.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},xs)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return ke.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(ke.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Ye(ke.getRecordNetworkPlugin)&&(!cd.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(ke.getRecordNetworkPlugin(md(this.instance.config,this.networkPayloadCapture))):y.info("[SessionReplay-NetworkCapture] not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Lt(t)){if(t.type===Yr.Meta){var n=this._maskUrl(t.data.href);if(!n)return;t.data.href=n}t.type===Yr.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(s){var u=s;if(u&&Lt(u)&&u.type===6&&Lt(u.data)&&u.data.plugin==="rrweb/console@1"){u.data.payload.payload.length>10&&(u.data.payload.payload=u.data.payload.payload.slice(0,10),u.data.payload.payload.push("...[truncated]"));for(var l=[],f=0;f<u.data.payload.payload.length;f++)u.data.payload.payload[f]&&u.data.payload.payload[f].length>2e3?l.push(u.data.payload.payload[f].slice(0,2e3)+"...[truncated]"):l.push(u.data.payload.payload[f]);return u.data.payload.payload=l,s}return s}(r),a=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Yr.Custom){var o={$snapshot_bytes:a,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Cr(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this._minimumDuration,r=this.sessionDuration,i=at(r)&&r>=0,a=at(n)&&i&&r<n;return this.status==="buffering"||a?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),De(this.buffer.sessionId)&&!De(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{method:"POST",_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:t.$snapshot_data.type===ks}})}}]),e}(),Ed=function(){function e(t){ee(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return te(e,[{key:"call",value:function(){var t=this,n=Bi(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Rn),group_properties:this.instance.get_property(Mt),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request(this.instance.requestRouter.endpointFor("api","/decide/?v=3"),{data:n,verbose:!0},{method:"POST"},function(r){return t.parseDecideResponse(r)})}},{key:"parseDecideResponse",value:function(t){var n,r=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(t==null?void 0:t.status)!==0){if(!I||!I.body)return y.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){r.parseDecideResponse(t)},500);this.instance.toolbar.afterDecideResponse(t),(n=this.instance.sessionRecording)===null||n===void 0||n.afterDecideResponse(t),qt.afterDecideResponse(t,this.instance),this.instance._afterDecideResponse(t),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t);var i=g==null?void 0:g.extendPostHogWithSurveys;t.surveys&&!i&&tr(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(l){if(l)return y.error("Could not load surveys script",l);g.extendPostHogWithSurveys(r.instance)});var a=g==null?void 0:g.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&M(a)&&tr(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return y.error("Could not load exception autocapture script",l);g.extendPostHogWithExceptionAutocapture(r.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var o,s=it(t.siteApps);try{var u=function(){var l=o.value,f=l.id,d=l.url,h=r.instance.requestRouter.endpointFor("api",d);ke["__$$ph_site_app_".concat(f)]=r.instance,tr(h,function(p){p&&y.error("Error while initializing PostHog app with config id ".concat(f),p)})};for(s.s();!(o=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}}else t.siteApps.length>0&&y.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else y.error("Failed to fetch feature flags from PostHog.")}}]),e}(),xd=["source"],Rd=g!=null&&g.location?zr(g.location.hash,"__posthog")||zr(location.hash,"state"):null,Td=function(){function e(t){ee(this,e),this.instance=t}return te(e,[{key:"afterDecideResponse",value:function(t){var n=t.toolbarParams||t.editorParams||(t.toolbarVersion?{toolbarVersion:t.toolbarVersion}:{});t.isAuthenticated&&n.toolbarVersion&&n.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(w({},n))}},{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!g||!I)return!1;r=(t=r)!==null&&t!==void 0?t:g.location,a=(n=a)!==null&&n!==void 0?n:g.history;try{if(!i){try{g.localStorage.setItem("test","test"),g.localStorage.removeItem("test")}catch(l){return!1}i=g==null?void 0:g.localStorage}var o,s=Rd||zr(r.hash,"__posthog")||zr(r.hash,"state"),u=s?ts(function(){return JSON.parse(atob(decodeURIComponent(s)))})||ts(function(){return JSON.parse(decodeURIComponent(s))}):null;return u&&u.action==="ph_authorize"?((o=u).source="url",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:a?a.replaceState("",I.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(l){return!1}}},{key:"loadToolbar",value:function(t){var n=this;if(!g||ke._postHogToolbarLoaded)return!1;ke._postHogToolbarLoaded=!0;var r=3e5,i=Math.floor(Date.now()/r)*r,a=this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(i)),o=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=w(w({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},o?{instrument:!1}:{});s.source;var u=Wf(s,xd);return g.localStorage.setItem("_postHogToolbarParams",JSON.stringify(u)),tr(a,function(l){l?y.error("Failed to load toolbar",l):(ke.ph_load_toolbar||ke.ph_load_editor)(s,n.instance)}),er(g,"turbolinks:load",function(){ke._postHogToolbarLoaded=!1,n.loadToolbar(s)}),!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),Ps=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;ee(this,e),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=t}return te(e,[{key:"setPollInterval",value:function(t){this._pollInterval=t,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),e}(),Pd=function(e){An(n,Ps);var t=Go(n);function n(r){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return ee(this,n),(i=t.call(this,a)).handlePollRequest=r,i}return te(n,[{key:"enqueue",value:function(r,i,a){this._event_queue.push({url:r,data:i,options:a}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var r=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(r._event_queue.length>0){var i=r.formatQueue(),a=function(s){var u=i[s],l=u.url,f=u.data,d=u.options;Y(f,function(h,p){f[p].offset=Math.abs(f[p].timestamp-r.getTime()),delete f[p].timestamp}),r.handlePollRequest(l,f,d)};for(var o in i)a(o);r._event_queue.length=0,r._empty_queue_count=0}else r._empty_queue_count++;r._empty_queue_count>4&&(r.isPolling=!1,r._empty_queue_count=0),r.isPolling&&r.poll()},this._pollInterval)}},{key:"unload",value:function(){var r=this;clearTimeout(this._poller);var i=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var a=Object.values(i);[].concat(Cr(a.filter(function(o){return o.url.indexOf("/e")===0})),Cr(a.filter(function(o){return o.url.indexOf("/e")!==0}))).map(function(o){var s=o.url,u=o.data,l=o.options;r.handlePollRequest(s,u,w(w({},l),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var r={};return Y(this._event_queue,function(i){var a=i.url,o=i.data,s=i.options,u=(s?s._batchKey:null)||a;M(r[u])&&(r[u]={data:[],url:a,options:s}),s&&r[u].options&&r[u].options._metrics&&!r[u].options._metrics.rrweb_full_snapshot&&(r[u].options._metrics.rrweb_full_snapshot=s._metrics.rrweb_full_snapshot),r[u].data.push(o)}),r}}]),n}(),Me=Uint8Array,Ee=Uint16Array,Tn=Uint32Array,ra=new Me([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ia=new Me([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$s=new Me([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cs=function(e,t){for(var n=new Ee(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Tn(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},Os=Cs(ra,2),$d=Os[0],aa=Os[1];$d[28]=258,aa[258]=28;for(var Fs=Cs(ia,0)[1],oa=new Ee(32768),X=0;X<32768;++X){var on=(43690&X)>>>1|(21845&X)<<1;on=(61680&(on=(52428&on)>>>2|(13107&on)<<2))>>>4|(3855&on)<<4,oa[X]=((65280&on)>>>8|(255&on)<<8)>>>1}var ar=function(e,t,n){for(var r=e.length,i=0,a=new Ee(t);i<r;++i)++a[e[i]-1];var o,s=new Ee(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new Ee(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],f=t-e[i],d=s[e[i]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)o[oa[d]>>>u]=l}else for(o=new Ee(r),i=0;i<r;++i)o[i]=oa[s[e[i]-1]++]>>>15-e[i];return o},sn=new Me(288);for(X=0;X<144;++X)sn[X]=8;for(X=144;X<256;++X)sn[X]=9;for(X=256;X<280;++X)sn[X]=7;for(X=280;X<288;++X)sn[X]=8;var Vr=new Me(32);for(X=0;X<32;++X)Vr[X]=5;var un,Cd=ar(sn,9,0),Od=ar(Vr,5,0),Ls=function(e){return(e/8>>0)+(7&e&&1)},Ds=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ee?Ee:e instanceof Tn?Tn:Me)(n-t);return r.set(e.subarray(t,n)),r},kt=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},or=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},sa=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return[new Me(0),0];if(i==1){var o=new Me(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(C,F){return C.f-F.f}),n.push({s:-1,f:25001});var s=n[0],u=n[1],l=0,f=1,d=2;for(n[0]={s:-1,f:s.f+u.f,l:s,r:u};f!=i-1;)s=n[n[l].f<n[d].f?l++:d++],u=n[l!=f&&n[l].f<n[d].f?l++:d++],n[f++]={s:-1,f:s.f+u.f,l:s,r:u};var h=a[0].s;for(r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Ee(h+1),v=Fd(n[f-1],p,0);if(v>t){r=0;var _=0,m=v-t,k=1<<m;for(a.sort(function(C,F){return p[F.s]-p[C.s]||C.f-F.f});r<i;++r){var A=a[r].s;if(!(p[A]>t))break;_+=k-(1<<v-p[A]),p[A]=t}for(_>>>=m;_>0;){var G=a[r].s;p[G]<t?_-=1<<t-p[G]++-1:++r}for(;r>=0&&_;--r){var x=a[r].s;p[x]==t&&(--p[x],++_)}v=t}return[new Me(p),v]},Fd=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Ms=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ee(++t),r=0,i=e[0],a=1,o=function(u){n[r++]=u},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[n.subarray(0,r),t]},sr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Kr=function(e,t,n){var r=n.length,i=Ls(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},qs=function(e,t,n,r,i,a,o,s,u,l,f){kt(t,f++,n),++i[256];for(var d=sa(i,15),h=d[0],p=d[1],v=sa(a,15),_=v[0],m=v[1],k=Ms(h),A=k[0],G=k[1],x=Ms(_),C=x[0],F=x[1],N=new Ee(19),R=0;R<A.length;++R)N[31&A[R]]++;for(R=0;R<C.length;++R)N[31&C[R]]++;for(var et=sa(N,7),Le=et[0],kn=et[1],tt=19;tt>4&&!Le[$s[tt-1]];--tt);var Ot,yt,wt,Kn,Jt=l+5<<3,Sn=sr(i,sn)+sr(a,Vr)+o,bt=sr(i,h)+sr(a,_)+o+14+3*tt+sr(N,Le)+(2*N[16]+3*N[17]+7*N[18]);if(Jt<=Sn&&Jt<=bt)return Kr(t,f,e.subarray(u,u+l));if(kt(t,f,1+(bt<Sn)),f+=2,bt<Sn){Ot=ar(h,p,0),yt=h,wt=ar(_,m,0),Kn=_;var Xt=ar(Le,kn,0);for(kt(t,f,G-257),kt(t,f+5,F-1),kt(t,f+10,tt-4),f+=14,R=0;R<tt;++R)kt(t,f+3*R,Le[$s[R]]);f+=3*tt;for(var Jn=[A,C],Pe=0;Pe<2;++Pe){var nt=Jn[Pe];for(R=0;R<nt.length;++R){var He=31&nt[R];kt(t,f,Xt[He]),f+=Le[He],He>15&&(kt(t,f,nt[R]>>>5&127),f+=nt[R]>>>12)}}}else Ot=Cd,yt=sn,wt=Od,Kn=Vr;for(R=0;R<s;++R)if(r[R]>255){He=r[R]>>>18&31,or(t,f,Ot[He+257]),f+=yt[He+257],He>7&&(kt(t,f,r[R]>>>23&31),f+=ra[He]);var Xn=31&r[R];or(t,f,wt[Xn]),f+=Kn[Xn],Xn>3&&(or(t,f,r[R]>>>5&8191),f+=ia[Xn])}else or(t,f,Ot[r[R]]),f+=yt[r[R]];return or(t,f,Ot[256]),f+yt[256]},Ld=new Tn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dd=new Me(0),Md=function(){for(var e=new Tn(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),qd=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Md[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},Nd=function(e,t,n,r,i){return function(a,o,s,u,l,f){var d=a.length,h=new Me(u+d+5*(1+Math.floor(d/7e3))+l),p=h.subarray(u,h.length-l),v=0;if(!o||d<8)for(var _=0;_<=d;_+=65535){var m=_+65535;m<d?v=Kr(p,v,a.subarray(_,m)):(p[_]=f,v=Kr(p,v,a.subarray(_,d)))}else{for(var k=Ld[o-1],A=k>>>13,G=8191&k,x=(1<<s)-1,C=new Ee(32768),F=new Ee(x+1),N=Math.ceil(s/3),R=2*N,et=function(Uo){return(a[Uo]^a[Uo+1]<<N^a[Uo+2]<<R)&x},Le=new Tn(25e3),kn=new Ee(288),tt=new Ee(32),Ot=0,yt=0,wt=(_=0,0),Kn=0,Jt=0;_<d;++_){var Sn=et(_),bt=32767&_,Xt=F[Sn];if(C[bt]=Xt,F[Sn]=bt,Kn<=_){var Jn=d-_;if((Ot>7e3||wt>24576)&&Jn>423){v=qs(a,p,0,Le,kn,tt,yt,wt,Jt,_-Jt,v),wt=Ot=yt=0,Jt=_;for(var Pe=0;Pe<286;++Pe)kn[Pe]=0;for(Pe=0;Pe<30;++Pe)tt[Pe]=0}var nt=2,He=0,Xn=G,Zt=bt-Xt&32767;if(Jn>2&&Sn==et(_-Zt))for(var tE=Math.min(A,Jn)-1,nE=Math.min(32767,_),rE=Math.min(258,Jn);Zt<=nE&&--Xn&&bt!=Xt;){if(a[_+nt]==a[_+nt-Zt]){for(var Qt=0;Qt<rE&&a[_+Qt]==a[_+Qt-Zt];++Qt);if(Qt>nt){if(nt=Qt,He=Zt,Qt>tE)break;var iE=Math.min(Zt,Qt-2),Df=0;for(Pe=0;Pe<iE;++Pe){var Wo=_-Zt+Pe+32768&32767,Mf=Wo-C[Wo]+32768&32767;Mf>Df&&(Df=Mf,Xt=Wo)}}}Zt+=(bt=Xt)-(Xt=C[bt])+32768&32767}if(He){Le[wt++]=268435456|aa[nt]<<18|Fs[He];var qf=31&aa[nt],Nf=31&Fs[He];yt+=ra[qf]+ia[Nf],++kn[257+qf],++tt[Nf],Kn=_+nt,++Ot}else Le[wt++]=a[_],++kn[a[_]]}}v=qs(a,p,f,Le,kn,tt,yt,wt,Jt,_-Jt,v),f||(v=Kr(p,v,Dd))}return Ds(h,0,u+Ls(v)+l)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},ua=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Bd=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&ua(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},Wd=function(e){return 10+(e.filename&&e.filename.length+1||0)};function Ud(e,t){t===void 0&&(t={});var n=qd(),r=e.length;n.p(e);var i=Nd(e,t,Wd(t),8),a=i.length;return Bd(i,t),ua(i,a-8,n.d()),ua(i,a-4,r),i}function Hd(e,t){var n=e.length;if(!t&&typeof TextEncoder!="undefined")return new TextEncoder().encode(e);for(var r=new Me(e.length+(e.length>>>1)),i=0,a=function(l){r[i++]=l},o=0;o<n;++o){if(i+5>r.length){var s=new Me(i+8+(n-o<<1));s.set(r),r=s}var u=e.charCodeAt(o);u<128||t?a(u):u<2048?(a(192|u>>>6),a(128|63&u)):u>55295&&u<57344?(a(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++o))>>>18),a(128|u>>>12&63),a(128|u>>>6&63),a(128|63&u)):(a(224|u>>>12),a(128|u>>>6&63),a(128|63&u))}return Ds(r,0,i)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(un||(un={}));var ca=function(e,t,n){var r=t||{};r.ip=n.ip?1:0,r._=new Date().getTime().toString(),r.ver=tn.LIB_VERSION;var i=e.split("?");if(i.length>1){var a,o=it(i[1].split("&"));try{for(o.s();!(a=o.n()).done;){var s=a.value.split("=")[0];M(r[s])||delete r[s]}}catch(l){o.e(l)}finally{o.f()}}var u=e.indexOf("?")>-1?"&":"?";return e+u+fd(r)},Jr=function e(t,n){if(n.blob&&t.buffer)return new Blob([Yo(t)?t:t.buffer],{type:"text/plain"});if(n.sendBeacon||n.blob){var r=e(t,{method:"POST"});return new Blob([r],{type:"application/x-www-form-urlencoded"})}return n.method!=="POST"?null:(i=fe(t)||Yo(t)?"data="+encodeURIComponent(t):"data="+encodeURIComponent(t.data),"compression"in t&&t.compression&&(i+="&compression="+t.compression),i);var i},Ns=function(e){if(qi&&e.options.transport==="fetch"){var t,n=Jr(e.data,e.options),r=new Headers;Y(r,function(a,o){r.append(o,a)}),e.options.method!=="POST"||e.options.blob||r.append("Content-Type","application/x-www-form-urlencoded");var i=e.url;return at(e.retriesPerformedSoFar)&&e.retriesPerformedSoFar>0&&(i=ca(i,{retry_count:e.retriesPerformedSoFar},{})),void qi(i,{method:((t=e.options)===null||t===void 0?void 0:t.method)||"GET",headers:r,keepalive:e.options.method==="POST",body:n}).then(function(a){var o=a.status;return a.text().then(function(s){var u,l;if((u=e.onResponse)===null||u===void 0||u.call(e,{statusCode:o,responseText:s}),o!==200)Ye(e.onError)&&e.onError({statusCode:o,responseText:s}),(o<400||o>500)&&e.retryQueue.enqueue(w(w({},e),{},{headers:r,retriesPerformedSoFar:(e.retriesPerformedSoFar||0)+1})),(l=e.callback)===null||l===void 0||l.call(e,{status:0});else try{var f;(f=e.callback)===null||f===void 0||f.call(e,JSON.parse(s))}catch(d){y.error(d)}})}).catch(function(a){var o;y.error(a),(o=e.callback)===null||o===void 0||o.call(e,{status:0})})}return Gd(e)},Gd=function(e){var t=e.url,n=e.data,r=e.headers,i=e.options,a=e.callback,o=e.retriesPerformedSoFar,s=e.retryQueue,u=e.onError,l=e.timeout,f=l===void 0?6e4:l,d=e.onResponse;at(o)&&o>0&&(t=ca(t,{retry_count:o},{}));var h=new XMLHttpRequest;h.open(i.method||"GET",t,!0);var p=Jr(n,i);Y(r,function(v,_){h.setRequestHeader(_,v)}),i.method!=="POST"||i.blob||h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.timeout=f,h.withCredentials=!0,h.onreadystatechange=function(){if(h.readyState===4){var v={statusCode:h.status,responseText:h.responseText};if(d==null||d(v),h.status===200){if(a){var _;try{_=JSON.parse(h.responseText)}catch(m){return void y.error(m)}a(_)}}else Ye(u)&&u(v),(h.status<400||h.status>500)&&s.enqueue({url:t,data:n,options:i,headers:r,retriesPerformedSoFar:(o||0)+1,callback:a}),a==null||a({status:0})}},h.send(p)},Pn,jd=function(e){An(n,Ps);var t=Go(n);function n(r,i){var a;return ee(this,n),(a=t.call(this)).isPolling=!1,a.queue=[],a.areWeOnline=!0,a.onRequestError=r,a.rateLimiter=i,!M(g)&&"onLine"in g.navigator&&(a.areWeOnline=g.navigator.onLine,g.addEventListener("online",function(){a._handleWeAreNowOnline()}),g.addEventListener("offline",function(){a.areWeOnline=!1})),a}return te(n,[{key:"enqueue",value:function(r){var i=r.retriesPerformedSoFar||0;if(!(i>=10)){var a=function(u){var l=3e3*Math.pow(2,u),f=l/2,d=Math.min(18e5,l),h=(Math.random()-.5)*(d-f);return Math.ceil(d+h)}(i),o=new Date(Date.now()+a);this.queue.push({retryAt:o,requestData:r});var s="Enqueued failed request for retry in ".concat(a);navigator.onLine||(s+=" (Browser is offline)"),y.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var r=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){r.areWeOnline&&r.queue.length>0&&r.flush(),r.poll()},this._pollInterval)}},{key:"flush",value:function(){var r=new Date(Date.now()),i=this.queue.filter(function(u){return u.retryAt<r});if(i.length>0){this.queue=this.queue.filter(function(u){return u.retryAt>=r});var a,o=it(i);try{for(o.s();!(a=o.n()).done;){var s=a.value.requestData;this._executeXhrRequest(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var r,i=it(this.queue);try{for(i.s();!(r=i.n()).done;){var a=r.value.requestData,o=a.url,s=a.data,u=a.options;if(this.rateLimiter.isRateLimited(u._batchKey))y.warn("[RetryQueue] is quota limited. Dropping request.");else try{g==null||g.navigator.sendBeacon(o,Jr(s,w(w({},u),{},{sendBeacon:!0})))}catch(l){y.error(l)}}}catch(l){i.e(l)}finally{i.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(r){var i=r.url,a=r.data,o=r.options,s=r.headers,u=r.callback,l=r.retriesPerformedSoFar;this.rateLimiter.isRateLimited(o._batchKey)||Ns({url:i,data:a||{},options:o||{},headers:s||{},retriesPerformedSoFar:l||0,callback:u,retryQueue:this,onError:this.onRequestError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),n}(),Xr=1800,zd=function(){function e(t,n,r,i){ee(this,e),b(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||rn,this._windowIdGenerator=i||rn;var a=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Xr;if(at(o)?o>Xr?y.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&y.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(y.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Xr),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Xr),this._window_id_storage_key="ph_"+a+"_window_id",this._primary_window_exists_storage_key="ph_"+a+"_primary_window_exists",this._canUseSessionStorage()){var s=me.parse(this._window_id_storage_key),u=me.parse(this._primary_window_exists_storage_key);s&&!u?this._windowId=s:me.remove(this._window_id_storage_key),me.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return te(e,[{key:"onSessionId",value:function(t){var n=this;return M(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&me.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&me.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?me.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(b({},Br,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Br];return fe(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;g==null||g.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&me.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=rt(this._getSessionId(),3),i=r[0],a=r[1],o=r[2],s=this._getWindowId(),u=o&&o>0&&Math.abs(n-o)>864e5,l=!1,f=!a,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;f||d||u?(a=this._sessionIdGenerator(),s=this._windowIdGenerator(),y.info("[SessionId] new session ID generated",{sessionId:a,windowId:s,changeReason:{noSessionId:f,activityTimeout:d,sessionPastMaximumLength:u}}),o=n,l=!0):s||(s=this._windowIdGenerator(),l=!0);var h=i===0||!t||u?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(s),this._setSessionId(a,h,p),l&&this._sessionIdChangedHandlers.forEach(function(v){return v(a,s)}),{sessionId:a,windowId:s,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Pn||(Pn={}));var Yd=function(){function e(t){ee(this,e),this.instance=t}return te(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){switch(this.apiHost){case"https://app.posthog.com":case"https://us.posthog.com":return Pn.US;case"https://eu.posthog.com":return Pn.EU;default:return Pn.CUSTOM}}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost)+n;if(this.region===Pn.CUSTOM)return this.apiHost+n;var r="i.posthog.com"+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),Vd=te(function e(t,n,r,i){ee(this,e),this.name="posthog-js",this.setupOnce=function(a){a(function(o){var s,u,l,f,d;if(o.level!=="error"||!t.__loaded)return o;o.tags||(o.tags={});var h=t.requestRouter.endpointFor("ui","/person/"+t.get_distinct_id());o.tags["PostHog Person URL"]=h,t.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var p=((s=o.exception)===null||s===void 0?void 0:s.values)||[],v={$exception_message:(u=p[0])===null||u===void 0?void 0:u.value,$exception_type:(l=p[0])===null||l===void 0?void 0:l.type,$exception_personURL:h,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:(f=p[0])===null||f===void 0?void 0:f.value,$sentry_exception_type:(d=p[0])===null||d===void 0?void 0:d.type,$sentry_tags:o.tags};return n&&r&&(v.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+o.event_id),t.capture("$exception",v),o})}}),Kd=function(){function e(t){var n=this;ee(this,e),b(this,"_hasSeenPageView",!1),b(this,"_updateScrollData",function(){var r,i,a,o;n._pageViewData||(n._pageViewData=n._createPageViewData());var s=n._pageViewData,u=n._scrollY(),l=n._scrollHeight(),f=n._contentY(),d=n._contentHeight();s.lastScrollY=u,s.maxScrollY=Math.max(u,(r=s.maxScrollY)!==null&&r!==void 0?r:0),s.maxScrollHeight=Math.max(l,(i=s.maxScrollHeight)!==null&&i!==void 0?i:0),s.lastContentY=f,s.maxContentY=Math.max(f,(a=s.maxContentY)!==null&&a!==void 0?a:0),s.maxContentHeight=Math.max(d,(o=s.maxContentHeight)!==null&&o!==void 0?o:0)}),this._instance=t}return te(e,[{key:"_createPageViewData",value:function(){var t;return{pathname:(t=g==null?void 0:g.location.pathname)!==null&&t!==void 0?t:""}}},{key:"doPageView",value:function(){var t,n;return this._hasSeenPageView?(n=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,n=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),w({$prev_pageview_pathname:(t=n)===null||t===void 0?void 0:t.pathname},this._calculatePrevPageScrollProperties(n))}},{key:"doPageLeave",value:function(){var t=this._pageViewData;return w({$prev_pageview_pathname:t==null?void 0:t.pathname},this._calculatePrevPageScrollProperties(t))}},{key:"_calculatePrevPageScrollProperties",value:function(t){if(!t||t.maxScrollHeight==null||t.lastScrollY==null||t.maxScrollY==null||t.maxContentHeight==null||t.lastContentY==null||t.maxContentY==null)return{};var n=t.maxScrollHeight,r=t.lastScrollY,i=t.maxScrollY,a=t.maxContentHeight,o=t.lastContentY,s=t.maxContentY;return n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),a=Math.ceil(a),o=Math.ceil(o),s=Math.ceil(s),{$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:Zr(r/n,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:n<=1?1:Zr(i/n,0,1),$prev_pageview_last_content:o,$prev_pageview_last_content_percentage:a<=1?1:Zr(o/a,0,1),$prev_pageview_max_content:s,$prev_pageview_max_content_percentage:a<=1?1:Zr(s/a,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){g==null||g.addEventListener("scroll",this._updateScrollData,!0),g==null||g.addEventListener("scrollend",this._updateScrollData,!0),g==null||g.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){g==null||g.removeEventListener("scroll",this._updateScrollData),g==null||g.removeEventListener("scrollend",this._updateScrollData),g==null||g.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollElement",value:function(){if(!this._instance.config.scroll_root_selector)return g==null?void 0:g.document.documentElement;var t,n=it(fe(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=g==null?void 0:g.document.querySelector(r);if(i)return i}}catch(a){n.e(a)}finally{n.f()}}},{key:"_scrollHeight",value:function(){var t=this._scrollElement();return t?Math.max(0,t.scrollHeight-t.clientHeight):0}},{key:"_scrollY",value:function(){if(this._instance.config.scroll_root_selector){var t=this._scrollElement();return t&&t.scrollTop||0}return g&&(g.scrollY||g.pageYOffset||g.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){var t=this._scrollElement();return(t==null?void 0:t.scrollHeight)||0}},{key:"_contentY",value:function(){var t=this._scrollElement(),n=(t==null?void 0:t.clientHeight)||0;return this._scrollY()+n}}]),e}();function Zr(e,t,n){return Math.max(t,Math.min(e,n))}var ur,la,ye,Jd={icontains:function(e){return!!g&&g.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!g&&ld(g.location.href,e)},exact:function(e){return(g==null?void 0:g.location.href)===e}},Xd=function(){function e(t){ee(this,e),this.instance=t}return te(e,[{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(zi);if(i&&!r)return t(i);this.instance._send_request(this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),{},{method:"GET"},function(a){var o,s=a.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(b({},zi,s)),t(s)})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var a=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var s,u,l,f;if(!o.conditions)return!0;var d=(s=o.conditions)===null||s===void 0||!s.url||Jd[(u=(l=o.conditions)===null||l===void 0?void 0:l.urlMatchType)!==null&&u!==void 0?u:"icontains"](o.conditions.url),h=(f=o.conditions)===null||f===void 0||!f.selector||(I==null?void 0:I.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var s=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),u=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return s&&u});return t(a)},r)}}]),e}(),Zd=function(){function e(){var t=this;ee(this,e),b(this,"limits",{}),b(this,"checkForLimiting",function(n){var r=n.responseText;if(r&&r.length)try{(JSON.parse(r).quota_limited||[]).forEach(function(i){y.info("[RateLimiter] ".concat(i||"events"," is quota limited.")),t.limits[i]=new Date().getTime()+6e4})}catch(i){return void y.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(i==null?void 0:i.message,'"'),{text:r})}})}return te(e,[{key:"isRateLimited",value:function(t){var n=this.limits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),Qd=function(){return w({initialPathName:(Dt==null?void 0:Dt.pathname)||"",referringDomain:de.referringDomain()},de.campaignParams())},eh=function(){function e(t,n,r){var i=this;ee(this,e),b(this,"_onSessionIdCallback",function(a){var o=i._getStoredProps();if(!o||o.sessionId!==a){var s={sessionId:a,props:i._sessionSourceParamGenerator()};i._persistence.register(b({},Ki,s))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Qd,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return te(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[Ki]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),th=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],Bs=function(e,t){if(!e)return!1;var n=e.toLowerCase();return th.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.includes?n.includes(i):n.indexOf(i)!==-1})};(function(e){e[e.INIT_MODULE=0]="INIT_MODULE",e[e.INIT_SNIPPET=1]="INIT_SNIPPET"})(ur||(ur={}));var fa=function(){},Qr={},$e="posthog",Ws=!jr&&(ue==null?void 0:ue.indexOf("MSIE"))===-1&&(ue==null?void 0:ue.indexOf("Mozilla"))===-1,Us=function(){var e,t,n;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=I==null?void 0:I.location,n=t==null?void 0:t.hostname,!!Ie(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",cookie_name:"",loaded:fa,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(g==null||(e=g.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.responseText;y.error(i)},get_device_id:function(r){return r},_onCapture:fa,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},da=function(e,t,n,r){var i,a=n!==$e&&ye?n?ye[n]:void 0:ye,o={initComplete:!1,syncCode:!1},s=function(u){return function(l){o[u]||(o[u]=!0,o.initComplete&&o.syncCode&&(r==null||r(l)))}};if(a&&la===ur.INIT_MODULE)i=a;else{if(a&&!fe(a))return void y.error("You have already initialized "+n);i=new ha}return i._init(e,t,n,s("initComplete")),i.toolbar.maybeLoadToolbar(),i.sessionRecording=new Id(i),i.sessionRecording.startRecordingIfEnabled(),i.config.disable_scroll_properties||i.pageViewManager.startMeasuringScrollPosition(),i.__autocapture=i.config.autocapture,qt._setIsAutocaptureEnabled(i),qt._isAutocaptureEnabled&&(i.__autocapture=i.config.autocapture,qt.enabledForProject(i.config.token,100,100)?qt.isBrowserSupported()?qt.init(i):(i.__autocapture=!1,y.info("Disabling Automatic Event Collection because this browser is not supported")):(i.__autocapture=!1,y.info("Not in active bucket: disabling Automatic Event Collection."))),tn.DEBUG=tn.DEBUG||i.config.debug,!M(a)&&fe(a)&&(i._execute_array.call(i.people,a.people),i._execute_array(a)),s("syncCode")(i),i},nh=function(){function e(){ee(this,e),b(this,"__forceAllowLocalhost",!1)}return te(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){y.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),ha=function(){function e(){var t=this;ee(this,e),b(this,"webPerformance",new nh),this.config=Us(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=Vd,this.segmentIntegration=function(){return function(n){Promise&&Promise.resolve||y.warn("This browser does not have Promise support, and can not use the segment integration");var r=function(i,a){i.event.userId||i.event.anonymousId===n.get_distinct_id()||n.reset(),i.event.userId&&i.event.userId!==n.get_distinct_id()&&(n.register({distinct_id:i.event.userId}),n.reloadFeatureFlags());var o=n._calculate_event_properties(a,i.event.properties);return i.event.properties=Object.assign({},o,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(i){return r(i,i.event.event)},page:function(i){return r(i,"$pageview")},identify:function(i){return r(i,"$identify")},screen:function(i){return r(i,"$screen")}}}(t)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.elementsChainAsString=!1,this.featureFlags=new Qf(this),this.toolbar=new Td(this),this.pageViewManager=new Kd(this),this.surveys=new Xd(this),this.rateLimiter=new Zd,this.requestRouter=new Yd(this),this.people={set:function(n,r,i){var a=Ie(n)?b({},n,r):n;t.setPersonProperties(a),i==null||i({})},set_once:function(n,r,i){var a=Ie(n)?b({},n,r):n;t.setPersonProperties(void 0,a),i==null||i({})}}}return te(e,[{key:"init",value:function(t,n,r){if(M(r))y.critical("You must name your new library: init(token, config, name)");else if(M(t)||function(a){return Ie(a)&&a.trim().length===0}(t))y.critical("You must provide a token to initialize posthog");else{if(r!==$e){var i=da(t,n,r,function(a){ye[r]=a,a._loaded()});return ye[r]=i,i}y.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(t){var n,r,i,a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var l,f={segmentRegister:!1,syncCode:!1},d=function(C){return function(){f[C]||(f[C]=!0,f.segmentRegister&&f.syncCode&&(u==null||u(a)))}};if(o.request_headers=o.request_headers||o.xhr_headers,this.set_config(ve({},Us(),o,{name:s,token:t,callback_fn:(s===$e?s:$e+"."+s)+"._jsc"})),this._jsc=function(){},(g!=null&&(n=g.rrweb)!==null&&n!==void 0&&n.record||g!=null&&g.rrwebRecord)&&(this.__loaded_recorder_version=g==null||(l=g.rrweb)===null||l===void 0?void 0:l.version),this.persistence=new Qi(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Qi(w(w({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new Pd(this._handle_queued_event.bind(this)),this._retryQueue=new jd(this.config.on_request_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new zd(this.config,this.persistence),this.sessionPropsManager=new eh(this.sessionManager,this.persistence),this._gdpr_init(),o.segment?(this.config.get_device_id=function(){return o.segment.user().anonymousId()},o.segment.user().id()&&(this.register({distinct_id:o.segment.user().id()}),this.persistence.set_user_state("identified")),o.segment.register(this.segmentIntegration()).then(d("segmentRegister"))):d("segmentRegister")(),((r=o.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var h,p,v=this.config.get_device_id(rn()),_=(h=o.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?v:o.bootstrap.distinctID;this.persistence.set_user_state((p=o.bootstrap)!==null&&p!==void 0&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:_})}if(this._hasBootstrappedFeatureFlags()){var m,k,A=Object.keys(((m=o.bootstrap)===null||m===void 0?void 0:m.featureFlags)||{}).filter(function(C){var F,N;return!((F=o.bootstrap)===null||F===void 0||(N=F.featureFlags)===null||N===void 0||!N[C])}).reduce(function(C,F){var N,R;return C[F]=((N=o.bootstrap)===null||N===void 0||(R=N.featureFlags)===null||R===void 0?void 0:R[F])||!1,C},{}),G=Object.keys(((k=o.bootstrap)===null||k===void 0?void 0:k.featureFlagPayloads)||{}).filter(function(C){return A[C]}).reduce(function(C,F){var N,R,et,Le;return(N=o.bootstrap)!==null&&N!==void 0&&(R=N.featureFlagPayloads)!==null&&R!==void 0&&R[F]&&(C[F]=(et=o.bootstrap)===null||et===void 0||(Le=et.featureFlagPayloads)===null||Le===void 0?void 0:Le[F]),C},{});this.featureFlags.receivedFeatureFlags({featureFlags:A,featureFlagPayloads:G})}if(!this.get_distinct_id()){var x=this.config.get_device_id(rn());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_user_state("anonymous")}g==null||(i=g.addEventListener)===null||i===void 0||i.call(g,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),d("syncCode")()}},{key:"_afterDecideResponse",value:function(t){var n;if(this.compression={},t.supportedCompression&&!this.config.disable_compression){var r,i={},a=it(t.supportedCompression);try{for(a.s();!(r=a.n()).done;)i[r.value]=!0}catch(o){a.e(o)}finally{a.f()}this.compression=i}(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),t.elementsChainAsString&&(this.elementsChainAsString=t.elementsChainAsString)}},{key:"_loaded",value:function(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){y.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&I&&this.capture("$pageview",{title:I.title},{send_instantly:!0}),t||(new Ed(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.poll())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||In(this.__request_queue,function(n){t._send_request.apply(t,Cr(n))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(t,n){if(M(t))return null;if(jr)return function(o){t(o,n)};var r=this._jsc,i=""+Math.floor(1e8*Math.random()),a=this.config.callback_fn+"["+i+"]";return r[i]=function(o){delete r[i],t(o,n)},a}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(t,n,r){var i=JSON.stringify(n);this.__compress_and_send_json_request(t,i,r||Qr,fa)}},{key:"__compress_and_send_json_request",value:function(t,n,r,i){var a=function(l,f,d){return l===un.GZipJS?[Ud(Hd(f),{mtime:0}),w(w({},d),{},{blob:!0,urlQueryArgs:{compression:un.GZipJS}})]:[{data:Bi(f)},d]}(this.compression[un.GZipJS]?un.GZipJS:un.Base64,n,r),o=rt(a,2),s=o[0],u=o[1];this._send_request(t,s,u,i)}},{key:"_send_request",value:function(t,n,r,i){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(r._batchKey))if(Ws)this.__request_queue.push([t,n,r,i]);else{var a={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};r=ve(a,r||{}),jr||(r.method="GET");var o=g&&"sendBeacon"in g.navigator&&r.transport==="sendBeacon";if(t=ca(t,r.urlQueryArgs||{},{ip:this.config.ip}),o)try{g==null||g.navigator.sendBeacon(t,Jr(n,w(w({},r),{},{sendBeacon:!0})))}catch(f){}else if(jr||!I)try{Ns({url:t,data:n,headers:this.config.request_headers,options:r,callback:i,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onError:this.config.on_request_error,onResponse:this.rateLimiter.checkForLimiting})}catch(f){y.error(f)}else{var s,u=I.createElement("script");u.type="text/javascript",u.async=!0,u.defer=!0,u.src=t;var l=I.getElementsByTagName("script")[0];(s=l.parentNode)===null||s===void 0||s.insertBefore(u,l)}}}},{key:"_execute_array",value:function(t){var n,r=this,i=[],a=[],o=[];In(t,function(u){u&&(n=u[0],fe(n)?o.push(u):Ye(u)?u.call(r):fe(u)&&n==="alias"?i.push(u):fe(u)&&n.indexOf("capture")!==-1&&Ye(r[n])?o.push(u):a.push(u))});var s=function(u,l){In(u,function(f){if(fe(f[0])){var d=l;Y(f,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[f[0]].apply(this,f.slice(1))},l)};s(i,this),s(a,this),s(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qr;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return y.uninitializedWarning("posthog.capture");if(!na(this)){var a=(i=i||Qr).transport;if(a&&(i.transport=a),!M(t)&&Ie(t)){if(!ue||this.config.opt_out_useragent_filter||!Bs(ue,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:rn(),event:t,properties:this._calculate_event_properties(t,n||{})};t==="$identify"&&(o.$set=i.$set,o.$set_once=i.$set_once),(o=jf(o,i._noTruncate?null:this.config.properties_string_max_length)).timestamp=i.timestamp||new Date;var s=w(w({},o.properties.$set),o.$set);(function(d){if(Lt(d)){for(var h in d)if(zo.call(d,h))return!1;return!0}return!1})(s)||this.setPersonPropertiesForFlags(s),y.info("send",o);var u=JSON.stringify(o),l=(r=i._url)!==null&&r!==void 0?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),f=i!==Qr;return!this.config.request_batching||f&&!i._batchKey||i.send_instantly?this.__compress_and_send_json_request(l,u,i):this._requestQueue.enqueue(l,o,i),this._invokeCaptureHooks(t,o),o}}else y.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(t){this.__captureHooks.push(t)}},{key:"_invokeCaptureHooks",value:function(t,n){this.config._onCapture(t,n),Y(this.__captureHooks,function(r){return r(t)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=w({},n);if(i.token=this.config.token,t==="$snapshot"){var a=w(w({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=a.distinct_id,i}var o=de.properties();if(this.sessionManager){var s=this.sessionManager.checkAndGetSessionAndWindowId(),u=s.sessionId,l=s.windowId;i.$session_id=u,i.$window_id=l}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var f=this.sessionPropsManager.getSessionProps();i=ve(i,f)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=ve(i,d)}if(t==="$pageview"&&I&&(i.title=I.title),t==="$performance_event"){var h=this.persistence.properties();return i.distinct_id=h.distinct_id,i.$current_url=o.$current_url,i}if(!M(r)){var p=new Date().getTime()-r;i.$duration=parseFloat((p/1e3).toFixed(3))}ue&&this.config.opt_out_useragent_filter&&(i.$browser_type=Bs(ue,this.config.custom_blocked_useragents)?"bot":"browser"),i=ve({},de.properties(),this.persistence.properties(),this.sessionPersistence.properties(),i);var v=this.config.property_blacklist;fe(v)?Y(v,function(m){delete i[m]}):y.error("Invalid value for property_blacklist config: "+v);var _=this.config.sanitize_properties;return _&&(i=_(i,t)),i}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(b({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch(r){return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return y.uninitializedWarning("posthog.identify");if(at(t)&&(t=t.toString(),y.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))y.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else{var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==i&&t!==this.get_property(Nr)&&(this.unregister(Nr),this.register({distinct_id:t}));var o=this.persistence.get_user_state()==="anonymous";t!==i&&o?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Ur))}else y.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:w(w({},i),{},b({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(b({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}else y.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,a;if(!this.__loaded)return y.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_user_state("anonymous"),(a=this.sessionManager)===null||a===void 0||a.resetSessionId();var s=this.config.get_device_id(rn());this.register_once({distinct_id:s,$device_id:t?s:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,a=this.requestRouter.endpointFor("ui","/replay/"+r);if(t!=null&&t.withTimestamp&&i){var o,s=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return a;var u=Math.max(Math.floor((new Date().getTime()-i)/1e3)-s,0);a+="?t=".concat(u)}return a}},{key:"alias",value:function(t,n){return t===this.get_property(cs)?(y.critical("Attempting to create alias for existing People user - aborting."),-2):(M(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Nr,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(y.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1))}},{key:"set_config",value:function(t){var n,r=w({},this.config);if(Lt(t)&&(ve(this.config,t),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),(n=this.persistence)===null||n===void 0||n.update_config(this.config,r),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Qi(w(w({},this.config),{},{persistence:"sessionStorage"})),le.is_supported()&&le.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(tn.DEBUG=!0),this.sessionRecording&&!M(t.disable_session_recording))){var i=r.disable_session_recording!==t.disable_session_recording,a=!na(this)&&!t.disable_session_recording&&!this.sessionRecording.started;(i||a)&&(t.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled())}}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:$e;return n!==$e&&(n=$e+"."+n),n}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&le.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!lt.get("ph_optout")||(lt.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,a,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(a=this.persistence)===null||a===void 0||a.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=ve({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),le.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=ve({enable_persistence:!0},t||{}),this._gdpr_call_func(wd,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=ve({clear_persistence:!0},t||{});this._gdpr_call_func(bd,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(kd,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(As,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=ve({enable_persistence:!0},t!=null?t:{});this._gdpr_call_func(Sd,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(g==null||g.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(g==null||g.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=ns(e.prototype[t[n]])})(ha,["identify"]);var Hs,Gs,Nt={},rh=function(){ye.init=function(e,t,n){if(n)return ye[n]||(ye[n]=Nt[n]=da(e||"",t||{},n,function(i){ye[n]=Nt[n]=i,i._loaded()})),ye[n];var r=ye;return Nt[$e]?r=Nt[$e]:e&&(r=da(e,t||{},$e,function(i){Nt[$e]=i,i._loaded()}),Nt[$e]=r),ye=r,la===ur.INIT_SNIPPET&&(ke[$e]=ye),Y(Nt,function(i,a){a!==$e&&(ye[a]=i)}),r}};(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(Hs||(Hs={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(Gs||(Gs={}));var ei=(la=ur.INIT_MODULE,ye=new ha,rh(),ye.init(),function(){function e(){e.done||(e.done=!0,Ws=!1,Y(Nt,function(t){t._dom_loaded()}))}I!=null&&I.addEventListener&&(I.readyState==="complete"?e():I.addEventListener("DOMContentLoaded",e,!1)),g&&er(g,"load",e,!0)}(),ye);let $n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const ie=(...e)=>{try{new URL(location.href).searchParams.get("debug")==="zalify"&&localStorage.setItem("zalify-debug","true"),localStorage.getItem("zalify-debug")==="true"&&console.log(...e)}catch(t){}};function Se(e){const t=e+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){const i=n[r].trim();if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""}function St(e,t,n=365*86400){try{const r=new Date;r.setTime(r.getTime()+n*1e3);const i="expires="+r.toUTCString(),a=ih(location.origin),o="domain="+a;document.cookie=e+"="+t+";"+i+";"+o+""}catch(r){ie(r)}}function ih(e){var n;let t=(n=e.match(/(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n]+)/im))==null?void 0:n[1];if(!t)return e;if(t.split(".").length>2){const r=t.split(".");t=r.slice(r.length-2).join(".")}return t}const ah=()=>{const e=$n();return localStorage.setItem("zalify_analytics_cart_id",e),St("zalify_analytics_cart_id",e),e},cr=()=>{const e=localStorage.getItem("zalify_refresh_cart_time")||Se("zalify_refresh_cart_time");e&&new Date().getTime()-Number(e)/1e3>10&&(localStorage.removeItem("zalify_analytics_cart_id"),localStorage.removeItem("zalify_refresh_cart_time"),St("zalify_analytics_cart_id","",-1e3),St("zalify_refresh_cart_time","",-1e3));let t=localStorage.getItem("zalify_analytics_cart_id");if(t)return St("zalify_analytics_cart_id",t),t;const n=Se("zalify_analytics_cart_id");return n?(localStorage.setItem("zalify_analytics_cart_id",n),n):ah()},oh=`zalify_utm_params_${cr()}`,js=()=>{try{return JSON.parse(localStorage.getItem(oh)||"{}")}catch(e){return{}}};function At(e){let t=localStorage.getItem("USER_SESSION_ID");if(!t){const n=Se("USER_SESSION_ID");if(n)return localStorage.setItem("USER_SESSION_ID",n),n;if(e)return localStorage.setItem("USER_SESSION_ID",e),St("USER_SESSION_ID",e),e;t=$n(),localStorage.setItem("USER_SESSION_ID",t),St("USER_SESSION_ID",t)}return St("USER_SESSION_ID",t),t}const sh=30*60*1e3;function pa(){const e=+new Date;let t=null;try{let n=localStorage.getItem("zalify_analytics_visit_id");n||(n=Se("zalify_analytics_visit_id")),t=JSON.parse(n)}catch(n){}return(!t||e-t.updatedAt>sh)&&(t={vid:$n(),updatedAt:e}),t.updatedAt=e,localStorage.setItem("zalify_analytics_visit_id",JSON.stringify(t)),St("zalify_analytics_visit_id",JSON.stringify(t)),t.vid}const Cn="HAS_ADD_TO_CART_KEY",_a="HAS_BEGIN_CHECKOUT_KEY",ga="SERVER_HAS_BEGIN_CHECKOUT_KEY",zs="popup_current_cart",va="popup_crypto_user_key",Ys="prize_wheel_index_key",uh="PIXEL_SESSION_HAS_DONE_KEY",Vs="cltdz5y98059yqq22mf3i33x2",Ks="0.1.0",ch=()=>se(this,null,function*(){ei.init("phc_jQUrwC0HfPRuKBLHY7gtNw9jfVpbT08eoEz8D4zNMSs",{api_host:"https://pixels.zalify.com",advanced_disable_decide:!0,autocapture:!1,capture_pageview:!1,capture_pageleave:!1,capture_performance:!1,disable_session_recording:!0,disable_compression:!0,persistence:"localStorage+cookie",persistence_name:"zalify_posthog_info"}),window.zalifyCapture=(e,t,n)=>{const r={workspaceId:window.zalifyWorkspaceId,clientId:At(),cartId:cr(),visitId:pa(),cartToken:Se("cart"),version:Ks,$geoip_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone};return ei.capture(e,K(K(K({},js()),r),t),K({_url:"https://pixels.zalify.com/api/events",transport:"sendBeacon"},n))}}),ma=()=>"https://app.zalify.com";var Js=typeof global=="object"&&global&&global.Object===Object&&global,lh=typeof self=="object"&&self&&self.Object===Object&&self,_e=Js||lh||Function("return this")(),Ae=_e.Symbol,Xs=Object.prototype,fh=Xs.hasOwnProperty,dh=Xs.toString,lr=Ae?Ae.toStringTag:void 0;function hh(e){var t=fh.call(e,lr),n=e[lr];try{e[lr]=void 0;var r=!0}catch(a){}var i=dh.call(e);return r&&(t?e[lr]=n:delete e[lr]),i}var ph=Object.prototype,_h=ph.toString;function gh(e){return _h.call(e)}var vh="[object Null]",mh="[object Undefined]",Zs=Ae?Ae.toStringTag:void 0;function xe(e){return e==null?e===void 0?mh:vh:Zs&&Zs in Object(e)?hh(e):gh(e)}function ae(e){return e!=null&&typeof e=="object"}var yh="[object Symbol]";function qe(e){return typeof e=="symbol"||ae(e)&&xe(e)==yh}var wh=0/0;function Qs(e){return typeof e=="number"?e:qe(e)?wh:+e}function ne(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var $=Array.isArray,bh=1/0,eu=Ae?Ae.prototype:void 0,tu=eu?eu.toString:void 0;function Ne(e){if(typeof e=="string")return e;if($(e))return ne(e,Ne)+"";if(qe(e))return tu?tu.call(e):"";var t=e+"";return t=="0"&&1/e==-bh?"-0":t}function ti(e,t){return function(n,r){var i;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=Ne(n),r=Ne(r)):(n=Qs(n),r=Qs(r)),i=e(n,r)}return i}}var kh=ti(function(e,t){return e+t},0),Sh=/\s/;function nu(e){for(var t=e.length;t--&&Sh.test(e.charAt(t)););return t}var Ah=/^\s+/;function ru(e){return e&&e.slice(0,nu(e)+1).replace(Ah,"")}function re(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var iu=0/0,Ih=/^[-+]0x[0-9a-f]+$/i,Eh=/^0b[01]+$/i,xh=/^0o[0-7]+$/i,Rh=parseInt;function Ve(e){if(typeof e=="number")return e;if(qe(e))return iu;if(re(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=re(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ru(e);var n=Eh.test(e);return n||xh.test(e)?Rh(e.slice(2),n?2:8):Ih.test(e)?iu:+e}var au=1/0,Th=17976931348623157e292;function It(e){if(!e)return e===0?e:0;if(e=Ve(e),e===au||e===-au){var t=e<0?-1:1;return t*Th}return e===e?e:0}function O(e){var t=It(e),n=t%1;return t===t?n?t-n:t:0}var Ph="Expected a function";function $h(e,t){if(typeof t!="function")throw new TypeError(Ph);return e=O(e),function(){if(--e<1)return t.apply(this,arguments)}}function we(e){return e}var Ch="[object AsyncFunction]",Oh="[object Function]",Fh="[object GeneratorFunction]",Lh="[object Proxy]";function Et(e){if(!re(e))return!1;var t=xe(e);return t==Oh||t==Fh||t==Ch||t==Lh}var ni=_e["__core-js_shared__"],ou=function(){var e=/[^.]+$/.exec(ni&&ni.keys&&ni.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dh(e){return!!ou&&ou in e}var Mh=Function.prototype,qh=Mh.toString;function cn(e){if(e!=null){try{return qh.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Nh=/[\\^$.*+?()[\]{}|]/g,Bh=/^\[object .+?Constructor\]$/,Wh=Function.prototype,Uh=Object.prototype,Hh=Wh.toString,Gh=Uh.hasOwnProperty,jh=RegExp("^"+Hh.call(Gh).replace(Nh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function su(e){if(!re(e)||Dh(e))return!1;var t=Et(e)?jh:Bh;return t.test(cn(e))}function zh(e,t){return e==null?void 0:e[t]}function ln(e,t){var n=zh(e,t);return su(n)?n:void 0}var fr=ln(_e,"WeakMap"),ri=fr&&new fr,uu=ri?function(e,t){return ri.set(e,t),e}:we,cu=Object.create,On=function(){function e(){}return function(t){if(!re(t))return{};if(cu)return cu(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function dr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return re(r)?r:n}}var Yh=1;function Vh(e,t,n){var r=t&Yh,i=dr(e);function a(){var o=this&&this!==_e&&this instanceof a?i:e;return o.apply(r?n:this,arguments)}return a}function Be(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Kh=Math.max;function lu(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,u=t.length,l=Kh(a-o,0),f=Array(u+l),d=!r;++s<u;)f[s]=t[s];for(;++i<o;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}var Jh=Math.max;function fu(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,u=-1,l=t.length,f=Jh(a-s,0),d=Array(f+l),h=!r;++i<f;)d[i]=e[i];for(var p=i;++u<l;)d[p+u]=t[u];for(;++o<s;)(h||i<a)&&(d[p+n[o]]=e[i++]);return d}function Xh(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function ii(){}var Zh=4294967295;function q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Zh,this.__views__=[]}q.prototype=On(ii.prototype),q.prototype.constructor=q;function ya(){}var wa=ri?function(e){return ri.get(e)}:ya,Fn={},Qh=Object.prototype,ep=Qh.hasOwnProperty;function ai(e){for(var t=e.name+"",n=Fn[t],r=ep.call(Fn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(a==null||a==e)return i.name}return t}function Ke(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ke.prototype=On(ii.prototype),Ke.prototype.constructor=Ke;function Ce(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function du(e){if(e instanceof q)return e.clone();var t=new Ke(e.__wrapped__,e.__chain__);return t.__actions__=Ce(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var tp=Object.prototype,np=tp.hasOwnProperty;function c(e){if(ae(e)&&!$(e)&&!(e instanceof q)){if(e instanceof Ke)return e;if(np.call(e,"__wrapped__"))return du(e)}return new Ke(e)}c.prototype=ii.prototype,c.prototype.constructor=c;function ba(e){var t=ai(e),n=c[t];if(typeof n!="function"||!(t in q.prototype))return!1;if(e===n)return!0;var r=wa(n);return!!r&&e===r[0]}var rp=800,ip=16,ap=Date.now;function hu(e){var t=0,n=0;return function(){var r=ap(),i=ip-(r-n);if(n=r,i>0){if(++t>=rp)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pu=hu(uu),op=/\{\n\/\* \[wrapped with (.+)\] \*/,sp=/,? & /;function up(e){var t=e.match(op);return t?t[1].split(sp):[]}var cp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function lp(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(cp,`{
/* [wrapped with `+t+`] */
`)}function ka(e){return function(){return e}}var oi=function(){try{var e=ln(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),fp=oi?function(e,t){return oi(e,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:we,Sa=hu(fp);function Je(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function si(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function _u(e){return e!==e}function dp(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Ln(e,t,n){return t===t?dp(e,t,n):si(e,_u,n)}function ui(e,t){var n=e==null?0:e.length;return!!n&&Ln(e,t,0)>-1}var hp=1,pp=2,_p=8,gp=16,vp=32,mp=64,yp=128,wp=256,bp=512,kp=[["ary",yp],["bind",hp],["bindKey",pp],["curry",_p],["curryRight",gp],["flip",bp],["partial",vp],["partialRight",mp],["rearg",wp]];function Sp(e,t){return Je(kp,function(n){var r="_."+n[0];t&n[1]&&!ui(e,r)&&e.push(r)}),e.sort()}function gu(e,t,n){var r=t+"";return Sa(e,lp(r,Sp(up(r),n)))}var Ap=1,Ip=2,Ep=4,xp=8,vu=32,mu=64;function yu(e,t,n,r,i,a,o,s,u,l){var f=t&xp,d=f?o:void 0,h=f?void 0:o,p=f?a:void 0,v=f?void 0:a;t|=f?vu:mu,t&=~(f?mu:vu),t&Ep||(t&=~(Ap|Ip));var _=[e,t,i,p,d,v,h,s,u,l],m=n.apply(void 0,_);return ba(e)&&pu(m,_),m.placeholder=r,gu(m,e,t)}function Dn(e){var t=e;return t.placeholder}var Rp=9007199254740991,Tp=/^(?:0|[1-9]\d*)$/;function xt(e,t){var n=typeof e;return t=t==null?Rp:t,!!t&&(n=="number"||n!="symbol"&&Tp.test(e))&&e>-1&&e%1==0&&e<t}var Pp=Math.min;function $p(e,t){for(var n=e.length,r=Pp(t.length,n),i=Ce(e);r--;){var a=t[r];e[r]=xt(a,n)?i[a]:void 0}return e}var wu="__lodash_placeholder__";function Bt(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];(o===t||o===wu)&&(e[n]=wu,a[i++]=n)}return a}var Cp=1,Op=2,Fp=8,Lp=16,Dp=128,Mp=512;function ci(e,t,n,r,i,a,o,s,u,l){var f=t&Dp,d=t&Cp,h=t&Op,p=t&(Fp|Lp),v=t&Mp,_=h?void 0:dr(e);function m(){for(var k=arguments.length,A=Array(k),G=k;G--;)A[G]=arguments[G];if(p)var x=Dn(m),C=Xh(A,x);if(r&&(A=lu(A,r,i,p)),a&&(A=fu(A,a,o,p)),k-=C,p&&k<l){var F=Bt(A,x);return yu(e,t,ci,m.placeholder,n,A,F,s,u,l-k)}var N=d?n:this,R=h?N[e]:e;return k=A.length,s?A=$p(A,s):v&&k>1&&A.reverse(),f&&u<k&&(A.length=u),this&&this!==_e&&this instanceof m&&(R=_||dr(R)),R.apply(N,A)}return m}function qp(e,t,n){var r=dr(e);function i(){for(var a=arguments.length,o=Array(a),s=a,u=Dn(i);s--;)o[s]=arguments[s];var l=a<3&&o[0]!==u&&o[a-1]!==u?[]:Bt(o,u);if(a-=l.length,a<n)return yu(e,t,ci,i.placeholder,void 0,o,l,void 0,void 0,n-a);var f=this&&this!==_e&&this instanceof i?r:e;return Be(f,this,o)}return i}var Np=1;function Bp(e,t,n,r){var i=t&Np,a=dr(e);function o(){for(var s=-1,u=arguments.length,l=-1,f=r.length,d=Array(f+u),h=this&&this!==_e&&this instanceof o?a:e;++l<f;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return Be(h,i?n:this,d)}return o}var bu="__lodash_placeholder__",Aa=1,Wp=2,Up=4,ku=8,hr=128,Su=256,Hp=Math.min;function Gp(e,t){var n=e[1],r=t[1],i=n|r,a=i<(Aa|Wp|hr),o=r==hr&&n==ku||r==hr&&n==Su&&e[7].length<=t[8]||r==(hr|Su)&&t[7].length<=t[8]&&n==ku;if(!(a||o))return e;r&Aa&&(e[2]=t[2],i|=n&Aa?0:Up);var s=t[3];if(s){var u=e[3];e[3]=u?lu(u,s,t[4]):s,e[4]=u?Bt(e[3],bu):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?fu(u,s,t[6]):s,e[6]=u?Bt(e[5],bu):t[6]),s=t[7],s&&(e[7]=s),r&hr&&(e[8]=e[8]==null?t[8]:Hp(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var jp="Expected a function",Au=1,zp=2,Ia=8,Ea=16,xa=32,Iu=64,Eu=Math.max;function Rt(e,t,n,r,i,a,o,s){var u=t&zp;if(!u&&typeof e!="function")throw new TypeError(jp);var l=r?r.length:0;if(l||(t&=~(xa|Iu),r=i=void 0),o=o===void 0?o:Eu(O(o),0),s=s===void 0?s:O(s),l-=i?i.length:0,t&Iu){var f=r,d=i;r=i=void 0}var h=u?void 0:wa(e),p=[e,t,n,r,i,f,d,a,o,s];if(h&&Gp(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=p[9]===void 0?u?0:e.length:Eu(p[9]-l,0),!s&&t&(Ia|Ea)&&(t&=~(Ia|Ea)),!t||t==Au)var v=Vh(e,t,n);else t==Ia||t==Ea?v=qp(e,t,s):(t==xa||t==(Au|xa))&&!i.length?v=Bp(e,t,n,r):v=ci.apply(void 0,p);var _=h?uu:pu;return gu(_(v,p),e,t)}var Yp=128;function xu(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,Rt(e,Yp,void 0,void 0,void 0,void 0,t)}function Tt(e,t,n){t=="__proto__"&&oi?oi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ot(e,t){return e===t||e!==e&&t!==t}var Vp=Object.prototype,Kp=Vp.hasOwnProperty;function pr(e,t,n){var r=e[t];(!(Kp.call(e,t)&&ot(r,n))||n===void 0&&!(t in e))&&Tt(e,t,n)}function dt(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;u===void 0&&(u=e[s]),i?Tt(n,s,u):pr(n,s,u)}return n}var Ru=Math.max;function Tu(e,t,n){return t=Ru(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Ru(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Be(e,this,s)}}function L(e,t){return Sa(Tu(e,t,we),e+"")}var Jp=9007199254740991;function li(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jp}function Oe(e){return e!=null&&li(e.length)&&!Et(e)}function Re(e,t,n){if(!re(n))return!1;var r=typeof t;return(r=="number"?Oe(n)&&xt(t,n.length):r=="string"&&t in n)?ot(n[t],e):!1}function Mn(e){return L(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&Re(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var Xp=Object.prototype;function _r(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xp;return e===n}function Ra(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Zp="[object Arguments]";function Pu(e){return ae(e)&&xe(e)==Zp}var $u=Object.prototype,Qp=$u.hasOwnProperty,e_=$u.propertyIsEnumerable,fn=Pu(function(){return arguments}())?Pu:function(e){return ae(e)&&Qp.call(e,"callee")&&!e_.call(e,"callee")};function Ta(){return!1}var Cu=typeof Ge=="object"&&Ge&&!Ge.nodeType&&Ge,Ou=Cu&&typeof je=="object"&&je&&!je.nodeType&&je,t_=Ou&&Ou.exports===Cu,Fu=t_?_e.Buffer:void 0,n_=Fu?Fu.isBuffer:void 0,Wt=n_||Ta,r_="[object Arguments]",i_="[object Array]",a_="[object Boolean]",o_="[object Date]",s_="[object Error]",u_="[object Function]",c_="[object Map]",l_="[object Number]",f_="[object Object]",d_="[object RegExp]",h_="[object Set]",p_="[object String]",__="[object WeakMap]",g_="[object ArrayBuffer]",v_="[object DataView]",m_="[object Float32Array]",y_="[object Float64Array]",w_="[object Int8Array]",b_="[object Int16Array]",k_="[object Int32Array]",S_="[object Uint8Array]",A_="[object Uint8ClampedArray]",I_="[object Uint16Array]",E_="[object Uint32Array]",Z={};Z[m_]=Z[y_]=Z[w_]=Z[b_]=Z[k_]=Z[S_]=Z[A_]=Z[I_]=Z[E_]=!0,Z[r_]=Z[i_]=Z[g_]=Z[a_]=Z[v_]=Z[o_]=Z[s_]=Z[u_]=Z[c_]=Z[l_]=Z[f_]=Z[d_]=Z[h_]=Z[p_]=Z[__]=!1;function x_(e){return ae(e)&&li(e.length)&&!!Z[xe(e)]}function We(e){return function(t){return e(t)}}var Lu=typeof Ge=="object"&&Ge&&!Ge.nodeType&&Ge,gr=Lu&&typeof je=="object"&&je&&!je.nodeType&&je,R_=gr&&gr.exports===Lu,Pa=R_&&Js.process,Xe=function(){try{var e=gr&&gr.require&&gr.require("util").types;return e||Pa&&Pa.binding&&Pa.binding("util")}catch(t){}}(),Du=Xe&&Xe.isTypedArray,qn=Du?We(Du):x_,T_=Object.prototype,P_=T_.hasOwnProperty;function Mu(e,t){var n=$(e),r=!n&&fn(e),i=!n&&!r&&Wt(e),a=!n&&!r&&!i&&qn(e),o=n||r||i||a,s=o?Ra(e.length,String):[],u=s.length;for(var l in e)(t||P_.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||xt(l,u)))&&s.push(l);return s}function qu(e,t){return function(n){return e(t(n))}}var $_=qu(Object.keys,Object),C_=Object.prototype,O_=C_.hasOwnProperty;function $a(e){if(!_r(e))return $_(e);var t=[];for(var n in Object(e))O_.call(e,n)&&n!="constructor"&&t.push(n);return t}function he(e){return Oe(e)?Mu(e):$a(e)}var F_=Object.prototype,L_=F_.hasOwnProperty,D_=Mn(function(e,t){if(_r(t)||Oe(t)){dt(t,he(t),e);return}for(var n in t)L_.call(t,n)&&pr(e,n,t[n])});function M_(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var q_=Object.prototype,N_=q_.hasOwnProperty;function B_(e){if(!re(e))return M_(e);var t=_r(e),n=[];for(var r in e)r=="constructor"&&(t||!N_.call(e,r))||n.push(r);return n}function Fe(e){return Oe(e)?Mu(e,!0):B_(e)}var Nu=Mn(function(e,t){dt(t,Fe(t),e)}),fi=Mn(function(e,t,n,r){dt(t,Fe(t),e,r)}),W_=Mn(function(e,t,n,r){dt(t,he(t),e,r)}),U_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H_=/^\w*$/;function Ca(e,t){if($(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||qe(e)?!0:H_.test(e)||!U_.test(e)||t!=null&&e in Object(t)}var vr=ln(Object,"create");function G_(){this.__data__=vr?vr(null):{},this.size=0}function j_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var z_="__lodash_hash_undefined__",Y_=Object.prototype,V_=Y_.hasOwnProperty;function K_(e){var t=this.__data__;if(vr){var n=t[e];return n===z_?void 0:n}return V_.call(t,e)?t[e]:void 0}var J_=Object.prototype,X_=J_.hasOwnProperty;function Z_(e){var t=this.__data__;return vr?t[e]!==void 0:X_.call(t,e)}var Q_="__lodash_hash_undefined__";function eg(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vr&&t===void 0?Q_:t,this}function dn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dn.prototype.clear=G_,dn.prototype.delete=j_,dn.prototype.get=K_,dn.prototype.has=Z_,dn.prototype.set=eg;function tg(){this.__data__=[],this.size=0}function di(e,t){for(var n=e.length;n--;)if(ot(e[n][0],t))return n;return-1}var ng=Array.prototype,rg=ng.splice;function ig(e){var t=this.__data__,n=di(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rg.call(t,n,1),--this.size,!0}function ag(e){var t=this.__data__,n=di(t,e);return n<0?void 0:t[n][1]}function og(e){return di(this.__data__,e)>-1}function sg(e,t){var n=this.__data__,r=di(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pt.prototype.clear=tg,Pt.prototype.delete=ig,Pt.prototype.get=ag,Pt.prototype.has=og,Pt.prototype.set=sg;var mr=ln(_e,"Map");function ug(){this.size=0,this.__data__={hash:new dn,map:new(mr||Pt),string:new dn}}function cg(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hi(e,t){var n=e.__data__;return cg(t)?n[typeof t=="string"?"string":"hash"]:n.map}function lg(e){var t=hi(this,e).delete(e);return this.size-=t?1:0,t}function fg(e){return hi(this,e).get(e)}function dg(e){return hi(this,e).has(e)}function hg(e,t){var n=hi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function $t(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$t.prototype.clear=ug,$t.prototype.delete=lg,$t.prototype.get=fg,$t.prototype.has=dg,$t.prototype.set=hg;var pg="Expected a function";function pi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pg);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(pi.Cache||$t),n}pi.Cache=$t;var _g=500;function gg(e){var t=pi(e,function(r){return n.size===_g&&n.clear(),r}),n=t.cache;return t}var vg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mg=/\\(\\)?/g,Bu=gg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vg,function(n,r,i,a){t.push(i?a.replace(mg,"$1"):r||n)}),t});function j(e){return e==null?"":Ne(e)}function Ut(e,t){return $(e)?e:Ca(e,t)?[e]:Bu(j(e))}var yg=1/0;function ht(e){if(typeof e=="string"||qe(e))return e;var t=e+"";return t=="0"&&1/e==-yg?"-0":t}function hn(e,t){t=Ut(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ht(t[n++])];return n&&n==r?e:void 0}function D(e,t,n){var r=e==null?void 0:hn(e,t);return r===void 0?n:r}function Oa(e,t){for(var n=-1,r=t.length,i=Array(r),a=e==null;++n<r;)i[n]=a?void 0:D(e,t[n]);return i}function Ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Wu=Ae?Ae.isConcatSpreadable:void 0;function wg(e){return $(e)||fn(e)||!!(Wu&&e&&e[Wu])}function be(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=wg),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?be(s,t-1,n,r,i):Ht(i,s):r||(i[i.length]=s)}return i}function Uu(e){var t=e==null?0:e.length;return t?be(e,1):[]}function Ct(e){return Sa(Tu(e,void 0,Uu),e+"")}var bg=Ct(Oa),_i=qu(Object.getPrototypeOf,Object),kg="[object Object]",Sg=Function.prototype,Ag=Object.prototype,Hu=Sg.toString,Ig=Ag.hasOwnProperty,Eg=Hu.call(Object);function yr(e){if(!ae(e)||xe(e)!=kg)return!1;var t=_i(e);if(t===null)return!0;var n=Ig.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Hu.call(n)==Eg}var xg="[object DOMException]",Rg="[object Error]";function Fa(e){if(!ae(e))return!1;var t=xe(e);return t==Rg||t==xg||typeof e.message=="string"&&typeof e.name=="string"&&!yr(e)}var Gu=L(function(e,t){try{return Be(e,void 0,t)}catch(n){return Fa(n)?n:new Error(n)}}),Tg="Expected a function";function ju(e,t){var n;if(typeof t!="function")throw new TypeError(Tg);return e=O(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var Pg=1,$g=32,gi=L(function(e,t,n){var r=Pg;if(n.length){var i=Bt(n,Dn(gi));r|=$g}return Rt(e,r,t,n,i)});gi.placeholder={};var Cg=Ct(function(e,t){return Je(t,function(n){n=ht(n),Tt(e,n,gi(e[n],e))}),e}),Og=1,Fg=2,Lg=32,La=L(function(e,t,n){var r=Og|Fg;if(n.length){var i=Bt(n,Dn(La));r|=Lg}return Rt(t,r,e,n,i)});La.placeholder={};function Ze(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function Gt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Ze(e,t,n)}var Dg="\\ud800-\\udfff",Mg="\\u0300-\\u036f",qg="\\ufe20-\\ufe2f",Ng="\\u20d0-\\u20ff",Bg=Mg+qg+Ng,Wg="\\ufe0e\\ufe0f",Ug="\\u200d",Hg=RegExp("["+Ug+Dg+Bg+Wg+"]");function Nn(e){return Hg.test(e)}function Gg(e){return e.split("")}var zu="\\ud800-\\udfff",jg="\\u0300-\\u036f",zg="\\ufe20-\\ufe2f",Yg="\\u20d0-\\u20ff",Vg=jg+zg+Yg,Kg="\\ufe0e\\ufe0f",Jg="["+zu+"]",Da="["+Vg+"]",Ma="\\ud83c[\\udffb-\\udfff]",Xg="(?:"+Da+"|"+Ma+")",Yu="[^"+zu+"]",Vu="(?:\\ud83c[\\udde6-\\uddff]){2}",Ku="[\\ud800-\\udbff][\\udc00-\\udfff]",Zg="\\u200d",Ju=Xg+"?",Xu="["+Kg+"]?",Qg="(?:"+Zg+"(?:"+[Yu,Vu,Ku].join("|")+")"+Xu+Ju+")*",ev=Xu+Ju+Qg,tv="(?:"+[Yu+Da+"?",Da,Vu,Ku,Jg].join("|")+")",nv=RegExp(Ma+"(?="+Ma+")|"+tv+ev,"g");function rv(e){return e.match(nv)||[]}function st(e){return Nn(e)?rv(e):Gg(e)}function Zu(e){return function(t){t=j(t);var n=Nn(t)?st(t):void 0,r=n?n[0]:t.charAt(0),i=n?Gt(n,1).join(""):t.slice(1);return r[e]()+i}}var qa=Zu("toUpperCase");function Qu(e){return qa(j(e).toLowerCase())}function Na(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ba(e){return function(t){return e==null?void 0:e[t]}}var iv={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},av=Ba(iv),ov=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sv="\\u0300-\\u036f",uv="\\ufe20-\\ufe2f",cv="\\u20d0-\\u20ff",lv=sv+uv+cv,fv="["+lv+"]",dv=RegExp(fv,"g");function ec(e){return e=j(e),e&&e.replace(ov,av).replace(dv,"")}var hv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pv(e){return e.match(hv)||[]}var _v=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gv(e){return _v.test(e)}var tc="\\ud800-\\udfff",vv="\\u0300-\\u036f",mv="\\ufe20-\\ufe2f",yv="\\u20d0-\\u20ff",wv=vv+mv+yv,nc="\\u2700-\\u27bf",rc="a-z\\xdf-\\xf6\\xf8-\\xff",bv="\\xac\\xb1\\xd7\\xf7",kv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sv="\\u2000-\\u206f",Av=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ic="A-Z\\xc0-\\xd6\\xd8-\\xde",Iv="\\ufe0e\\ufe0f",ac=bv+kv+Sv+Av,oc="['\u2019]",sc="["+ac+"]",Ev="["+wv+"]",uc="\\d+",xv="["+nc+"]",cc="["+rc+"]",lc="[^"+tc+ac+uc+nc+rc+ic+"]",Rv="\\ud83c[\\udffb-\\udfff]",Tv="(?:"+Ev+"|"+Rv+")",Pv="[^"+tc+"]",fc="(?:\\ud83c[\\udde6-\\uddff]){2}",dc="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="["+ic+"]",$v="\\u200d",hc="(?:"+cc+"|"+lc+")",Cv="(?:"+Bn+"|"+lc+")",pc="(?:"+oc+"(?:d|ll|m|re|s|t|ve))?",_c="(?:"+oc+"(?:D|LL|M|RE|S|T|VE))?",gc=Tv+"?",vc="["+Iv+"]?",Ov="(?:"+$v+"(?:"+[Pv,fc,dc].join("|")+")"+vc+gc+")*",Fv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dv=vc+gc+Ov,Mv="(?:"+[xv,fc,dc].join("|")+")"+Dv,qv=RegExp([Bn+"?"+cc+"+"+pc+"(?="+[sc,Bn,"$"].join("|")+")",Cv+"+"+_c+"(?="+[sc,Bn+hc,"$"].join("|")+")",Bn+"?"+hc+"+"+pc,Bn+"+"+_c,Lv,Fv,uc,Mv].join("|"),"g");function Nv(e){return e.match(qv)||[]}function mc(e,t,n){return e=j(e),t=n?void 0:t,t===void 0?gv(e)?Nv(e):pv(e):e.match(t)||[]}var Bv="['\u2019]",Wv=RegExp(Bv,"g");function Wn(e){return function(t){return Na(mc(ec(t).replace(Wv,"")),e,"")}}var Uv=Wn(function(e,t,n){return t=t.toLowerCase(),e+(n?Qu(t):t)});function Hv(){if(!arguments.length)return[];var e=arguments[0];return $(e)?e:[e]}var Gv=_e.isFinite,jv=Math.min;function Wa(e){var t=Math[e];return function(n,r){if(n=Ve(n),r=r==null?0:jv(O(r),292),r&&Gv(n)){var i=(j(n)+"e").split("e"),a=t(i[0]+"e"+(+i[1]+r));return i=(j(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var zv=Wa("ceil");function yc(e){var t=c(e);return t.__chain__=!0,t}var Yv=Math.ceil,Vv=Math.max;function Kv(e,t,n){(n?Re(e,t,n):t===void 0)?t=1:t=Vv(O(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,o=Array(Yv(r/t));i<r;)o[a++]=Ze(e,i,i+=t);return o}function pn(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function Jv(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Ve(n),n=n===n?n:0),t!==void 0&&(t=Ve(t),t=t===t?t:0),pn(Ve(e),t,n)}function Xv(){this.__data__=new Pt,this.size=0}function Zv(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Qv(e){return this.__data__.get(e)}function em(e){return this.__data__.has(e)}var tm=200;function nm(e,t){var n=this.__data__;if(n instanceof Pt){var r=n.__data__;if(!mr||r.length<tm-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $t(r)}return n.set(e,t),this.size=n.size,this}function ut(e){var t=this.__data__=new Pt(e);this.size=t.size}ut.prototype.clear=Xv,ut.prototype.delete=Zv,ut.prototype.get=Qv,ut.prototype.has=em,ut.prototype.set=nm;function wc(e,t){return e&&dt(t,he(t),e)}function rm(e,t){return e&&dt(t,Fe(t),e)}var bc=typeof Ge=="object"&&Ge&&!Ge.nodeType&&Ge,kc=bc&&typeof je=="object"&&je&&!je.nodeType&&je,im=kc&&kc.exports===bc,Sc=im?_e.Buffer:void 0,Ac=Sc?Sc.allocUnsafe:void 0;function Ic(e,t){if(t)return e.slice();var n=e.length,r=Ac?Ac(n):new e.constructor(n);return e.copy(r),r}function jt(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Ua(){return[]}var am=Object.prototype,om=am.propertyIsEnumerable,Ec=Object.getOwnPropertySymbols,Ha=Ec?function(e){return e==null?[]:(e=Object(e),jt(Ec(e),function(t){return om.call(e,t)}))}:Ua;function sm(e,t){return dt(e,Ha(e),t)}var um=Object.getOwnPropertySymbols,xc=um?function(e){for(var t=[];e;)Ht(t,Ha(e)),e=_i(e);return t}:Ua;function cm(e,t){return dt(e,xc(e),t)}function Rc(e,t,n){var r=t(e);return $(e)?r:Ht(r,n(e))}function Ga(e){return Rc(e,he,Ha)}function ja(e){return Rc(e,Fe,xc)}var za=ln(_e,"DataView"),Ya=ln(_e,"Promise"),Un=ln(_e,"Set"),Tc="[object Map]",lm="[object Object]",Pc="[object Promise]",$c="[object Set]",Cc="[object WeakMap]",Oc="[object DataView]",fm=cn(za),dm=cn(mr),hm=cn(Ya),pm=cn(Un),_m=cn(fr),_n=xe;(za&&_n(new za(new ArrayBuffer(1)))!=Oc||mr&&_n(new mr)!=Tc||Ya&&_n(Ya.resolve())!=Pc||Un&&_n(new Un)!=$c||fr&&_n(new fr)!=Cc)&&(_n=function(e){var t=xe(e),n=t==lm?e.constructor:void 0,r=n?cn(n):"";if(r)switch(r){case fm:return Oc;case dm:return Tc;case hm:return Pc;case pm:return $c;case _m:return Cc}return t});var pt=_n,gm=Object.prototype,vm=gm.hasOwnProperty;function mm(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&vm.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var vi=_e.Uint8Array;function Va(e){var t=new e.constructor(e.byteLength);return new vi(t).set(new vi(e)),t}function ym(e,t){var n=t?Va(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var wm=/\w*$/;function bm(e){var t=new e.constructor(e.source,wm.exec(e));return t.lastIndex=e.lastIndex,t}var Fc=Ae?Ae.prototype:void 0,Lc=Fc?Fc.valueOf:void 0;function km(e){return Lc?Object(Lc.call(e)):{}}function Dc(e,t){var n=t?Va(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Sm="[object Boolean]",Am="[object Date]",Im="[object Map]",Em="[object Number]",xm="[object RegExp]",Rm="[object Set]",Tm="[object String]",Pm="[object Symbol]",$m="[object ArrayBuffer]",Cm="[object DataView]",Om="[object Float32Array]",Fm="[object Float64Array]",Lm="[object Int8Array]",Dm="[object Int16Array]",Mm="[object Int32Array]",qm="[object Uint8Array]",Nm="[object Uint8ClampedArray]",Bm="[object Uint16Array]",Wm="[object Uint32Array]";function Um(e,t,n){var r=e.constructor;switch(t){case $m:return Va(e);case Sm:case Am:return new r(+e);case Cm:return ym(e,n);case Om:case Fm:case Lm:case Dm:case Mm:case qm:case Nm:case Bm:case Wm:return Dc(e,n);case Im:return new r;case Em:case Tm:return new r(e);case xm:return bm(e);case Rm:return new r;case Pm:return km(e)}}function Mc(e){return typeof e.constructor=="function"&&!_r(e)?On(_i(e)):{}}var Hm="[object Map]";function Gm(e){return ae(e)&&pt(e)==Hm}var qc=Xe&&Xe.isMap,Nc=qc?We(qc):Gm,jm="[object Set]";function zm(e){return ae(e)&&pt(e)==jm}var Bc=Xe&&Xe.isSet,Wc=Bc?We(Bc):zm,Ym=1,Vm=2,Km=4,Uc="[object Arguments]",Jm="[object Array]",Xm="[object Boolean]",Zm="[object Date]",Qm="[object Error]",Hc="[object Function]",ey="[object GeneratorFunction]",ty="[object Map]",ny="[object Number]",Gc="[object Object]",ry="[object RegExp]",iy="[object Set]",ay="[object String]",oy="[object Symbol]",sy="[object WeakMap]",uy="[object ArrayBuffer]",cy="[object DataView]",ly="[object Float32Array]",fy="[object Float64Array]",dy="[object Int8Array]",hy="[object Int16Array]",py="[object Int32Array]",_y="[object Uint8Array]",gy="[object Uint8ClampedArray]",vy="[object Uint16Array]",my="[object Uint32Array]",J={};J[Uc]=J[Jm]=J[uy]=J[cy]=J[Xm]=J[Zm]=J[ly]=J[fy]=J[dy]=J[hy]=J[py]=J[ty]=J[ny]=J[Gc]=J[ry]=J[iy]=J[ay]=J[oy]=J[_y]=J[gy]=J[vy]=J[my]=!0,J[Qm]=J[Hc]=J[sy]=!1;function Qe(e,t,n,r,i,a){var o,s=t&Ym,u=t&Vm,l=t&Km;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!re(e))return e;var f=$(e);if(f){if(o=mm(e),!s)return Ce(e,o)}else{var d=pt(e),h=d==Hc||d==ey;if(Wt(e))return Ic(e,s);if(d==Gc||d==Uc||h&&!i){if(o=u||h?{}:Mc(e),!s)return u?cm(e,rm(o,e)):sm(e,wc(o,e))}else{if(!J[d])return i?e:{};o=Um(e,d,s)}}a||(a=new ut);var p=a.get(e);if(p)return p;a.set(e,o),Wc(e)?e.forEach(function(m){o.add(Qe(m,t,n,m,e,a))}):Nc(e)&&e.forEach(function(m,k){o.set(k,Qe(m,t,n,k,e,a))});var v=l?u?ja:Ga:u?Fe:he,_=f?void 0:v(e);return Je(_||e,function(m,k){_&&(k=m,m=e[k]),pr(o,k,Qe(m,t,n,k,e,a))}),o}var yy=4;function wy(e){return Qe(e,yy)}var by=1,ky=4;function Ka(e){return Qe(e,by|ky)}var Sy=1,Ay=4;function Iy(e,t){return t=typeof t=="function"?t:void 0,Qe(e,Sy|Ay,t)}var Ey=4;function xy(e,t){return t=typeof t=="function"?t:void 0,Qe(e,Ey,t)}function Ry(){return new Ke(this.value(),this.__chain__)}function Ty(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function Py(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ht($(n)?Ce(n):[n],be(t,1))}var $y="__lodash_hash_undefined__";function Cy(e){return this.__data__.set(e,$y),this}function Oy(e){return this.__data__.has(e)}function gn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $t;++t<n;)this.add(e[t])}gn.prototype.add=gn.prototype.push=Cy,gn.prototype.has=Oy;function Ja(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function wr(e,t){return e.has(t)}var Fy=1,Ly=2;function jc(e,t,n,r,i,a){var o=n&Fy,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=n&Ly?new gn:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var v=e[d],_=t[d];if(r)var m=o?r(_,v,d,t,e,a):r(v,_,d,e,t,a);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!Ja(t,function(k,A){if(!wr(p,A)&&(v===k||i(v,k,n,r,a)))return p.push(A)})){h=!1;break}}else if(!(v===_||i(v,_,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function Xa(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function mi(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Dy=1,My=2,qy="[object Boolean]",Ny="[object Date]",By="[object Error]",Wy="[object Map]",Uy="[object Number]",Hy="[object RegExp]",Gy="[object Set]",jy="[object String]",zy="[object Symbol]",Yy="[object ArrayBuffer]",Vy="[object DataView]",zc=Ae?Ae.prototype:void 0,Za=zc?zc.valueOf:void 0;function Ky(e,t,n,r,i,a,o){switch(n){case Vy:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Yy:return!(e.byteLength!=t.byteLength||!a(new vi(e),new vi(t)));case qy:case Ny:case Uy:return ot(+e,+t);case By:return e.name==t.name&&e.message==t.message;case Hy:case jy:return e==t+"";case Wy:var s=Xa;case Gy:var u=r&Dy;if(s||(s=mi),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=My,o.set(e,t);var f=jc(s(e),s(t),r,i,a,o);return o.delete(e),f;case zy:if(Za)return Za.call(e)==Za.call(t)}return!1}var Jy=1,Xy=Object.prototype,Zy=Xy.hasOwnProperty;function Qy(e,t,n,r,i,a){var o=n&Jy,s=Ga(e),u=s.length,l=Ga(t),f=l.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var h=s[d];if(!(o?h in t:Zy.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var _=!0;a.set(e,t),a.set(t,e);for(var m=o;++d<u;){h=s[d];var k=e[h],A=t[h];if(r)var G=o?r(A,k,h,t,e,a):r(k,A,h,e,t,a);if(!(G===void 0?k===A||i(k,A,n,r,a):G)){_=!1;break}m||(m=h=="constructor")}if(_&&!m){var x=e.constructor,C=t.constructor;x!=C&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof C=="function"&&C instanceof C)&&(_=!1)}return a.delete(e),a.delete(t),_}var e0=1,Yc="[object Arguments]",Vc="[object Array]",yi="[object Object]",t0=Object.prototype,Kc=t0.hasOwnProperty;function n0(e,t,n,r,i,a){var o=$(e),s=$(t),u=o?Vc:pt(e),l=s?Vc:pt(t);u=u==Yc?yi:u,l=l==Yc?yi:l;var f=u==yi,d=l==yi,h=u==l;if(h&&Wt(e)){if(!Wt(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new ut),o||qn(e)?jc(e,t,n,r,i,a):Ky(e,t,u,n,r,i,a);if(!(n&e0)){var p=f&&Kc.call(e,"__wrapped__"),v=d&&Kc.call(t,"__wrapped__");if(p||v){var _=p?e.value():e,m=v?t.value():t;return a||(a=new ut),i(_,m,n,r,a)}}return h?(a||(a=new ut),Qy(e,t,n,r,i,a)):!1}function br(e,t,n,r,i){return e===t?!0:e==null||t==null||!ae(e)&&!ae(t)?e!==e&&t!==t:n0(e,t,n,r,br,i)}var r0=1,i0=2;function Qa(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var u=s[0],l=e[u],f=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var d=new ut;if(r)var h=r(l,f,u,e,t,d);if(!(h===void 0?br(f,l,r0|i0,r,d):h))return!1}}return!0}function Jc(e){return e===e&&!re(e)}function eo(e){for(var t=he(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jc(i)]}return t}function Xc(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Zc(e){var t=eo(e);return t.length==1&&t[0][2]?Xc(t[0][0],t[0][1]):function(n){return n===e||Qa(n,e,t)}}function a0(e,t){return e!=null&&t in Object(e)}function Qc(e,t,n){t=Ut(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=ht(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&li(i)&&xt(o,i)&&($(e)||fn(e)))}function to(e,t){return e!=null&&Qc(e,t,a0)}var o0=1,s0=2;function el(e,t){return Ca(e)&&Jc(t)?Xc(ht(e),t):function(n){var r=D(n,e);return r===void 0&&r===t?to(n,e):br(t,r,o0|s0)}}function no(e){return function(t){return t==null?void 0:t[e]}}function u0(e){return function(t){return hn(t,e)}}function tl(e){return Ca(e)?no(ht(e)):u0(e)}function P(e){return typeof e=="function"?e:e==null?we:typeof e=="object"?$(e)?el(e[0],e[1]):Zc(e):tl(e)}var c0="Expected a function";function l0(e){var t=e==null?0:e.length,n=P;return e=t?ne(e,function(r){if(typeof r[1]!="function")throw new TypeError(c0);return[n(r[0]),r[1]]}):[],L(function(r){for(var i=-1;++i<t;){var a=e[i];if(Be(a[0],this,r))return Be(a[1],this,r)}})}function nl(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var i=n[r],a=t[i],o=e[i];if(o===void 0&&!(i in e)||!a(o))return!1}return!0}function f0(e){var t=he(e);return function(n){return nl(n,e,t)}}var d0=1;function h0(e){return f0(Qe(e,d0))}function p0(e,t){return t==null||nl(e,t,he(t))}function _0(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function rl(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(n(a[u],u,a)===!1)break}return t}}var ro=rl();function _t(e,t){return e&&ro(e,t,he)}function il(e,t){return function(n,r){if(n==null)return n;if(!Oe(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var zt=il(_t);function g0(e,t,n,r){return zt(e,function(i,a,o){t(r,i,n(i),o)}),r}function wi(e,t){return function(n,r){var i=$(n)?_0:g0,a=t?t():{};return i(n,e,P(r),a)}}var v0=Object.prototype,m0=v0.hasOwnProperty,y0=wi(function(e,t,n){m0.call(e,n)?++e[n]:Tt(e,n,1)});function w0(e,t){var n=On(e);return t==null?n:wc(n,t)}var b0=8;function io(e,t,n){t=n?void 0:t;var r=Rt(e,b0,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=io.placeholder,r}io.placeholder={};var k0=16;function ao(e,t,n){t=n?void 0:t;var r=Rt(e,k0,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=ao.placeholder,r}ao.placeholder={};var bi=function(){return _e.Date.now()},S0="Expected a function",A0=Math.max,I0=Math.min;function al(e,t,n){var r,i,a,o,s,u,l=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(S0);t=Ve(t)||0,re(n)&&(f=!!n.leading,d="maxWait"in n,a=d?A0(Ve(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p(F){var N=r,R=i;return r=i=void 0,l=F,o=e.apply(R,N),o}function v(F){return l=F,s=setTimeout(k,t),f?p(F):o}function _(F){var N=F-u,R=F-l,et=t-N;return d?I0(et,a-R):et}function m(F){var N=F-u,R=F-l;return u===void 0||N>=t||N<0||d&&R>=a}function k(){var F=bi();if(m(F))return A(F);s=setTimeout(k,_(F))}function A(F){return s=void 0,h&&r?p(F):(r=i=void 0,o)}function G(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function x(){return s===void 0?o:A(bi())}function C(){var F=bi(),N=m(F);if(r=arguments,i=this,u=F,N){if(s===void 0)return v(u);if(d)return clearTimeout(s),s=setTimeout(k,t),p(u)}return s===void 0&&(s=setTimeout(k,t)),o}return C.cancel=G,C.flush=x,C}function E0(e,t){return e==null||e!==e?t:e}var ol=Object.prototype,x0=ol.hasOwnProperty,R0=L(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Re(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Fe(a),s=-1,u=o.length;++s<u;){var l=o[s],f=e[l];(f===void 0||ot(f,ol[l])&&!x0.call(e,l))&&(e[l]=a[l])}return e});function oo(e,t,n){(n!==void 0&&!ot(e[t],n)||n===void 0&&!(t in e))&&Tt(e,t,n)}function ce(e){return ae(e)&&Oe(e)}function so(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function sl(e){return dt(e,Fe(e))}function T0(e,t,n,r,i,a,o){var s=so(e,n),u=so(t,n),l=o.get(u);if(l){oo(e,n,l);return}var f=a?a(s,u,n+"",e,t,o):void 0,d=f===void 0;if(d){var h=$(u),p=!h&&Wt(u),v=!h&&!p&&qn(u);f=u,h||p||v?$(s)?f=s:ce(s)?f=Ce(s):p?(d=!1,f=Ic(u,!0)):v?(d=!1,f=Dc(u,!0)):f=[]:yr(u)||fn(u)?(f=s,fn(s)?f=sl(s):(!re(s)||Et(s))&&(f=Mc(u))):d=!1}d&&(o.set(u,f),i(f,u,r,a,o),o.delete(u)),oo(e,n,f)}function ki(e,t,n,r,i){e!==t&&ro(t,function(a,o){if(i||(i=new ut),re(a))T0(e,t,o,n,ki,r,i);else{var s=r?r(so(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),oo(e,o,s)}},Fe)}function ul(e,t,n,r,i,a){return re(e)&&re(t)&&(a.set(t,e),ki(e,t,void 0,ul,a),a.delete(t)),e}var cl=Mn(function(e,t,n,r){ki(e,t,n,r)}),P0=L(function(e){return e.push(void 0,ul),Be(cl,void 0,e)}),$0="Expected a function";function ll(e,t,n){if(typeof e!="function")throw new TypeError($0);return setTimeout(function(){e.apply(void 0,n)},t)}var C0=L(function(e,t){return ll(e,1,t)}),O0=L(function(e,t,n){return ll(e,Ve(t)||0,n)});function uo(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var F0=200;function kr(e,t,n,r){var i=-1,a=ui,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=ne(t,We(n))),r?(a=uo,o=!1):t.length>=F0&&(a=wr,o=!1,t=new gn(t));e:for(;++i<s;){var f=e[i],d=n==null?f:n(f);if(f=r||f!==0?f:0,o&&d===d){for(var h=l;h--;)if(t[h]===d)continue e;u.push(f)}else a(t,d,r)||u.push(f)}return u}var L0=L(function(e,t){return ce(e)?kr(e,be(t,1,ce,!0)):[]});function Ue(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var D0=L(function(e,t){var n=Ue(t);return ce(n)&&(n=void 0),ce(e)?kr(e,be(t,1,ce,!0),P(n)):[]}),M0=L(function(e,t){var n=Ue(t);return ce(n)&&(n=void 0),ce(e)?kr(e,be(t,1,ce,!0),void 0,n):[]}),q0=ti(function(e,t){return e/t},1);function N0(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:O(t),Ze(e,t<0?0:t,r)):[]}function B0(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:O(t),t=r-t,Ze(e,0,t<0?0:t)):[]}function Si(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Ze(e,r?0:a,r?a+1:i):Ze(e,r?a+1:0,r?i:a)}function W0(e,t){return e&&e.length?Si(e,P(t),!0,!0):[]}function U0(e,t){return e&&e.length?Si(e,P(t),!0):[]}function gt(e){return typeof e=="function"?e:we}function fl(e,t){var n=$(e)?Je:zt;return n(e,gt(t))}function H0(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var dl=rl(!0);function co(e,t){return e&&dl(e,t,he)}var hl=il(co,!0);function pl(e,t){var n=$(e)?H0:hl;return n(e,gt(t))}function G0(e,t,n){e=j(e),t=Ne(t);var r=e.length;n=n===void 0?r:pn(O(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function j0(e,t){return ne(t,function(n){return[n,e[n]]})}function z0(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var Y0="[object Map]",V0="[object Set]";function _l(e){return function(t){var n=pt(t);return n==Y0?Xa(t):n==V0?z0(t):j0(t,e(t))}}var gl=_l(he),vl=_l(Fe),K0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J0=Ba(K0),ml=/[&<>"']/g,X0=RegExp(ml.source);function yl(e){return e=j(e),e&&X0.test(e)?e.replace(ml,J0):e}var wl=/[\\^$.*+?()[\]{}|]/g,Z0=RegExp(wl.source);function Q0(e){return e=j(e),e&&Z0.test(e)?e.replace(wl,"\\$&"):e}function bl(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function e1(e,t){var n=!0;return zt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}function t1(e,t,n){var r=$(e)?bl:e1;return n&&Re(e,t,n)&&(t=void 0),r(e,P(t))}var n1=4294967295;function kl(e){return e?pn(O(e),0,n1):0}function r1(e,t,n,r){var i=e.length;for(n=O(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:O(r),r<0&&(r+=i),r=n>r?0:kl(r);n<r;)e[n++]=t;return e}function i1(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Re(e,t,n)&&(n=0,r=i),r1(e,t,n,r)):[]}function Sl(e,t){var n=[];return zt(e,function(r,i,a){t(r,i,a)&&n.push(r)}),n}function a1(e,t){var n=$(e)?jt:Sl;return n(e,P(t))}function Al(e){return function(t,n,r){var i=Object(t);if(!Oe(t)){var a=P(n);t=he(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var o1=Math.max;function Il(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:O(n);return i<0&&(i=o1(r+i,0)),si(e,P(t),i)}var s1=Al(Il);function El(e,t,n){var r;return n(e,function(i,a,o){if(t(i,a,o))return r=a,!1}),r}function u1(e,t){return El(e,P(t),_t)}var c1=Math.max,l1=Math.min;function xl(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=O(n),i=n<0?c1(r+i,0):l1(i,r-1)),si(e,P(t),i,!0)}var f1=Al(xl);function d1(e,t){return El(e,P(t),co)}function Rl(e){return e&&e.length?e[0]:void 0}function Tl(e,t){var n=-1,r=Oe(e)?Array(e.length):[];return zt(e,function(i,a,o){r[++n]=t(i,a,o)}),r}function Ai(e,t){var n=$(e)?ne:Tl;return n(e,P(t))}function Pl(e,t){return be(Ai(e,t),1)}var h1=1/0;function p1(e,t){return be(Ai(e,t),h1)}function _1(e,t,n){return n=n===void 0?1:O(n),be(Ai(e,t),n)}var g1=1/0;function v1(e){var t=e==null?0:e.length;return t?be(e,g1):[]}function m1(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:O(t),be(e,t)):[]}var y1=512;function w1(e){return Rt(e,y1)}var b1=Wa("floor"),k1="Expected a function",S1=8,A1=32,I1=128,E1=256;function $l(e){return Ct(function(t){var n=t.length,r=n,i=Ke.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if(typeof a!="function")throw new TypeError(k1);if(i&&!o&&ai(a)=="wrapper")var o=new Ke([],!0)}for(r=o?r:n;++r<n;){a=t[r];var s=ai(a),u=s=="wrapper"?wa(a):void 0;u&&ba(u[0])&&u[1]==(I1|S1|A1|E1)&&!u[4].length&&u[9]==1?o=o[ai(u[0])].apply(o,u[3]):o=a.length==1&&ba(a)?o[s]():o.thru(a)}return function(){var l=arguments,f=l[0];if(o&&l.length==1&&$(f))return o.plant(f).value();for(var d=0,h=n?t[d].apply(this,l):f;++d<n;)h=t[d].call(this,h);return h}})}var x1=$l(),R1=$l(!0);function T1(e,t){return e==null?e:ro(e,gt(t),Fe)}function P1(e,t){return e==null?e:dl(e,gt(t),Fe)}function $1(e,t){return e&&_t(e,gt(t))}function C1(e,t){return e&&co(e,gt(t))}function O1(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Ii(e,t){return jt(t,function(n){return Et(e[n])})}function F1(e){return e==null?[]:Ii(e,he(e))}function L1(e){return e==null?[]:Ii(e,Fe(e))}var D1=Object.prototype,M1=D1.hasOwnProperty,q1=wi(function(e,t,n){M1.call(e,n)?e[n].push(t):Tt(e,n,[t])});function lo(e,t){return e>t}function Ei(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ve(t),n=Ve(n)),e(t,n)}}var N1=Ei(lo),B1=Ei(function(e,t){return e>=t}),W1=Object.prototype,U1=W1.hasOwnProperty;function H1(e,t){return e!=null&&U1.call(e,t)}function G1(e,t){return e!=null&&Qc(e,t,H1)}var j1=Math.max,z1=Math.min;function Y1(e,t,n){return e>=z1(t,n)&&e<j1(t,n)}function V1(e,t,n){return t=It(t),n===void 0?(n=t,t=0):n=It(n),e=Ve(e),Y1(e,t,n)}var K1="[object String]";function xi(e){return typeof e=="string"||!$(e)&&ae(e)&&xe(e)==K1}function fo(e,t){return ne(t,function(n){return e[n]})}function Hn(e){return e==null?[]:fo(e,he(e))}var J1=Math.max;function X1(e,t,n,r){e=Oe(e)?e:Hn(e),n=n&&!r?O(n):0;var i=e.length;return n<0&&(n=J1(i+n,0)),xi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ln(e,t,n)>-1}var Z1=Math.max;function Q1(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:O(n);return i<0&&(i=Z1(r+i,0)),Ln(e,t,i)}function ew(e){var t=e==null?0:e.length;return t?Ze(e,0,-1):[]}var tw=Math.min;function ho(e,t,n){for(var r=n?uo:ui,i=e[0].length,a=e.length,o=a,s=Array(a),u=1/0,l=[];o--;){var f=e[o];o&&t&&(f=ne(f,We(t))),u=tw(f.length,u),s[o]=!n&&(t||i>=120&&f.length>=120)?new gn(o&&f):void 0}f=e[0];var d=-1,h=s[0];e:for(;++d<i&&l.length<u;){var p=f[d],v=t?t(p):p;if(p=n||p!==0?p:0,!(h?wr(h,v):r(l,v,n))){for(o=a;--o;){var _=s[o];if(!(_?wr(_,v):r(e[o],v,n)))continue e}h&&h.push(v),l.push(p)}}return l}function po(e){return ce(e)?e:[]}var nw=L(function(e){var t=ne(e,po);return t.length&&t[0]===e[0]?ho(t):[]}),rw=L(function(e){var t=Ue(e),n=ne(e,po);return t===Ue(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?ho(n,P(t)):[]}),iw=L(function(e){var t=Ue(e),n=ne(e,po);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?ho(n,void 0,t):[]});function aw(e,t,n,r){return _t(e,function(i,a,o){t(r,n(i),a,o)}),r}function Cl(e,t){return function(n,r){return aw(n,e,t(r),{})}}var ow=Object.prototype,sw=ow.toString,uw=Cl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=sw.call(t)),e[t]=n},ka(we)),Ol=Object.prototype,cw=Ol.hasOwnProperty,lw=Ol.toString,fw=Cl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=lw.call(t)),cw.call(e,t)?e[t].push(n):e[t]=[n]},P);function Fl(e,t){return t.length<2?e:hn(e,Ze(t,0,-1))}function Sr(e,t,n){t=Ut(t,e),e=Fl(e,t);var r=e==null?e:e[ht(Ue(t))];return r==null?void 0:Be(r,e,n)}var dw=L(Sr),hw=L(function(e,t,n){var r=-1,i=typeof t=="function",a=Oe(e)?Array(e.length):[];return zt(e,function(o){a[++r]=i?Be(t,o,n):Sr(o,t,n)}),a}),pw="[object ArrayBuffer]";function _w(e){return ae(e)&&xe(e)==pw}var Ll=Xe&&Xe.isArrayBuffer,gw=Ll?We(Ll):_w,vw="[object Boolean]";function mw(e){return e===!0||e===!1||ae(e)&&xe(e)==vw}var yw="[object Date]";function ww(e){return ae(e)&&xe(e)==yw}var Dl=Xe&&Xe.isDate,bw=Dl?We(Dl):ww;function kw(e){return ae(e)&&e.nodeType===1&&!yr(e)}var Sw="[object Map]",Aw="[object Set]",Iw=Object.prototype,Ew=Iw.hasOwnProperty;function xw(e){if(e==null)return!0;if(Oe(e)&&($(e)||typeof e=="string"||typeof e.splice=="function"||Wt(e)||qn(e)||fn(e)))return!e.length;var t=pt(e);if(t==Sw||t==Aw)return!e.size;if(_r(e))return!$a(e).length;for(var n in e)if(Ew.call(e,n))return!1;return!0}function Rw(e,t){return br(e,t)}function Tw(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?br(e,t,void 0,n):!!r}var Pw=_e.isFinite;function $w(e){return typeof e=="number"&&Pw(e)}function Ml(e){return typeof e=="number"&&e==O(e)}function Cw(e,t){return e===t||Qa(e,t,eo(t))}function Ow(e,t,n){return n=typeof n=="function"?n:void 0,Qa(e,t,eo(t),n)}var Fw="[object Number]";function ql(e){return typeof e=="number"||ae(e)&&xe(e)==Fw}function Lw(e){return ql(e)&&e!=+e}var Dw=ni?Et:Ta,Mw="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function qw(e){if(Dw(e))throw new Error(Mw);return su(e)}function Nw(e){return e==null}function Bw(e){return e===null}var Ww="[object RegExp]";function Uw(e){return ae(e)&&xe(e)==Ww}var Nl=Xe&&Xe.isRegExp,_o=Nl?We(Nl):Uw,Bl=9007199254740991;function Hw(e){return Ml(e)&&e>=-Bl&&e<=Bl}function Gw(e){return e===void 0}var jw="[object WeakMap]";function zw(e){return ae(e)&&pt(e)==jw}var Yw="[object WeakSet]";function Vw(e){return ae(e)&&xe(e)==Yw}var Kw=1;function Jw(e){return P(typeof e=="function"?e:Qe(e,Kw))}var Xw=Array.prototype,Zw=Xw.join;function Qw(e,t){return e==null?"":Zw.call(e,t)}var eb=Wn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),tb=wi(function(e,t,n){Tt(e,n,t)});function nb(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var rb=Math.max,ib=Math.min;function ab(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==void 0&&(i=O(n),i=i<0?rb(r+i,0):ib(i,r-1)),t===t?nb(e,t,i):si(e,_u,i,!0)}var ob=Wn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sb=Zu("toLowerCase");function go(e,t){return e<t}var ub=Ei(go),cb=Ei(function(e,t){return e<=t});function lb(e,t){var n={};return t=P(t),_t(e,function(r,i,a){Tt(n,t(r,i,a),r)}),n}function fb(e,t){var n={};return t=P(t),_t(e,function(r,i,a){Tt(n,i,t(r,i,a))}),n}var db=1;function hb(e){return Zc(Qe(e,db))}var pb=1;function _b(e,t){return el(e,Qe(t,pb))}function Ri(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!qe(o):n(o,s)))var s=o,u=a}return u}function gb(e){return e&&e.length?Ri(e,we,lo):void 0}function vb(e,t){return e&&e.length?Ri(e,P(t),lo):void 0}function vo(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==void 0&&(n=n===void 0?a:n+a)}return n}var mb=0/0;function Wl(e,t){var n=e==null?0:e.length;return n?vo(e,t)/n:mb}function yb(e){return Wl(e,we)}function wb(e,t){return Wl(e,P(t))}var bb=Mn(function(e,t,n){ki(e,t,n)}),kb=L(function(e,t){return function(n){return Sr(n,e,t)}}),Sb=L(function(e,t){return function(n){return Sr(e,n,t)}});function Ab(e){return e&&e.length?Ri(e,we,go):void 0}function Ib(e,t){return e&&e.length?Ri(e,P(t),go):void 0}function Ul(e,t,n){var r=he(t),i=Ii(t,r),a=!(re(n)&&"chain"in n)||!!n.chain,o=Et(e);return Je(i,function(s){var u=t[s];e[s]=u,o&&(e.prototype[s]=function(){var l=this.__chain__;if(a||l){var f=e(this.__wrapped__),d=f.__actions__=Ce(this.__actions__);return d.push({func:u,args:arguments,thisArg:e}),f.__chain__=l,f}return u.apply(e,Ht([this.value()],arguments))})}),e}var Eb=ti(function(e,t){return e*t},1),xb="Expected a function";function Ar(e){if(typeof e!="function")throw new TypeError(xb);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Rb(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var Tb="[object Map]",Pb="[object Set]",mo=Ae?Ae.iterator:void 0;function Hl(e){if(!e)return[];if(Oe(e))return xi(e)?st(e):Ce(e);if(mo&&e[mo])return Rb(e[mo]());var t=pt(e),n=t==Tb?Xa:t==Pb?mi:Hn;return n(e)}function $b(){this.__values__===void 0&&(this.__values__=Hl(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function Gl(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,xt(t,n)?e[t]:void 0}function Cb(e,t){return e&&e.length?Gl(e,O(t)):void 0}function Ob(e){return e=O(e),L(function(t){return Gl(t,e)})}function yo(e,t){return t=Ut(t,e),e=Fl(e,t),e==null||delete e[ht(Ue(t))]}function Fb(e){return yr(e)?void 0:e}var Lb=1,Db=2,Mb=4,vn=Ct(function(e,t){var n={};if(e==null)return n;var r=!1;t=ne(t,function(a){return a=Ut(a,e),r||(r=a.length>1),a}),dt(e,ja(e),n),r&&(n=Qe(n,Lb|Db|Mb,Fb));for(var i=t.length;i--;)yo(n,t[i]);return n});function Ir(e,t,n,r){if(!re(e))return e;t=Ut(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var u=ht(t[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=o){var f=s[u];l=r?r(f,u,s):void 0,l===void 0&&(l=re(f)?f:xt(t[i+1])?[]:{})}pr(s,u,l),s=s[u]}return e}function jl(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=hn(e,o);n(s,o)&&Ir(a,Ut(o,e),s)}return a}function Ti(e,t){if(e==null)return{};var n=ne(ja(e),function(r){return[r]});return t=P(t),jl(e,n,function(r,i){return t(r,i[0])})}function qb(e,t){return Ti(e,Ar(P(t)))}function Nb(e){return ju(2,e)}function Bb(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function zl(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=qe(e),o=t!==void 0,s=t===null,u=t===t,l=qe(t);if(!s&&!l&&!a&&e>t||a&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}function Wb(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=zl(i[r],a[r]);if(u){if(r>=s)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return e.index-t.index}function Yl(e,t,n){t.length?t=ne(t,function(a){return $(a)?function(o){return hn(o,a.length===1?a[0]:a)}:a}):t=[we];var r=-1;t=ne(t,We(P));var i=Tl(e,function(a,o,s){var u=ne(t,function(l){return l(a)});return{criteria:u,index:++r,value:a}});return Bb(i,function(a,o){return Wb(a,o,n)})}function Ub(e,t,n,r){return e==null?[]:($(t)||(t=t==null?[]:[t]),n=r?void 0:n,$(n)||(n=n==null?[]:[n]),Yl(e,t,n))}function wo(e){return Ct(function(t){return t=ne(t,We(P)),L(function(n){var r=this;return e(t,function(i){return Be(i,r,n)})})})}var Hb=wo(ne),Gb=L,jb=Math.min,zb=Gb(function(e,t){t=t.length==1&&$(t[0])?ne(t[0],We(P)):ne(be(t,1),We(P));var n=t.length;return L(function(r){for(var i=-1,a=jb(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Be(e,this,r)})}),Yb=wo(bl),Vb=wo(Ja),Kb=9007199254740991,Jb=Math.floor;function bo(e,t){var n="";if(!e||t<1||t>Kb)return n;do t%2&&(n+=e),t=Jb(t/2),t&&(e+=e);while(t);return n}var Xb=no("length"),Vl="\\ud800-\\udfff",Zb="\\u0300-\\u036f",Qb="\\ufe20-\\ufe2f",ek="\\u20d0-\\u20ff",tk=Zb+Qb+ek,nk="\\ufe0e\\ufe0f",rk="["+Vl+"]",ko="["+tk+"]",So="\\ud83c[\\udffb-\\udfff]",ik="(?:"+ko+"|"+So+")",Kl="[^"+Vl+"]",Jl="(?:\\ud83c[\\udde6-\\uddff]){2}",Xl="[\\ud800-\\udbff][\\udc00-\\udfff]",ak="\\u200d",Zl=ik+"?",Ql="["+nk+"]?",ok="(?:"+ak+"(?:"+[Kl,Jl,Xl].join("|")+")"+Ql+Zl+")*",sk=Ql+Zl+ok,uk="(?:"+[Kl+ko+"?",ko,Jl,Xl,rk].join("|")+")",ef=RegExp(So+"(?="+So+")|"+uk+sk,"g");function ck(e){for(var t=ef.lastIndex=0;ef.test(e);)++t;return t}function Gn(e){return Nn(e)?ck(e):Xb(e)}var lk=Math.ceil;function Pi(e,t){t=t===void 0?" ":Ne(t);var n=t.length;if(n<2)return n?bo(t,e):t;var r=bo(t,lk(e/Gn(t)));return Nn(t)?Gt(st(r),0,e).join(""):r.slice(0,e)}var fk=Math.ceil,dk=Math.floor;function hk(e,t,n){e=j(e),t=O(t);var r=t?Gn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Pi(dk(i),n)+e+Pi(fk(i),n)}function pk(e,t,n){e=j(e),t=O(t);var r=t?Gn(e):0;return t&&r<t?e+Pi(t-r,n):e}function _k(e,t,n){e=j(e),t=O(t);var r=t?Gn(e):0;return t&&r<t?Pi(t-r,n)+e:e}var gk=/^\s+/,vk=_e.parseInt;function mk(e,t,n){return n||t==null?t=0:t&&(t=+t),vk(j(e).replace(gk,""),t||0)}var yk=32,$i=L(function(e,t){var n=Bt(t,Dn($i));return Rt(e,yk,void 0,t,n)});$i.placeholder={};var wk=64,Ao=L(function(e,t){var n=Bt(t,Dn(Ao));return Rt(e,wk,void 0,t,n)});Ao.placeholder={};var bk=wi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function kk(e,t){return jl(e,t,function(n,r){return to(e,r)})}var Sk=Ct(function(e,t){return e==null?{}:kk(e,t)});function Ak(e){for(var t,n=this;n instanceof ii;){var r=du(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Ik(e){return function(t){return e==null?void 0:hn(e,t)}}function Ek(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var xk=Array.prototype,tf=xk.splice;function Io(e,t,n,r){var i=r?Ek:Ln,a=-1,o=t.length,s=e;for(e===t&&(t=Ce(t)),n&&(s=ne(e,We(n)));++a<o;)for(var u=0,l=t[a],f=n?n(l):l;(u=i(s,f,u,r))>-1;)s!==e&&tf.call(s,u,1),tf.call(e,u,1);return e}function nf(e,t){return e&&e.length&&t&&t.length?Io(e,t):e}var Rk=L(nf);function Tk(e,t,n){return e&&e.length&&t&&t.length?Io(e,t,P(n)):e}function Pk(e,t,n){return e&&e.length&&t&&t.length?Io(e,t,void 0,n):e}var $k=Array.prototype,Ck=$k.splice;function rf(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;xt(i)?Ck.call(e,i,1):yo(e,i)}}return e}var Ok=Ct(function(e,t){var n=e==null?0:e.length,r=Oa(e,t);return rf(e,ne(t,function(i){return xt(i,n)?+i:i}).sort(zl)),r}),Fk=Math.floor,Lk=Math.random;function Eo(e,t){return e+Fk(Lk()*(t-e+1))}var Dk=parseFloat,Mk=Math.min,qk=Math.random;function Nk(e,t,n){if(n&&typeof n!="boolean"&&Re(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=It(e),t===void 0?(t=e,e=0):t=It(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=qk();return Mk(e+i*(t-e+Dk("1e-"+((i+"").length-1))),t)}return Eo(e,t)}var Bk=Math.ceil,Wk=Math.max;function Uk(e,t,n,r){for(var i=-1,a=Wk(Bk((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}function af(e){return function(t,n,r){return r&&typeof r!="number"&&Re(t,n,r)&&(n=r=void 0),t=It(t),n===void 0?(n=t,t=0):n=It(n),r=r===void 0?t<n?1:-1:It(r),Uk(t,n,r,e)}}var Hk=af(),Gk=af(!0),jk=256,zk=Ct(function(e,t){return Rt(e,jk,void 0,void 0,void 0,t)});function of(e,t,n,r,i){return i(e,function(a,o,s){n=r?(r=!1,a):t(n,a,o,s)}),n}function Yk(e,t,n){var r=$(e)?Na:of,i=arguments.length<3;return r(e,P(t),n,i,zt)}function Vk(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Kk(e,t,n){var r=$(e)?Vk:of,i=arguments.length<3;return r(e,P(t),n,i,hl)}function Jk(e,t){var n=$(e)?jt:Sl;return n(e,Ar(P(t)))}function Xk(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;for(t=P(t);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return rf(e,i),n}function Zk(e,t,n){return(n?Re(e,t,n):t===void 0)?t=1:t=O(t),bo(j(e),t)}function Qk(){var e=arguments,t=j(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var eS="Expected a function";function tS(e,t){if(typeof e!="function")throw new TypeError(eS);return t=t===void 0?t:O(t),L(e,t)}function nS(e,t,n){t=Ut(t,e);var r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){var a=e==null?void 0:e[ht(t[r])];a===void 0&&(r=i,a=n),e=Et(a)?a.call(e):a}return e}var rS=Array.prototype,iS=rS.reverse;function xo(e){return e==null?e:iS.call(e)}var aS=Wa("round");function sf(e){var t=e.length;return t?e[Eo(0,t-1)]:void 0}function oS(e){return sf(Hn(e))}function sS(e){var t=$(e)?sf:oS;return t(e)}function Ci(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var a=Eo(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}function uS(e,t){return Ci(Ce(e),pn(t,0,e.length))}function cS(e,t){var n=Hn(e);return Ci(n,pn(t,0,n.length))}function lS(e,t,n){(n?Re(e,t,n):t===void 0)?t=1:t=O(t);var r=$(e)?uS:cS;return r(e,t)}function Ro(e,t,n){return e==null?e:Ir(e,t,n)}function fS(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Ir(e,t,n,r)}function dS(e){return Ci(Ce(e))}function hS(e){return Ci(Hn(e))}function pS(e){var t=$(e)?dS:hS;return t(e)}var _S="[object Map]",gS="[object Set]";function vS(e){if(e==null)return 0;if(Oe(e))return xi(e)?Gn(e):e.length;var t=pt(e);return t==_S||t==gS?e.size:$a(e).length}function mS(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Re(e,t,n)?(t=0,n=r):(t=t==null?0:O(t),n=n===void 0?r:O(n)),Ze(e,t,n)):[]}var yS=Wn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function wS(e,t){var n;return zt(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}function bS(e,t,n){var r=$(e)?Ja:wS;return n&&Re(e,t,n)&&(t=void 0),r(e,P(t))}var kS=L(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Re(e,t[0],t[1])?t=[]:n>2&&Re(t[0],t[1],t[2])&&(t=[t[0]]),Yl(e,be(t,1),[])}),SS=4294967295,AS=SS-1,IS=Math.floor,ES=Math.min;function To(e,t,n,r){var i=0,a=e==null?0:e.length;if(a===0)return 0;t=n(t);for(var o=t!==t,s=t===null,u=qe(t),l=t===void 0;i<a;){var f=IS((i+a)/2),d=n(e[f]),h=d!==void 0,p=d===null,v=d===d,_=qe(d);if(o)var m=r||v;else l?m=v&&(r||h):s?m=v&&h&&(r||!p):u?m=v&&h&&!p&&(r||!_):p||_?m=!1:m=r?d<=t:d<t;m?i=f+1:a=f}return ES(a,AS)}var xS=4294967295,RS=xS>>>1;function Oi(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=RS){for(;r<i;){var a=r+i>>>1,o=e[a];o!==null&&!qe(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return To(e,t,we,n)}function TS(e,t){return Oi(e,t)}function PS(e,t,n){return To(e,t,P(n))}function $S(e,t){var n=e==null?0:e.length;if(n){var r=Oi(e,t);if(r<n&&ot(e[r],t))return r}return-1}function CS(e,t){return Oi(e,t,!0)}function OS(e,t,n){return To(e,t,P(n),!0)}function FS(e,t){var n=e==null?0:e.length;if(n){var r=Oi(e,t,!0)-1;if(ot(e[r],t))return r}return-1}function uf(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!ot(s,u)){var u=s;a[i++]=o===0?0:o}}return a}function LS(e){return e&&e.length?uf(e):[]}function DS(e,t){return e&&e.length?uf(e,P(t)):[]}var MS=4294967295;function qS(e,t,n){return n&&typeof n!="number"&&Re(e,t,n)&&(t=n=void 0),n=n===void 0?MS:n>>>0,n?(e=j(e),e&&(typeof t=="string"||t!=null&&!_o(t))&&(t=Ne(t),!t&&Nn(e))?Gt(st(e),0,n):e.split(t,n)):[]}var NS="Expected a function",BS=Math.max;function WS(e,t){if(typeof e!="function")throw new TypeError(NS);return t=t==null?0:BS(O(t),0),L(function(n){var r=n[t],i=Gt(n,0,t);return r&&Ht(i,r),Be(e,this,i)})}var US=Wn(function(e,t,n){return e+(n?" ":"")+qa(t)});function HS(e,t,n){return e=j(e),n=n==null?0:pn(O(n),0,e.length),t=Ne(t),e.slice(n,n+t.length)==t}function GS(){return{}}function jS(){return""}function zS(){return!0}var YS=ti(function(e,t){return e-t},0);function Po(e){return e&&e.length?vo(e,we):0}function VS(e,t){return e&&e.length?vo(e,P(t)):0}function KS(e){var t=e==null?0:e.length;return t?Ze(e,1,t):[]}function JS(e,t,n){return e&&e.length?(t=n||t===void 0?1:O(t),Ze(e,0,t<0?0:t)):[]}function XS(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:O(t),t=r-t,Ze(e,t<0?0:t,r)):[]}function ZS(e,t){return e&&e.length?Si(e,P(t),!1,!0):[]}function QS(e,t){return e&&e.length?Si(e,P(t)):[]}function eA(e,t){return t(e),e}var cf=Object.prototype,tA=cf.hasOwnProperty;function lf(e,t,n,r){return e===void 0||ot(e,cf[n])&&!tA.call(r,n)?t:e}var nA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function rA(e){return"\\"+nA[e]}var ff=/<%=([\s\S]+?)%>/g,iA=/<%-([\s\S]+?)%>/g,aA=/<%([\s\S]+?)%>/g,$o={escape:iA,evaluate:aA,interpolate:ff,variable:"",imports:{_:{escape:yl}}},oA="Invalid `variable` option passed into `_.template`",sA=/\b__p \+= '';/g,uA=/\b(__p \+=) '' \+/g,cA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lA=/[()=,{}\[\]\/\s]/,fA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fi=/($^)/,dA=/['\n\r\u2028\u2029\\]/g,hA=Object.prototype,df=hA.hasOwnProperty;function pA(e,t,n){var r=$o.imports._.templateSettings||$o;n&&Re(e,t,n)&&(t=void 0),e=j(e),t=fi({},t,r,lf);var i=fi({},t.imports,r.imports,lf),a=he(i),o=fo(i,a),s,u,l=0,f=t.interpolate||Fi,d="__p += '",h=RegExp((t.escape||Fi).source+"|"+f.source+"|"+(f===ff?fA:Fi).source+"|"+(t.evaluate||Fi).source+"|$","g"),p=df.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(h,function(m,k,A,G,x,C){return A||(A=G),d+=e.slice(l,C).replace(dA,rA),k&&(s=!0,d+=`' +
__e(`+k+`) +
'`),x&&(u=!0,d+=`';
`+x+`;
__p += '`),A&&(d+=`' +
((__t = (`+A+`)) == null ? '' : __t) +
'`),l=C+m.length,m}),d+=`';
`;var v=df.call(t,"variable")&&t.variable;if(!v)d=`with (obj) {
`+d+`
}
`;else if(lA.test(v))throw new Error(oA);d=(u?d.replace(sA,""):d).replace(uA,"$1").replace(cA,"$1;"),d="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var _=Gu(function(){return Function(a,p+"return "+d).apply(void 0,o)});if(_.source=d,Fa(_))throw _;return _}var _A="Expected a function";function gA(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(_A);return re(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),al(e,t,{leading:r,maxWait:t,trailing:i})}function Er(e,t){return t(e)}var vA=9007199254740991,Co=4294967295,mA=Math.min;function yA(e,t){if(e=O(e),e<1||e>vA)return[];var n=Co,r=mA(e,Co);t=gt(t),e-=Co;for(var i=Ra(r,t);++n<e;)t(n);return i}function wA(){return this}function hf(e,t){var n=e;return n instanceof q&&(n=n.value()),Na(t,function(r,i){return i.func.apply(i.thisArg,Ht([r],i.args))},n)}function Oo(){return hf(this.__wrapped__,this.__actions__)}function bA(e){return j(e).toLowerCase()}function kA(e){return $(e)?ne(e,ht):qe(e)?[e]:Ce(Bu(j(e)))}var pf=9007199254740991;function SA(e){return e?pn(O(e),-pf,pf):e===0?e:0}function AA(e){return j(e).toUpperCase()}function IA(e,t,n){var r=$(e),i=r||Wt(e)||qn(e);if(t=P(t),n==null){var a=e&&e.constructor;i?n=r?new a:[]:re(e)?n=Et(a)?On(_i(e)):{}:n={}}return(i?Je:_t)(e,function(o,s,u){return t(n,o,s,u)}),n}function _f(e,t){for(var n=e.length;n--&&Ln(t,e[n],0)>-1;);return n}function gf(e,t){for(var n=-1,r=e.length;++n<r&&Ln(t,e[n],0)>-1;);return n}function EA(e,t,n){if(e=j(e),e&&(n||t===void 0))return ru(e);if(!e||!(t=Ne(t)))return e;var r=st(e),i=st(t),a=gf(r,i),o=_f(r,i)+1;return Gt(r,a,o).join("")}function xA(e,t,n){if(e=j(e),e&&(n||t===void 0))return e.slice(0,nu(e)+1);if(!e||!(t=Ne(t)))return e;var r=st(e),i=_f(r,st(t))+1;return Gt(r,0,i).join("")}var RA=/^\s+/;function TA(e,t,n){if(e=j(e),e&&(n||t===void 0))return e.replace(RA,"");if(!e||!(t=Ne(t)))return e;var r=st(e),i=gf(r,st(t));return Gt(r,i).join("")}var PA=30,$A="...",CA=/\w*$/;function OA(e,t){var n=PA,r=$A;if(re(t)){var i="separator"in t?t.separator:i;n="length"in t?O(t.length):n,r="omission"in t?Ne(t.omission):r}e=j(e);var a=e.length;if(Nn(e)){var o=st(e);a=o.length}if(n>=a)return e;var s=n-Gn(r);if(s<1)return r;var u=o?Gt(o,0,s).join(""):e.slice(0,s);if(i===void 0)return u+r;if(o&&(s+=u.length-s),_o(i)){if(e.slice(s).search(i)){var l,f=u;for(i.global||(i=RegExp(i.source,j(CA.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;u=u.slice(0,d===void 0?s:d)}}else if(e.indexOf(Ne(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function FA(e){return xu(e,1)}var LA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},DA=Ba(LA),vf=/&(?:amp|lt|gt|quot|#39);/g,MA=RegExp(vf.source);function qA(e){return e=j(e),e&&MA.test(e)?e.replace(vf,DA):e}var NA=1/0,BA=Un&&1/mi(new Un([,-0]))[1]==NA?function(e){return new Un(e)}:ya,WA=200;function Yt(e,t,n){var r=-1,i=ui,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=uo;else if(a>=WA){var l=t?null:BA(e);if(l)return mi(l);o=!1,i=wr,u=new gn}else u=t?[]:s;e:for(;++r<a;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=u.length;h--;)if(u[h]===d)continue e;t&&u.push(d),s.push(f)}else i(u,d,n)||(u!==s&&u.push(d),s.push(f))}return s}var UA=L(function(e){return Yt(be(e,1,ce,!0))}),HA=L(function(e){var t=Ue(e);return ce(t)&&(t=void 0),Yt(be(e,1,ce,!0),P(t))}),GA=L(function(e){var t=Ue(e);return t=typeof t=="function"?t:void 0,Yt(be(e,1,ce,!0),void 0,t)});function jA(e){return e&&e.length?Yt(e):[]}function zA(e,t){return e&&e.length?Yt(e,P(t)):[]}function YA(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?Yt(e,void 0,t):[]}var VA=0;function KA(e){var t=++VA;return j(e)+t}function JA(e,t){return e==null?!0:yo(e,t)}var XA=Math.max;function Fo(e){if(!(e&&e.length))return[];var t=0;return e=jt(e,function(n){if(ce(n))return t=XA(n.length,t),!0}),Ra(t,function(n){return ne(e,no(n))})}function mf(e,t){if(!(e&&e.length))return[];var n=Fo(e);return t==null?n:ne(n,function(r){return Be(t,void 0,r)})}function yf(e,t,n,r){return Ir(e,t,n(hn(e,t)),r)}function ZA(e,t,n){return e==null?e:yf(e,t,gt(n))}function QA(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:yf(e,t,gt(n),r)}var eI=Wn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});function tI(e){return e==null?[]:fo(e,Fe(e))}var nI=L(function(e,t){return ce(e)?kr(e,t):[]});function rI(e,t){return $i(gt(t),e)}var iI=Ct(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(a){return Oa(a,e)};return t>1||this.__actions__.length||!(r instanceof q)||!xt(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Er,args:[i],thisArg:void 0}),new Ke(r,this.__chain__).thru(function(a){return t&&!a.length&&a.push(void 0),a}))});function aI(){return yc(this)}function oI(){var e=this.__wrapped__;if(e instanceof q){var t=e;return this.__actions__.length&&(t=new q(this)),t=t.reverse(),t.__actions__.push({func:Er,args:[xo],thisArg:void 0}),new Ke(t,this.__chain__)}return this.thru(xo)}function Lo(e,t,n){var r=e.length;if(r<2)return r?Yt(e[0]):[];for(var i=-1,a=Array(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=kr(a[i]||o,e[s],t,n));return Yt(be(a,1),t,n)}var sI=L(function(e){return Lo(jt(e,ce))}),uI=L(function(e){var t=Ue(e);return ce(t)&&(t=void 0),Lo(jt(e,ce),P(t))}),cI=L(function(e){var t=Ue(e);return t=typeof t=="function"?t:void 0,Lo(jt(e,ce),void 0,t)}),lI=L(Fo);function wf(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=r<a?t[r]:void 0;n(o,e[r],s)}return o}function fI(e,t){return wf(e||[],t||[],pr)}function dI(e,t){return wf(e||[],t||[],Ir)}var hI=L(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,mf(e,n)}),S={chunk:Kv,compact:Ty,concat:Py,difference:L0,differenceBy:D0,differenceWith:M0,drop:N0,dropRight:B0,dropRightWhile:W0,dropWhile:U0,fill:i1,findIndex:Il,findLastIndex:xl,first:Rl,flatten:Uu,flattenDeep:v1,flattenDepth:m1,fromPairs:O1,head:Rl,indexOf:Q1,initial:ew,intersection:nw,intersectionBy:rw,intersectionWith:iw,join:Qw,last:Ue,lastIndexOf:ab,nth:Cb,pull:Rk,pullAll:nf,pullAllBy:Tk,pullAllWith:Pk,pullAt:Ok,remove:Xk,reverse:xo,slice:mS,sortedIndex:TS,sortedIndexBy:PS,sortedIndexOf:$S,sortedLastIndex:CS,sortedLastIndexBy:OS,sortedLastIndexOf:FS,sortedUniq:LS,sortedUniqBy:DS,tail:KS,take:JS,takeRight:XS,takeRightWhile:ZS,takeWhile:QS,union:UA,unionBy:HA,unionWith:GA,uniq:jA,uniqBy:zA,uniqWith:YA,unzip:Fo,unzipWith:mf,without:nI,xor:sI,xorBy:uI,xorWith:cI,zip:lI,zipObject:fI,zipObjectDeep:dI,zipWith:hI},V={countBy:y0,each:fl,eachRight:pl,every:t1,filter:a1,find:s1,findLast:f1,flatMap:Pl,flatMapDeep:p1,flatMapDepth:_1,forEach:fl,forEachRight:pl,groupBy:q1,includes:X1,invokeMap:hw,keyBy:tb,map:Ai,orderBy:Ub,partition:bk,reduce:Yk,reduceRight:Kk,reject:Jk,sample:sS,sampleSize:lS,shuffle:pS,size:vS,some:bS,sortBy:kS},pI={now:bi},oe={after:$h,ary:xu,before:ju,bind:gi,bindKey:La,curry:io,curryRight:ao,debounce:al,defer:C0,delay:O0,flip:w1,memoize:pi,negate:Ar,once:Nb,overArgs:zb,partial:$i,partialRight:Ao,rearg:zk,rest:tS,spread:WS,throttle:gA,unary:FA,wrap:rI},E={castArray:Hv,clone:wy,cloneDeep:Ka,cloneDeepWith:Iy,cloneWith:xy,conformsTo:p0,eq:ot,gt:N1,gte:B1,isArguments:fn,isArray:$,isArrayBuffer:gw,isArrayLike:Oe,isArrayLikeObject:ce,isBoolean:mw,isBuffer:Wt,isDate:bw,isElement:kw,isEmpty:xw,isEqual:Rw,isEqualWith:Tw,isError:Fa,isFinite:$w,isFunction:Et,isInteger:Ml,isLength:li,isMap:Nc,isMatch:Cw,isMatchWith:Ow,isNaN:Lw,isNative:qw,isNil:Nw,isNull:Bw,isNumber:ql,isObject:re,isObjectLike:ae,isPlainObject:yr,isRegExp:_o,isSafeInteger:Hw,isSet:Wc,isString:xi,isSymbol:qe,isTypedArray:qn,isUndefined:Gw,isWeakMap:zw,isWeakSet:Vw,lt:ub,lte:cb,toArray:Hl,toFinite:It,toInteger:O,toLength:kl,toNumber:Ve,toPlainObject:sl,toSafeInteger:SA,toString:j},Te={add:kh,ceil:zv,divide:q0,floor:b1,max:gb,maxBy:vb,mean:yb,meanBy:wb,min:Ab,minBy:Ib,multiply:Eb,round:aS,subtract:YS,sum:Po,sumBy:VS},Do={clamp:Jv,inRange:V1,random:Nk},T={assign:D_,assignIn:Nu,assignInWith:fi,assignWith:W_,at:bg,create:w0,defaults:R0,defaultsDeep:P0,entries:gl,entriesIn:vl,extend:Nu,extendWith:fi,findKey:u1,findLastKey:d1,forIn:T1,forInRight:P1,forOwn:$1,forOwnRight:C1,functions:F1,functionsIn:L1,get:D,has:G1,hasIn:to,invert:uw,invertBy:fw,invoke:dw,keys:he,keysIn:Fe,mapKeys:lb,mapValues:fb,merge:bb,mergeWith:cl,omit:vn,omitBy:qb,pick:Sk,pickBy:Ti,result:nS,set:Ro,setWith:fS,toPairs:gl,toPairsIn:vl,transform:IA,unset:JA,update:ZA,updateWith:QA,values:Hn,valuesIn:tI},vt={at:iI,chain:yc,commit:Ry,lodash:c,next:$b,plant:Ak,reverse:oI,tap:eA,thru:Er,toIterator:wA,toJSON:Oo,value:Oo,valueOf:Oo,wrapperChain:aI},H={camelCase:Uv,capitalize:Qu,deburr:ec,endsWith:G0,escape:yl,escapeRegExp:Q0,kebabCase:eb,lowerCase:ob,lowerFirst:sb,pad:hk,padEnd:pk,padStart:_k,parseInt:mk,repeat:Zk,replace:Qk,snakeCase:yS,split:qS,startCase:US,startsWith:HS,template:pA,templateSettings:$o,toLower:bA,toUpper:AA,trim:EA,trimEnd:xA,trimStart:TA,truncate:OA,unescape:qA,upperCase:eI,upperFirst:qa,words:mc},z={attempt:Gu,bindAll:Cg,cond:l0,conforms:h0,constant:ka,defaultTo:E0,flow:x1,flowRight:R1,identity:we,iteratee:Jw,matches:hb,matchesProperty:_b,method:kb,methodOf:Sb,mixin:Ul,noop:ya,nthArg:Ob,over:Hb,overEvery:Yb,overSome:Vb,property:tl,propertyOf:Ik,range:Hk,rangeRight:Gk,stubArray:Ua,stubFalse:Ta,stubObject:GS,stubString:jS,stubTrue:zS,times:yA,toPath:kA,uniqueId:KA};function _I(){var e=new q(this.__wrapped__);return e.__actions__=Ce(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ce(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ce(this.__views__),e}function gI(){if(this.__filtered__){var e=new q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var vI=Math.max,mI=Math.min;function yI(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=mI(t,e+o);break;case"takeRight":e=vI(e,t-o);break}}return{start:e,end:t}}var wI=1,bI=2,kI=Math.min;function SI(){var e=this.__wrapped__.value(),t=this.__dir__,n=$(e),r=t<0,i=n?e.length:0,a=yI(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,f=this.__iteratees__,d=f.length,h=0,p=kI(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return hf(e,this.__actions__);var v=[];e:for(;u--&&h<p;){l+=t;for(var _=-1,m=e[l];++_<d;){var k=f[_],A=k.iteratee,G=k.type,x=A(m);if(G==bI)m=x;else if(!x){if(G==wI)continue e;break e}}v[h++]=m}return v}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var AI="4.17.21",II=2,EI=1,xI=3,bf=4294967295,RI=Array.prototype,TI=Object.prototype,kf=TI.hasOwnProperty,Sf=Ae?Ae.iterator:void 0,PI=Math.max,Af=Math.min,Mo=function(e){return function(t,n,r){if(r==null){var i=re(n),a=i&&he(n),o=a&&a.length&&Ii(n,a);(o?o.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(Ul);c.after=oe.after,c.ary=oe.ary,c.assign=T.assign,c.assignIn=T.assignIn,c.assignInWith=T.assignInWith,c.assignWith=T.assignWith,c.at=T.at,c.before=oe.before,c.bind=oe.bind,c.bindAll=z.bindAll,c.bindKey=oe.bindKey,c.castArray=E.castArray,c.chain=vt.chain,c.chunk=S.chunk,c.compact=S.compact,c.concat=S.concat,c.cond=z.cond,c.conforms=z.conforms,c.constant=z.constant,c.countBy=V.countBy,c.create=T.create,c.curry=oe.curry,c.curryRight=oe.curryRight,c.debounce=oe.debounce,c.defaults=T.defaults,c.defaultsDeep=T.defaultsDeep,c.defer=oe.defer,c.delay=oe.delay,c.difference=S.difference,c.differenceBy=S.differenceBy,c.differenceWith=S.differenceWith,c.drop=S.drop,c.dropRight=S.dropRight,c.dropRightWhile=S.dropRightWhile,c.dropWhile=S.dropWhile,c.fill=S.fill,c.filter=V.filter,c.flatMap=V.flatMap,c.flatMapDeep=V.flatMapDeep,c.flatMapDepth=V.flatMapDepth,c.flatten=S.flatten,c.flattenDeep=S.flattenDeep,c.flattenDepth=S.flattenDepth,c.flip=oe.flip,c.flow=z.flow,c.flowRight=z.flowRight,c.fromPairs=S.fromPairs,c.functions=T.functions,c.functionsIn=T.functionsIn,c.groupBy=V.groupBy,c.initial=S.initial,c.intersection=S.intersection,c.intersectionBy=S.intersectionBy,c.intersectionWith=S.intersectionWith,c.invert=T.invert,c.invertBy=T.invertBy,c.invokeMap=V.invokeMap,c.iteratee=z.iteratee,c.keyBy=V.keyBy,c.keys=he,c.keysIn=T.keysIn,c.map=V.map,c.mapKeys=T.mapKeys,c.mapValues=T.mapValues,c.matches=z.matches,c.matchesProperty=z.matchesProperty,c.memoize=oe.memoize,c.merge=T.merge,c.mergeWith=T.mergeWith,c.method=z.method,c.methodOf=z.methodOf,c.mixin=Mo,c.negate=Ar,c.nthArg=z.nthArg,c.omit=T.omit,c.omitBy=T.omitBy,c.once=oe.once,c.orderBy=V.orderBy,c.over=z.over,c.overArgs=oe.overArgs,c.overEvery=z.overEvery,c.overSome=z.overSome,c.partial=oe.partial,c.partialRight=oe.partialRight,c.partition=V.partition,c.pick=T.pick,c.pickBy=T.pickBy,c.property=z.property,c.propertyOf=z.propertyOf,c.pull=S.pull,c.pullAll=S.pullAll,c.pullAllBy=S.pullAllBy,c.pullAllWith=S.pullAllWith,c.pullAt=S.pullAt,c.range=z.range,c.rangeRight=z.rangeRight,c.rearg=oe.rearg,c.reject=V.reject,c.remove=S.remove,c.rest=oe.rest,c.reverse=S.reverse,c.sampleSize=V.sampleSize,c.set=T.set,c.setWith=T.setWith,c.shuffle=V.shuffle,c.slice=S.slice,c.sortBy=V.sortBy,c.sortedUniq=S.sortedUniq,c.sortedUniqBy=S.sortedUniqBy,c.split=H.split,c.spread=oe.spread,c.tail=S.tail,c.take=S.take,c.takeRight=S.takeRight,c.takeRightWhile=S.takeRightWhile,c.takeWhile=S.takeWhile,c.tap=vt.tap,c.throttle=oe.throttle,c.thru=Er,c.toArray=E.toArray,c.toPairs=T.toPairs,c.toPairsIn=T.toPairsIn,c.toPath=z.toPath,c.toPlainObject=E.toPlainObject,c.transform=T.transform,c.unary=oe.unary,c.union=S.union,c.unionBy=S.unionBy,c.unionWith=S.unionWith,c.uniq=S.uniq,c.uniqBy=S.uniqBy,c.uniqWith=S.uniqWith,c.unset=T.unset,c.unzip=S.unzip,c.unzipWith=S.unzipWith,c.update=T.update,c.updateWith=T.updateWith,c.values=T.values,c.valuesIn=T.valuesIn,c.without=S.without,c.words=H.words,c.wrap=oe.wrap,c.xor=S.xor,c.xorBy=S.xorBy,c.xorWith=S.xorWith,c.zip=S.zip,c.zipObject=S.zipObject,c.zipObjectDeep=S.zipObjectDeep,c.zipWith=S.zipWith,c.entries=T.toPairs,c.entriesIn=T.toPairsIn,c.extend=T.assignIn,c.extendWith=T.assignInWith,Mo(c,c),c.add=Te.add,c.attempt=z.attempt,c.camelCase=H.camelCase,c.capitalize=H.capitalize,c.ceil=Te.ceil,c.clamp=Do.clamp,c.clone=E.clone,c.cloneDeep=E.cloneDeep,c.cloneDeepWith=E.cloneDeepWith,c.cloneWith=E.cloneWith,c.conformsTo=E.conformsTo,c.deburr=H.deburr,c.defaultTo=z.defaultTo,c.divide=Te.divide,c.endsWith=H.endsWith,c.eq=E.eq,c.escape=H.escape,c.escapeRegExp=H.escapeRegExp,c.every=V.every,c.find=V.find,c.findIndex=S.findIndex,c.findKey=T.findKey,c.findLast=V.findLast,c.findLastIndex=S.findLastIndex,c.findLastKey=T.findLastKey,c.floor=Te.floor,c.forEach=V.forEach,c.forEachRight=V.forEachRight,c.forIn=T.forIn,c.forInRight=T.forInRight,c.forOwn=T.forOwn,c.forOwnRight=T.forOwnRight,c.get=T.get,c.gt=E.gt,c.gte=E.gte,c.has=T.has,c.hasIn=T.hasIn,c.head=S.head,c.identity=we,c.includes=V.includes,c.indexOf=S.indexOf,c.inRange=Do.inRange,c.invoke=T.invoke,c.isArguments=E.isArguments,c.isArray=$,c.isArrayBuffer=E.isArrayBuffer,c.isArrayLike=E.isArrayLike,c.isArrayLikeObject=E.isArrayLikeObject,c.isBoolean=E.isBoolean,c.isBuffer=E.isBuffer,c.isDate=E.isDate,c.isElement=E.isElement,c.isEmpty=E.isEmpty,c.isEqual=E.isEqual,c.isEqualWith=E.isEqualWith,c.isError=E.isError,c.isFinite=E.isFinite,c.isFunction=E.isFunction,c.isInteger=E.isInteger,c.isLength=E.isLength,c.isMap=E.isMap,c.isMatch=E.isMatch,c.isMatchWith=E.isMatchWith,c.isNaN=E.isNaN,c.isNative=E.isNative,c.isNil=E.isNil,c.isNull=E.isNull,c.isNumber=E.isNumber,c.isObject=re,c.isObjectLike=E.isObjectLike,c.isPlainObject=E.isPlainObject,c.isRegExp=E.isRegExp,c.isSafeInteger=E.isSafeInteger,c.isSet=E.isSet,c.isString=E.isString,c.isSymbol=E.isSymbol,c.isTypedArray=E.isTypedArray,c.isUndefined=E.isUndefined,c.isWeakMap=E.isWeakMap,c.isWeakSet=E.isWeakSet,c.join=S.join,c.kebabCase=H.kebabCase,c.last=Ue,c.lastIndexOf=S.lastIndexOf,c.lowerCase=H.lowerCase,c.lowerFirst=H.lowerFirst,c.lt=E.lt,c.lte=E.lte,c.max=Te.max,c.maxBy=Te.maxBy,c.mean=Te.mean,c.meanBy=Te.meanBy,c.min=Te.min,c.minBy=Te.minBy,c.stubArray=z.stubArray,c.stubFalse=z.stubFalse,c.stubObject=z.stubObject,c.stubString=z.stubString,c.stubTrue=z.stubTrue,c.multiply=Te.multiply,c.nth=S.nth,c.noop=z.noop,c.now=pI.now,c.pad=H.pad,c.padEnd=H.padEnd,c.padStart=H.padStart,c.parseInt=H.parseInt,c.random=Do.random,c.reduce=V.reduce,c.reduceRight=V.reduceRight,c.repeat=H.repeat,c.replace=H.replace,c.result=T.result,c.round=Te.round,c.sample=V.sample,c.size=V.size,c.snakeCase=H.snakeCase,c.some=V.some,c.sortedIndex=S.sortedIndex,c.sortedIndexBy=S.sortedIndexBy,c.sortedIndexOf=S.sortedIndexOf,c.sortedLastIndex=S.sortedLastIndex,c.sortedLastIndexBy=S.sortedLastIndexBy,c.sortedLastIndexOf=S.sortedLastIndexOf,c.startCase=H.startCase,c.startsWith=H.startsWith,c.subtract=Te.subtract,c.sum=Te.sum,c.sumBy=Te.sumBy,c.template=H.template,c.times=z.times,c.toFinite=E.toFinite,c.toInteger=O,c.toLength=E.toLength,c.toLower=H.toLower,c.toNumber=E.toNumber,c.toSafeInteger=E.toSafeInteger,c.toString=E.toString,c.toUpper=H.toUpper,c.trim=H.trim,c.trimEnd=H.trimEnd,c.trimStart=H.trimStart,c.truncate=H.truncate,c.unescape=H.unescape,c.uniqueId=z.uniqueId,c.upperCase=H.upperCase,c.upperFirst=H.upperFirst,c.each=V.forEach,c.eachRight=V.forEachRight,c.first=S.head,Mo(c,function(){var e={};return _t(c,function(t,n){kf.call(c.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),c.VERSION=AI,(c.templateSettings=H.templateSettings).imports._=c,Je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),Je(["drop","take"],function(e,t){q.prototype[e]=function(n){n=n===void 0?1:PI(O(n),0);var r=this.__filtered__&&!t?new q(this):this.clone();return r.__filtered__?r.__takeCount__=Af(n,r.__takeCount__):r.__views__.push({size:Af(n,bf),type:e+(r.__dir__<0?"Right":"")}),r},q.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Je(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==EI||n==xI;q.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:P(i),type:n}),a.__filtered__=a.__filtered__||r,a}}),Je(["head","last"],function(e,t){var n="take"+(t?"Right":"");q.prototype[e]=function(){return this[n](1).value()[0]}}),Je(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");q.prototype[e]=function(){return this.__filtered__?new q(this):this[n](1)}}),q.prototype.compact=function(){return this.filter(we)},q.prototype.find=function(e){return this.filter(e).head()},q.prototype.findLast=function(e){return this.reverse().find(e)},q.prototype.invokeMap=L(function(e,t){return typeof e=="function"?new q(this):this.map(function(n){return Sr(n,e,t)})}),q.prototype.reject=function(e){return this.filter(Ar(P(e)))},q.prototype.slice=function(e,t){e=O(e);var n=this;return n.__filtered__&&(e>0||t<0)?new q(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=O(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},q.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},q.prototype.toArray=function(){return this.take(bf)},_t(q.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=c[r?"take"+(t=="last"?"Right":""):t],a=r||/^find/.test(t);!i||(c.prototype[t]=function(){var o=this.__wrapped__,s=r?[1]:arguments,u=o instanceof q,l=s[0],f=u||$(o),d=function(k){var A=i.apply(c,Ht([k],s));return r&&h?A[0]:A};f&&n&&typeof l=="function"&&l.length!=1&&(u=f=!1);var h=this.__chain__,p=!!this.__actions__.length,v=a&&!h,_=u&&!p;if(!a&&f){o=_?o:new q(this);var m=e.apply(o,s);return m.__actions__.push({func:Er,args:[d],thisArg:void 0}),new Ke(m,h)}return v&&_?e.apply(this,s):(m=this.thru(d),v?r?m.value()[0]:m.value():m)})}),Je(["pop","push","shift","sort","splice","unshift"],function(e){var t=RI[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply($(a)?a:[],i)}return this[n](function(o){return t.apply($(o)?o:[],i)})}}),_t(q.prototype,function(e,t){var n=c[t];if(n){var r=n.name+"";kf.call(Fn,r)||(Fn[r]=[]),Fn[r].push({name:t,func:n})}}),Fn[ci(void 0,II).name]=[{name:"wrapper",func:void 0}],q.prototype.clone=_I,q.prototype.reverse=gI,q.prototype.value=SI,c.prototype.at=vt.at,c.prototype.chain=vt.wrapperChain,c.prototype.commit=vt.commit,c.prototype.next=vt.next,c.prototype.plant=vt.plant,c.prototype.reverse=vt.reverse,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=vt.value,c.prototype.first=c.prototype.head,Sf&&(c.prototype[Sf]=vt.toIterator);function If(){var e,t;return Ti({fbp:Se("_fbp"),fbc:Se("_fbc"),sid:At(),vid:pa(),ga:Se("_ga"),ttc:Se("ttclid")||((t=(e=window.ttq)==null?void 0:e._adInfo)==null?void 0:t.callback),ttp:Se("_ttp"),landing_page:Se("_landing_page")},we)}const $I=()=>({timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{},pixels:K({sid:At()},If()),document:{referrer:document.referrer,title:document.title,location:{href:window.location.href,hash:window.location.hash,host:window.location.host,hostname:window.location.hostname,origin:window.location.origin,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,search:window.location.search}},navigator:{language:window.navigator.language,cookieEnabled:window.navigator.cookieEnabled,languages:window.navigator.languages,userAgent:window.navigator.userAgent}}),qo=e=>({id:$n(),clientId:At(),timestamp:new Date().toISOString(),name:e.event,context:$I(),data:e.data,type:"standard"});function CI(e){return se(this,null,function*(){navigator.sendBeacon(`${ma()}/api/web-pixels`,JSON.stringify({data:e.data,workspaceId:e.workspaceId}))})}function OI(e,t){return se(this,null,function*(){e.sendBeacon(`${ma()}/api/pixels`,JSON.stringify({event:"init_order",wid:t.workspaceId,checkout_token:t.data.checkout_token,cart_token:t.data.context.pixels.cartToken,payload:t.data.context.pixels}))})}const FI=(e,t)=>{localStorage.setItem(e,t),St(e,t)},LI=e=>localStorage.getItem(e)||Se(e),Ef={hasSendRealTImeEvent(){return Boolean(LI("zalify_real_time_init_event_sent"))},setSendRealTImeEvent(){return FI("zalify_real_time_init_event_sent","true")}};function DI(e,t){return se(this,null,function*(){const n=new URL(e);return n.searchParams.set("manual","1"),n.searchParams.set("transport","beacon"),navigator.sendBeacon(n.toString(),JSON.stringify(t)),n.searchParams.set("transport","fetch"),fetch(n.toString(),{method:"POST",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(r=>se(this,null,function*(){const i=yield r.json();if(r.status>=200&&r.status<300)return i;throw{message:(i==null?void 0:i.message)||"Network error",code:r.status,errors:i==null?void 0:i.errors}}))})}let xf=!1;const Rf=(e,t)=>se(this,null,function*(){try{let n=null;try{n=new URL(document.referrer)}catch(o){}const r={workspaceId:e,clientId:At(),cartId:cr(),visitId:pa(),cartToken:Se("cart"),version:Ks,$title:document.title,$language:navigator.language,$current_url:document.location.href,$host:document.location.host,$pathname:document.location.pathname,$referrer:n==null?void 0:n.href,$referring_domain:n==null?void 0:n.host,$geoip_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone},i=typeof navigator.sendBeacon=="function",a=ei.capture(t.name,K(K(K({},js()),r),t.data),{_url:`https://pixels.zalify.com/api/events?transport=sendBeacon&clientId=${At()}&ssb=${i}`,transport:"sendBeacon"});if(!Ef.hasSendRealTImeEvent()&&a&&!xf){xf=!0;const o=new Date;o.setSeconds(o.getSeconds()-2),yield DI(`https://pixels.zalify.com/api/events?clientId=${At()}`,{data:window.btoa(JSON.stringify(Ft(K({},a),{event:"init",timestamp:o.toISOString(),uuid:ei.get_distinct_id()})))}),Ef.setSendRealTImeEvent(),localStorage.setItem("zalify_order_attributes",JSON.stringify({cart_id:cr(),client_id:At(),iie:!0}))}ie("Zalify Real Time Capture",a)}catch(n){ie(n)}});function MI(e){return fetch(`${ma()}/api/popup?wid=${e.wid}&pop_preview=${e.pop_preview}&pop_id=${e.pop_id}&app_key=${e.app_key}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{const n=t.data;return window.zalifyWorkspaceId=n.workspaceId,n.workspaceId===Vs&&(n.pixels.X=[{id:"olkxr",type:"X",view_content:"tw-olkxr-oll1s",add_to_cart:"tw-olkxr-oll1w",begin_checkout:"tw-olkxr-oll1z",purchase:"tw-olkxr-oll20"}]),n})}function qI(e){try{return btoa(encodeURIComponent(e))}catch(t){return ie(t,"encrypt:"+e),""}}function Tf(e){try{return decodeURIComponent(atob(e))}catch(t){return ie(t,"decrypt:"+e),""}}let Pf=!1;const jn={setHasAddToCart(e){e?(Pf=!0,localStorage.setItem(Cn,"true")):localStorage.removeItem(Cn)},getCartToken(){var e;return((e=jn.getCurrentCart())==null?void 0:e.token)||Se("cart")},getHasAddToCart(){return localStorage.getItem(Cn)||Pf},setSessionHasAddToCart(e){e?sessionStorage.setItem(Cn,"true"):sessionStorage.removeItem(Cn)},getSessionHasAddToCart(){return sessionStorage.getItem(Cn)},getPixelSessionHasDone(e,t){return sessionStorage.getItem($f(e,t))},setPixelSessionHasDone(e,t){return sessionStorage.setItem($f(e,t),"true")},setSessionHasBeginCheckout(e){e?sessionStorage.setItem(_a,"true"):sessionStorage.removeItem(_a)},getSessionHasBeginCheckout(){return sessionStorage.getItem(_a)},getUserData(){try{const e=localStorage.getItem(va);return e?JSON.parse(Tf(e)):null}catch(e){return null}},getSandboxUserData(e){return se(this,null,function*(){try{const t=yield e.localStorage.getItem(va);return t?JSON.parse(Tf(t)):null}catch(t){return null}})},setUserData(e){const t=jn.getUserData();localStorage.setItem(va,qI(JSON.stringify(K(K({},t),e))))},getPrizeWheelIndex(){const e=localStorage.getItem(Ys);return typeof e=="string"?Number(e):void 0},setPrizeWheelIndex(e){return localStorage.setItem(Ys,e.toString())},getCurrentCart(){try{const e=localStorage.getItem(zs);return e?JSON.parse(e):null}catch(e){return null}},setCurrentCart(e){return localStorage.setItem(zs,JSON.stringify(e))},setSessionServerHasBeginCheckout(e){e?sessionStorage.setItem(ga,"true"):sessionStorage.removeItem(ga)},getSessionServerHasBeginCheckout(){return sessionStorage.getItem(ga)}};window.zalifyStore=jn;const $f=(e,t)=>`${uh}_${e}_${t}`;class Cf{static on(t,n){const r=this.events[t];r?r.push(n):this.events[t]=[n]}static off(t,n){this.events[t]=this.events[t].filter(r=>r!==n)}static exec(t,...n){const r=this.events[t];!r||r.forEach(i=>{i(...n)})}}B(Cf,"events",{}),window.zalifyEventManagerHelper||(window.zalifyEventManagerHelper=Cf);var W;(function(e){e.ADD_TO_CART="add_to_cart_zalify",e.WEBPIXEL_ADD_TO_CART="webpixel_add_to_cart_zalify",e.REMOVE_FROM_CART="remove_from_cart_zalify",e.BEGIN_CHECKOUT="begin_checkout_zalify",e.PURCHASE="purchase_zalify",e.TRANSACTION="transaction_zalify",e.VIEW_PRODUCT="view_item_zalify",e.VIEW_COLLECTION="view_collection_zalify",e.SEARCH="search_zalify",e.ADD_PAYMENT_INFO="payment_info_submitted_zalify",e.LEAD="lead",e.HACK_BEGIN_CHECKOUT="hack_checkout_started"})(W||(W={}));const NI=location.host;class zn{static fetchCollections(t){let n=0;t.forEach(r=>se(this,null,function*(){var i;try{const a=yield fetch(`https://${NI}/collections/${r}/products.json?limit=250`).then(o=>se(this,null,function*(){const s=yield o.json();if(o.status>=200&&o.status<300)return s;throw{message:(s==null?void 0:s.description)||"Network error",code:o.status}}));this.map[r]=(i=a==null?void 0:a.products)==null?void 0:i.map(o=>({productId:o.id,title:o.title}))}catch(a){}finally{n+=1,n===t.length&&(this.inited=!0)}}))}static init(t){return se(this,null,function*(){this.pixels=t;const n=[...new Set(Pl(Object.values(t).map(r=>r.map(i=>i.collection))).filter(Boolean))];this.fetchCollections(n)})}static awaitInit(){return new Promise(t=>{const n=()=>{this.inited?t(!0):setTimeout(()=>{n()},0)};n()})}static getTrackData(t){return se(this,null,function*(){var o;let n={canTrack:!1,isCollection:!1,eventData:Ka(t.eventData)};if(t.event===W.LEAD)return n.canTrack=!0,n;const r=this.pixels[t.pixelType];if(!r||jn.getPixelSessionHasDone(t.pixelId,t.event))return n;const i=r.find(s=>s.id===t.pixelId);if(!i)return n;if(!i.collection)return n.canTrack=!0,n;n.isCollection=!0,yield this.awaitInit();const a=this.map[i.collection];return a&&(n.canTrack=!0,t.pixelType==="META"&&(n.eventData.items=n.eventData.items.filter(s=>a.some(u=>u.productId.toString()===s.item_id.toString())),n.eventData.value=Po(n.eventData.items.map(s=>s.price*(s.quantity||1))).toFixed(2),n.eventData.subtotal_price=Po(n.eventData.items.map(s=>s.price*(s.quantity||1))).toFixed(2),n.eventData.total_price=n.eventData.subtotal_price,ie(n.eventData.items[0]),n.eventData.currencyCode=(o=n.eventData.items[0])==null?void 0:o.currency),n.eventData.items.length===0&&(n.canTrack=!1)),n})}}B(zn,"pixels"),B(zn,"map",{}),B(zn,"inited",!1);function Yn(e){var t;return((t=e==null?void 0:e.Checkout)==null?void 0:t.step)==="thank_you"}function mn(){var e,t,n,r,i;if(!Yn(window.Shopify))return null;try{const a=window.Shopify.checkout,o=(e=a.phone)==null?void 0:e.replace("+",""),s=(n=(t=a==null?void 0:a.shipping_address)==null?void 0:t.phone)==null?void 0:n.replace("+",""),u=(i=(r=a==null?void 0:a.billing_address)==null?void 0:r.phone)==null?void 0:i.replace("+","");return o||s||u||null}catch(a){return null}}function Vt(e,t){var o,s,u,l,f,d;const n={email:D(t,"eventData.email"),country:D(t,"eventData.shipping_address.country_code"),city:D(t,"eventData.shipping_address.city"),street:D(t,"eventData.shipping_address.address1"),first_name:D(t,"eventData.shipping_address.first_name"),last_name:D(t,"eventData.shipping_address.last_name"),phone_number:D(t,"eventData.shipping_address.phone"),region:D(t,"eventData.shipping_address.province"),postal_code:D(t,"eventData.shipping_address.zip")},r={dlv_items:JSON.stringify(D(t,"eventData.items")),dlv_item_name:D(t,"eventData.items.0.item_name"),dlv_item_variant:D(t,"eventData.items.0.item_variant"),dlv_item_price:D(t,"eventData.items.0.price"),dlv_subtotal_price:D(t,"eventData.subtotal_price"),dlv_item_id:(o=D(t,"eventData.items.0.item_id"))==null?void 0:o.toString(),dlv_item_ids:(((u=(s=t.eventData)==null?void 0:s.items)==null?void 0:u.map(h=>h.item_id.toString()))||[]).join(),dlv_currency:D(t,"eventData.currencyCode")||D(t,"eventData.items.0.currency")||((l=jn.getCurrentCart())==null?void 0:l.currency)||((d=(f=window.Shopify)==null?void 0:f.currency)==null?void 0:d.active),dlv_purchase_item_name:D(t,"eventData.items.0.item_name"),dlv_purchase_value:D(t,"eventData.value"),dlv_purchase_currency:D(t,"eventData.currencyCode")||D(t,"eventData.items.0.currency"),dlv_purchase_content_id:D(t,"eventData.transaction_id"),dlv_transaction_id:D(t,"eventData.transaction_id"),dlv_user_email:n.email,dlv_user_first_name:n.first_name,dlv_user_last_name:n.last_name,dlv_user_phone_number:D(t,"eventData.shipping_address.phone")||mn(),dlv_user_city:n.city,dlv_zip:n.postal_code,dlv_user_country:n.country,dlv_user_address:n.street,dlv_user_province:n.region,dlv_user_provided_data:n,dlv_coupon:D(t,"eventData.coupon"),"Browser ID":Se("_fbp"),"Clicks ID":Se("_fbc"),dlv_event_id:D(t,"eventData.event_id"),dlv_event_time:D(t,"eventData.event_time")},i=h=>{for(let p in h){const v=h[p];typeof v=="string"&&(h[p]=v.replace(/{{([\s\S]+?)}}/g,(_,m)=>D(r,m,""))),typeof v=="object"&&i(v)}};let a=Ka(e);return i(a),a}const Tr=class{static init(t){this.bingIds=[t],this.inited=!0;const n=document.createElement("script");n.id="zalify-bing-pixel-install",n.innerHTML=`
    (function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"${t}"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");

    window.uetq = window.uetq || [];

    `,document.body.appendChild(n),this.checkInit()}static track(t,n,r){var a;const i=r?Vt(n,r):n;!window.uetq||!this.inited?this.queue.push([t,i]):(ie("Bing trackData",t,i),this.bingIds.forEach(o=>{window.uetq.push("event",t,i)}),(a=window.zalifyPixelLogs)==null||a.bing.push(K({event:t},i)))}static viewProduct(t){this.track("view_item",{ecomm_pagetype:"product",items:t.eventData.items.map(n=>({id:n.item_id,quantity:1,price:n.price}))},t)}static addToCart(t){var n,r,i;this.track("add_to_cart",{ecomm_totalvalue:(n=t.eventData.items[0])==null?void 0:n.price,revenue_value:(r=t.eventData.items[0])==null?void 0:r.price,event_label:"{{dlv_item_name}}",event_value:(i=t.eventData.items[0])==null?void 0:i.price,currency:"{{dlv_currency}}",items:t.eventData.items.map(a=>({id:a.item_id,quantity:1,price:a.price}))},t)}static initiateCheckout(t){this.track("begin_checkout",{coupon:"{{dlv_coupon}}",revenue_value:+t.eventData.subtotal_price,event_value:+t.eventData.subtotal_price,currency:"{{dlv_currency}}",items:t.eventData.items.map(n=>({id:n.item_id,quantity:n.quantity,price:n.price}))},t)}static purchase(t){this.track("purchase",{coupon:"{{dlv_coupon}}",transaction_id:"{{dlv_transaction_id}}",ecomm_pagetype:"purchase",ecomm_totalvalue:+t.eventData.value,revenue_value:+t.eventData.value,event_value:+t.eventData.value,currency:"{{dlv_currency}}",items:t.eventData.items.map(n=>({id:n.item_id,quantity:n.quantity,price:n.price}))},t)}};let yn=Tr;B(yn,"queue",[]),B(yn,"bingIds",[]),B(yn,"inited",!1),B(yn,"checkInit",()=>{window.uetq?Tr.queue.forEach(([t,n])=>{Tr.track(t,n)}):setTimeout(()=>{Tr.checkInit()},100)});const BI=()=>{const e=jn.getUserData();if(!e)return{};const t={em:e.email,fn:e.firstName,ln:e.lastName,ph:e.phone,ct:e.city,cn:e.country,st:e.street,zp:e.zip,external_id:e.external_id};return Ti(t,we)},WI={AddToCart:W.ADD_TO_CART,InitiateCheckout:W.BEGIN_CHECKOUT,Purchase:W.PURCHASE,Search:W.SEARCH,ViewContent:W.VIEW_PRODUCT,AddPaymentInfo:W.ADD_PAYMENT_INFO,Lead:W.LEAD},Pr=class{static init(t){this.inited=!0;const n=document.createElement("script");n.id="zalify-fb-pixel-install";const r=BI();this.pixelIds=t,n.innerHTML=`

    !(function (f, b, e, v, n, t, s) {
      if (f.fbq) {
        delete f.fbq;
      }
      n = f.fbq = function () {
        const blockList = ['ViewContent', 'AddToCart', 'Purchase', 'InitiateCheckout'];
        const args = Array.from(arguments);

        if (args[0] === "zalify") {
          args.shift();
        } else if (args.some(item=>blockList.includes(item))) {
          console.error("reject other pixel sdk",args)
          return;
        }
        n.callMethod ? n.callMethod.apply(n, args) : n.queue.push(args);
      };
      if (!f._fbq) f._fbq = n;
      n.push = n;
      n.loaded = !0;
      n.version = "2.0";
      n.queue = [];
      t = b.createElement(e);
      t.async = !0;
      t.src = v;
      s = b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t, s);
    })(
      window,
      document,
      "script",
      "https://connect.facebook.net/en_US/fbevents.js"
    );



      ${t.map(i=>`fbq('zalify','init', '${i}', ${JSON.stringify(r)});`).join(`
`)}
      ${this.pixelIds.map(i=>`fbq('zalify','trackSingle', '${i}', 'PageView');`).join(`
`)}
    `,document.body.appendChild(n),this.checkInit()}static track(t,n,r){!window.fbq||!this.inited?this.queue.push([t,n,r]):this.pixelIds.forEach(i=>se(this,null,function*(){var u,l,f;const a=yield zn.getTrackData({pixelId:i,pixelType:"META",event:WI[t],eventData:r.eventData});if(!a.canTrack){ie("Can not track",i);return}const o=a.eventData?Vt(n,{eventData:a.eventData}):n;ie("FB trackData",t,a.eventData);const s=o.eventID;s?(u=window.fbq)==null||u.call(window,"zalify","trackSingle",i,t,vn(o,"eventID"),{eventID:s}):(l=window.fbq)==null||l.call(window,"zalify","trackSingle",i,t,vn(o,"eventID")),(f=window.zalifyPixelLogs)==null||f.pixel.push({event:t,pixelId:i,eventData:a.eventData})}))}static viewProduct(t){this.track("ViewContent",{content_name:"{{dlv_item_name}}",value:"{{dlv_item_price}}",content_ids:"[{{dlv_item_id}}]",currency:"{{dlv_currency}}",content_type:"product_group",eventID:"{{dlv_event_id}}"},t)}static addToCart(t){this.track("AddToCart",{content_name:"{{dlv_item_name}}",value:"{{dlv_item_price}}",content_ids:"[{{dlv_item_id}}]",currency:"{{dlv_currency}}",content_type:"product_group",num_items:1,eventID:"{{dlv_event_id}}"},t)}static initiateCheckout(t){this.track("InitiateCheckout",{content_name:"{{dlv_item_name}}",value:"{{dlv_subtotal_price}}",content_ids:"[{{dlv_item_ids}}]",currency:"{{dlv_currency}}",content_type:"product_group",eventID:"{{dlv_event_id}}"},t)}static purchase(t){this.track("Purchase",{content_name:"{{dlv_purchase_item_name}}",value:"{{dlv_purchase_value}}",content_ids:"[{{dlv_item_ids}}]",currency:"{{dlv_currency}}",content_type:"product_group",eventID:"{{dlv_transaction_id}}"},t)}static search(t){ie("search",t),this.track("Search",{search_string:t.eventData.search_query,eventID:"{{dlv_event_id}}"},t)}static addPaymentInfo(t){this.track("AddPaymentInfo",{content_name:"{{dlv_purchase_item_name}}",value:"{{dlv_purchase_value}}",content_ids:"[{{dlv_item_ids}}]",currency:"{{dlv_currency}}",content_type:"product_group",eventID:"{{dlv_event_id}}"},t)}static lead(t){this.track("Lead",{eventID:"{{dlv_event_id}}"},t)}};let mt=Pr;B(mt,"queue",[]),B(mt,"inited",!1),B(mt,"pixelIds",[]),B(mt,"checkInit",()=>{window.fbq?Pr.queue.forEach(t=>{Pr.track(...t)}):setTimeout(()=>{Pr.checkInit()},100)});function Of(e,t){const n=document.createElement("script");n.id="zalify-ga4-install",n.src=`https://www.googletagmanager.com/gtag/js?id=${e[0]}`;const r=document.createElement("script");r.innerHTML=`
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  ${e.map(i=>`gtag('config', '${i}', {
          'allow_enhanced_conversions': ${Boolean(t==null?void 0:t.enhanced)},
          'send_page_view': ${!Boolean(t==null?void 0:t.disableAutoPageView)}
        })`).join(`
`)};
  `,document.body.appendChild(r),document.body.appendChild(n)}class Kt{static init(t,{disableAutoPageView:n}){Of(t,{disableAutoPageView:n}),this.checkInit().then(()=>{if(this.inited=!0,Yn(window.Shopify)){const r=window.Shopify.checkout,i=r.shipping_address,a={email_address:r.email,phone_number:mn(),"address.city":i==null?void 0:i.city,"address.country":i==null?void 0:i.country_code,"address.region":i==null?void 0:i.province_code,"address.postal_code":i==null?void 0:i.zip,"address.street":i==null?void 0:i.address1,"address.first_name":i==null?void 0:i.first_name,"address.last_name":i==null?void 0:i.last_name};window.gtag("set","user_properties",a)}this.queue.forEach(([r,i])=>{this.track(r,i)})})}static track(t,n,r){var a;const i=r?Vt(n,r):n;!this.inited||!window.gtag?this.queue.push([t,i]):(window.gtag("event",t,K({event:t},i)),(a=window.zalifyPixelLogs)==null||a.ga4.push(K({event:t},i)))}static viewProduct(t){this.track("view_item",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",items:t.eventData.items.map(n=>Ft(K({},n),{google_business_vertical:"retail"})),event_id:"{{dlv_event_id}}"},t)}static addToCart(t){this.track("add_to_cart",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",items:t.eventData.items.map(n=>Ft(K({},n),{google_business_vertical:"retail"})),event_id:"{{dlv_event_id}}"},t)}static initiateCheckout(t){this.track("begin_checkout",{value:"{{dlv_subtotal_price}}",currency:"{{dlv_currency}}",items:t.eventData.items.map(n=>Ft(K({},n),{google_business_vertical:"retail"})),event_id:"{{dlv_event_id}}"},t)}static purchase(t){this.track("purchase",{value:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",coupon:"{{dlv_coupon}}",items:t.eventData.items.map(n=>Ft(K({},n),{google_business_vertical:"retail"})),event_id:"{{dlv_transaction_id}}"},t)}static viewCollection(t){this.track("view_item_list",{item_list_id:t.eventData.id,item_list_name:t.eventData.title,items:t.eventData.items.map(n=>Ft(K({},n),{google_business_vertical:"retail"})),event_id:"{{dlv_event_id}}"},t)}static search(t){this.track("search",{search_term:t.eventData.search_query,event_id:"{{dlv_event_id}}"},t)}static lead(t){this.track("lead",{event_id:"{{dlv_event_id}}"},t)}}B(Kt,"queue",[]),B(Kt,"inited",!1),B(Kt,"checkInit",()=>new Promise(t=>{const n=()=>{window.gtag?t(!0):setTimeout(()=>{n()},100)};n()}));class Vn{static init(t,n){if(this.options=t.map(r=>Ft(K({},r),{id:"AW-"+r.id.replace("AW-","")})).filter(r=>r.id),n?this.options.forEach(r=>{window.gtag("config",r.id,{allow_enhanced_conversions:!0})}):Of(this.options.map(r=>r.id),!0),Yn(window.Shopify)){const r=window.Shopify.checkout,i=r.shipping_address,a={email:r.email,phone_number:mn()?[`+${mn()}`]:[],address:i?{city:i.city,country:i.country_code,region:i.province_code,postal_code:i.zip,street:i.address1,first_name:i.first_name,last_name:i.last_name}:{}};window.gtag("set","user_data",a)}this.checkInit().then(()=>{this.inited=!0,this.queue.forEach(([r,i])=>{this.track(r,i)})})}static track(t,n,r){var a;const i=r?Vt(n,r):n;ie("Google ads trackData",i),!this.inited||!window.gtag?this.queue.push([t,i]):(window.gtag("event",t,K({event:t,event_callback:o=>{}},i)),(a=window.zalifyPixelLogs)==null||a.googleads.push(K({event:t},i)))}static viewProduct(t){return se(this,null,function*(){var n;yield this.checkInit(),(n=this.options)==null||n.forEach(r=>{!r.gads_crs_lbl_vc||this.track("conversion",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",items:t.eventData.items,send_to:`${r.id}/${r.gads_crs_lbl_vc}`},t)})})}static addToCart(t){return se(this,null,function*(){var n;yield this.checkInit(),(n=this.options)==null||n.forEach(r=>{!r.gads_cvs_lbl_atc||this.track("conversion",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",items:t.eventData.items,send_to:`${r.id}/${r.gads_cvs_lbl_atc}`},t)})})}static initiateCheckout(t){return se(this,null,function*(){var n;yield this.checkInit(),(n=this.options)==null||n.forEach(r=>{!r.gads_cvs_lbl_bc||this.track("conversion",{value:"{{dlv_subtotal_price}}",currency:"{{dlv_currency}}",send_to:`${r.id}/${r.gads_cvs_lbl_bc}`},t)})})}static purchase(t){return se(this,null,function*(){var n;yield this.checkInit(),(n=this.options)==null||n.forEach(r=>{!r.gads_crs_lbl_pc||this.track("conversion",{send_to:`${r.id}/${r.gads_crs_lbl_pc}`,value:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",transaction_id:"{{dlv_transaction_id}}"},t)})})}}B(Vn,"queue",[]),B(Vn,"inited",!1),B(Vn,"options"),B(Vn,"checkInit",()=>new Promise(t=>{const n=()=>{window.gtag?t(!0):setTimeout(()=>{n()},100)};n()}));class xr{static init(t){const n=document.createElement("script");n.id="zalify-pinterestid-pixel-install",n.innerHTML=`
    !function(e){if(!window.pintrk){window.pintrk = function () {
      window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
        n=window.pintrk;n.queue=[],n.version="3.0";var
        t=document.createElement("script");t.async=!0,t.src=e;var
        r=document.getElementsByTagName("script")[0];
        r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
      pintrk('load', '${t}', ${Yn(window.Shopify)?`{em: '${window.Shopify.checkout.email}'}`:"{}"});
      pintrk('page');

      `,document.body.appendChild(n),this.checkInit().then(()=>{ie("Pintrk pixel initialed!"),this.inited=!0,this.queue.forEach(([r,i])=>{this.track(r,i)})})}static track(t,n,r){var a;const i=r?Vt(n,r):n;!window.pintrk||!this.inited?this.queue.push([t,i]):(ie("pinterest track",t,i),window.pintrk("track",t,i),(a=window.zalifyPixelLogs)==null||a.pinterest.push(K({event:t},i)))}static viewProduct(t){this.track("pagevisit",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",line_items:[{product_name:"{{dlv_item_name}}",product_id:"{{dlv_item_id}}",product_price:"{{dlv_item_price}}"}]},t)}static addToCart(t){this.track("addtocart",{value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",line_items:[{product_name:"{{dlv_item_name}}",product_id:"{{dlv_item_id}}",product_price:"{{dlv_item_price}}",product_variant:"{{dlv_item_variant}}"}]},t)}static initiateCheckout(t){this.track("START_CHECKOUT",{line_items:t.eventData.items.map(n=>({product_name:n.item_name,product_id:n.item_id,product_price:n.price,product_variant:n.item_variant})),price:"{{dlv_subtotal_price}}",value:"{{dlv_subtotal_price}}",currency:"{{dlv_currency}}"},t)}static purchase(t){this.track("checkout",{line_items:t.eventData.items.map(n=>({product_name:n.item_name,product_id:n.item_id,product_price:n.price,product_variant:n.item_variant})),promo_code:"{{dlv_coupon}}",value:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",event_id:"{{dlv_transaction_id}}"},t)}}B(xr,"queue",[]),B(xr,"inited",!1),B(xr,"checkInit",()=>new Promise(t=>{const n=()=>{window.pintrk?t(!0):setTimeout(()=>{n()},100)};n()}));class Rr{static init(t){const n=document.createElement("script");n.id="zalify-snapchat-pixel-install";let r={};Yn(window.Shopify)&&(r={user_email:window.Shopify.checkout.email},mn()&&(r.user_phone_number=mn())),n.innerHTML=`
    (function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function()
      {a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments)};
      a.queue=[];var s='script';r=t.createElement(s);r.async=!0;
      r.src=n;var u=t.getElementsByTagName(s)[0];
      u.parentNode.insertBefore(r,u);})(window,document,
      'https://sc-static.net/scevent.min.js');

      ${t.map(i=>`snaptr('init', '${i}', ${JSON.stringify(r)});`).join(`
`)}

      snaptr('track', 'PAGE_VIEW');
      `,document.body.appendChild(n),this.checkInit().then(()=>{ie("Snapchat pixel initialed!"),this.inited=!0,this.queue.forEach(([i,a])=>{this.track(i,a)})})}static track(t,n,r){var a;const i=r?Vt(n,r):n;!window.snaptr||!this.inited?this.queue.push([t,i]):(ie("snapchat track",t,i),i.event_id?window.snaptr("track",t,vn(i,"event_id")):window.snaptr("track",t,i),(a=window.zalifyPixelLogs)==null||a.snapchat.push(K({event:t},i)))}static viewProduct(t){this.track("VIEW_CONTENT ",{item_ids:"{{dlv_item_id}}",description:"{{dlv_item_name}}",number_items:1,price:"{{dlv_item_price}}",value:"{{dlv_item_price}}",currency:"{{dlv_currency}}"},t)}static addToCart(t){this.track("ADD_CART",{item_ids:"{{dlv_item_id}}",description:"{{dlv_item_name}}",number_items:1,price:"{{dlv_item_price}}",value:"{{dlv_item_price}}",currency:"{{dlv_currency}}"},t)}static initiateCheckout(t){}static purchase(t){this.track("PURCHASE",{item_ids:t.eventData.items.map(n=>n.item_id),description:"{{dlv_purchase_item_name}}",price:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",transaction_id:"{{dlv_transaction_id}}"},t)}}B(Rr,"queue",[]),B(Rr,"inited",!1),B(Rr,"checkInit",()=>new Promise(t=>{const n=()=>{window.snaptr?t(!0):setTimeout(()=>{n()},100)};n()}));const Ff=()=>{D(window,"ymq_option.ymq_option_branding.extra.doAddCart_after_getAjaxData")&&Ro(window,"ymq_option.ymq_option_branding.extra.doAddCart_after_getAjaxData",""),D(window,"ymq_option.ymq_option_branding.extra.doCheckout_after_getAjaxData")&&Ro(window,"ymq_option.ymq_option_branding.extra.doCheckout_after_getAjaxData","")};class wn{static init(t){const n=document.createElement("script");n.id="zalify-tiktop-pixel-install",n.innerHTML=`
      !function (w, d, t) {
        w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++
    )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
    ${t.map(r=>`ttq.load('${r}')`).join(`
`)}

        ttq.page();
      }(window, document, 'ttq');
      `,document.body.appendChild(n),this.checkInit().then(()=>{var r;if(ie("Tiktok pixel initialed!"),this.inited=!0,Yn(window.Shopify)){const i=window.Shopify.checkout,a=mn();(r=window.ttq)==null||r.identify({email:i.email,phone_number:a?"+"+a:void 0,external_id:`gid://shopify/Customer/${i.customer_id}`})}this.queue.forEach(([i,a])=>{this.track(i,a)})})}static track(t,n,r){var a,o;const i=r?Vt(n,r):n;!((a=window.ttq)==null?void 0:a.track)||!this.inited?this.queue.push([t,i]):(ie("Tiktok track",t,i),i.event_id?window.ttq.track(t,vn(i,"event_id"),{event_id:i.event_id}):window.ttq.track(t,vn(i,"event_id")),(o=window.zalifyPixelLogs)==null||o.tiktokpixel.push(K({event:t},i)),Ff())}static viewProduct(t){this.track("ViewContent",{content_id:"{{dlv_item_id}}",content_type:"product",content_name:"{{dlv_item_name}}",quantity:1,price:"{{dlv_item_price}}",value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",event_id:"{{dlv_event_id}}"},t)}static addToCart(t){this.track("AddToCart",{content_id:"{{dlv_item_id}}",content_type:"product",content_name:"{{dlv_item_name}}",quantity:1,price:"{{dlv_item_price}}",value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",event_id:"{{dlv_event_id}}"},t)}static initiateCheckout(t){this.track("InitiateCheckout",{contents:t.eventData.items.map(n=>({content_id:n.item_id,content_name:n.item_name,content_type:"product"})),content_type:"product_group",content_name:"{{dlv_item_name}}",price:"{{dlv_subtotal_price}}",value:"{{dlv_subtotal_price}}",currency:"{{dlv_currency}}",event_id:D(t,"eventData.event_id",$n())},t)}static purchase(t){var n;this.track("CompletePayment",{content_id:(n=t.eventData.items.map(r=>({content_id:r.item_id})))==null?void 0:n[0],contents:t.eventData.items.map(r=>({content_id:r.item_id,content_name:r.item_name,content_type:"product"})),content_type:"product_group",content_name:"{{dlv_purchase_item_name}}",value:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",event_id:"{{dlv_transaction_id}}"},t)}static search(t){this.track("Search",{query:t.eventData.search_query,content_id:t.eventData.search_query,currency:"{{dlv_currency}}",event_id:D(t,"eventData.event_id",$n())},t)}static addPaymentInfo(t){this.track("AddPaymentInfo",{contents:t.eventData.items.map(n=>({content_id:n.item_id,content_name:n.item_name,content_type:"product"})),content_type:"product_group",content_name:"{{dlv_purchase_item_name}}",value:"{{dlv_purchase_value}}",currency:"{{dlv_currency}}",event_id:"{{dlv_event_id}}"},t)}}B(wn,"queue",[]),B(wn,"inited",!1),B(wn,"checkInit",()=>new Promise(t=>{const n=()=>{var r;((r=window.ttq)==null?void 0:r.track)?(Ff(),t(!0)):setTimeout(()=>{n()},100)};n()}));const UI={AddToCart:W.ADD_TO_CART,InitiateCheckout:W.BEGIN_CHECKOUT,Purchase:W.PURCHASE,Search:W.SEARCH,ViewContent:W.VIEW_PRODUCT,AddPaymentInfo:W.ADD_PAYMENT_INFO,Lead:W.LEAD},HI={AddToCart:"add_to_cart",InitiateCheckout:"begin_checkout",Purchase:"purchase",ViewContent:"view_content"},$r=class{static init(t){this.inited=!0;const n=document.createElement("script");n.id="zalify-x-pixel-install",this.options=t,console.log("options",t),n.innerHTML=`


    !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
    },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='https://static.ads-twitter.com/uwt.js',
    a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');


      ${t.map(({id:r})=>`twq('config','${r}')`).join(`
`)}

    `,document.body.appendChild(n),this.checkInit()}static track(t,n,r){!window.twq||!this.inited?this.queue.push([t,n,r]):this.options.forEach(i=>se(this,null,function*(){var u,l;const a=D(i,D(HI,t));if(!a){debugger;console.log("X  no matchEventName",t);return}const o=yield zn.getTrackData({pixelId:i.id,pixelType:"X",event:UI[t],eventData:r.eventData});if(!o.canTrack){ie("Can not track",i.id);return}const s=o.eventData?Vt(n,{eventData:o.eventData}):n;ie("X trackData",t,o.eventData),(u=window.twq)==null||u.call(window,"event",a,vn(s,"eventID")),(l=window.zalifyPixelLogs)==null||l.pixel.push({event:t,pixelId:i.id,eventData:o.eventData})}))}static viewProduct(t){this.track("ViewContent",{contents:[{content_type:"product_group",content_id:"{{dlv_item_id}}",content_name:"{{dlv_item_name}}",content_price:"{{dlv_item_price}}",num_items:1}],value:"{{dlv_item_price}}",currency:"{{dlv_currency}}"},t)}static addToCart(t){this.track("AddToCart",{contents:[{content_type:"product_group",content_id:"{{dlv_item_id}}",content_name:"{{dlv_item_name}}",content_price:"{{dlv_item_price}}",num_items:1}],value:"{{dlv_item_price}}",currency:"{{dlv_currency}}"},t)}static initiateCheckout(t){this.track("InitiateCheckout",{contents:t.eventData.items.map(n=>({content_type:"product_group",content_id:n.item_id,content_name:n.item_name,content_price:n.price,num_items:1})),value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",conversion_id:"{{dlv_transaction_id}}"},t)}static purchase(t){this.track("Purchase",{contents:t.eventData.items.map(n=>({content_type:"product_group",content_id:n.item_id,content_name:n.item_name,content_price:n.price,num_items:1})),value:"{{dlv_item_price}}",currency:"{{dlv_currency}}",conversion_id:"{{dlv_transaction_id}}"},t)}static lead(t){this.track("Lead",{},t)}};let bn=$r;B(bn,"queue",[]),B(bn,"options"),B(bn,"inited",!1),B(bn,"checkInit",()=>{window.fbq?$r.queue.forEach(t=>{$r.track(...t)}):setTimeout(()=>{$r.checkInit()},100)});function GI(e){var f,d,h,p,v,_,m,k,A,G;const t=e.pixels;if(!t)return;zn.init(t);const n=(f=t.META)==null?void 0:f.map(x=>x.id),r=t.X;n&&n.length>0&&mt.init(n),r&&r.length>0&&bn.init(r);const i=(d=t.TIKTOK)==null?void 0:d.map(x=>x.id).filter(Boolean);i&&i.length>0&&wn.init(i);const a=(h=t.SNAPCHAT)==null?void 0:h.map(x=>x.id).filter(Boolean);a&&a.length>0&&Rr.init(a);const o=(v=(p=t.PINTEREST)==null?void 0:p.map(x=>x.id).filter(Boolean))==null?void 0:v[0];o&&xr.init(o);const s=(m=(_=t.BING)==null?void 0:_.map(x=>x.id).filter(Boolean))==null?void 0:m[0];s&&yn.init(s);const u=(k=t.GOOGLEADS)==null?void 0:k.filter(x=>x.id),l=(A=t.GA4)==null?void 0:A.map(x=>x.id).filter(Boolean);if(l&&l.length>0&&Kt.init(l||[],{disableAutoPageView:e.disableAutoPageView}),u&&u.length>0){const x=Boolean(t.GA4&&((G=t.GA4)==null?void 0:G.length)>0);Vn.init(u,x)}}function jI(e){var t,n;if(e.name==="product_viewed"){const r=e.data.productVariant;return{items:[{item_id:r.product.id,item_name:r.product.title,price:r.price.amount,currency:r.price.currencyCode,item_variant:r.product.title,quantity:1}],value:r.price.amount,currencyCode:r.price.currencyCode,event_id:e.id,event_time:e.timestamp}}else if(e.name==="product_added_to_cart"){const r=e.data.cartLine.merchandise;return{items:[{item_id:r.product.id,item_name:r.product.title,price:r.price.amount,currency:r.price.currencyCode,item_variant:r.product.title,quantity:1,item_brand:""}],value:r.price.amount,currencyCode:r.price.currencyCode,event_id:e.id,event_time:e.timestamp}}else if(e.name==="checkout_started"){const r=e.data.checkout;return{items:r.lineItems.map(i=>{var a,o;return{item_id:i.variant.product.id,item_name:i.variant.product.title,price:i.variant.price.amount,currency:((o=(a=window.Shopify)==null?void 0:a.currency)==null?void 0:o.active)||"",item_variant:i.variant.product.title,quantity:i.quantity}}),value:r.subtotalPrice.amount,currencyCode:r.subtotalPrice.currencyCode,subtotal_price:r.subtotalPrice.amount,event_id:e.id,event_time:e.timestamp}}else if(e.name==="checkout_completed"){const r=e.data.checkout;return{items:r.lineItems.map(i=>{var a,o;return{item_id:i.variant.product.id,item_name:i.variant.product.title,price:i.variant.price.amount,currency:((o=(a=window.Shopify)==null?void 0:a.currency)==null?void 0:o.active)||"",item_variant:i.variant.product.title,quantity:i.quantity}}),event_id:e.id,event_time:e.timestamp,value:r.totalPrice.amount,transaction_id:r.token,currencyCode:r.totalPrice.currencyCode}}else{if(e.name==="search_submitted")return{items:[],event_id:e.id,event_time:e.timestamp,search_query:e.data.searchResult.query,value:0,currencyCode:((n=(t=window.Shopify)==null?void 0:t.currency)==null?void 0:n.active)||""};if(e.name==="payment_info_submitted"){const r=e.data.checkout;return{items:r.lineItems.map(i=>{var a,o;return{item_id:i.variant.product.id,item_name:i.variant.product.title,price:i.variant.price.amount,currency:((o=(a=window.Shopify)==null?void 0:a.currency)==null?void 0:o.active)||"",item_variant:i.variant.product.title,quantity:i.quantity}}),value:r.totalPrice.amount,subtotal_price:r.subtotalPrice.amount,currencyCode:r.subtotalPrice.currencyCode,event_id:e.id,event_time:e.timestamp}}else if(e.name==="lead")return{items:[],value:0,event_id:e.id,event_time:e.timestamp}}}const zI=e=>({product_viewed:W.VIEW_PRODUCT,product_added_to_cart:W.ADD_TO_CART,checkout_started:W.BEGIN_CHECKOUT,checkout_completed:W.PURCHASE,search_submitted:W.SEARCH,payment_info_submitted:W.ADD_PAYMENT_INFO,lead:W.LEAD})[e];window.dataLayer||(window.dataLayer=[]);class Lf{static push(t){return se(this,null,function*(){var r;const n=Ft(K({},t),{transport_type:"beacon"});window.dataLayerInited?(r=window.dataLayer)==null||r.push(n):this.queue.push(n)})}static track(t,n,r){return se(this,null,function*(){this.push(n);const i=[mt,bn,Kt,Vn,wn,xr,Rr,yn];switch(t){case W.VIEW_PRODUCT:i.forEach(s=>s.viewProduct(n));break;case W.ADD_TO_CART:const a=D(n,"eventData.items.0.item_id"),o=D(n,"eventData.items.0.item_name");a&&o&&i.forEach(s=>s.addToCart(n));break;case W.BEGIN_CHECKOUT:i.forEach(s=>s.initiateCheckout(n));break;case W.PURCHASE:i.forEach(s=>s.purchase(n));break;case W.VIEW_COLLECTION:Kt.viewCollection(n);break;case W.SEARCH:mt.search(n),wn.search(n),Kt.search(n);break;case W.ADD_PAYMENT_INFO:mt.addPaymentInfo(n),wn.addPaymentInfo(n);break;case W.LEAD:mt.lead(n),Kt.lead(n);break}})}}B(Lf,"queue",[]);const ge={variantId:"47672813027640",productId:"8941594247480",title:"r1 (6th batch)",sku:"RB-R1-D-T-001",image:"https://www.rabbit.tech/_next/image?url=%2Fmedia%2Fhome%2Fhero%2Fdevice.webp&w=1920&q=75",price:199,currencyCode:"USD"},No=(e,t)=>{const n=jI(t);if(!n)return;const r=zI(t.name);Lf.track(r,{event:r,eventData:n}),CI({workspaceId:e,data:t}),Rf(e,{name:t.name,data:t.data})},YI=e=>{let t="";setInterval(()=>{var n;t!==location.pathname&&(t=location.pathname,Rf(e,{name:"page_viewed",data:{}}),(n=window.gtag)==null||n.call(window,"event","page_view",{page_title:document.title,page_location:location.href}))},100)},VI=e=>{let t="";setInterval(()=>{if(t!==location.pathname&&(location.pathname==="/"||location.pathname==="/rabbit-r1")){t=location.pathname,ie("product_viewed");const n={productVariant:{id:ge.variantId,image:{src:ge.image},product:{id:ge.productId,title:ge.title},price:{amount:ge.price,currencyCode:ge.currencyCode},sku:ge.sku,title:ge.title}},r=qo({event:"product_viewed",data:n});No(e,r)}},100)},KI=e=>{window.addEventListener("click",t=>{var r,i;const n=t.target;if(n instanceof HTMLButtonElement&&((r=n.textContent)==null?void 0:r.toLocaleLowerCase())==="sign up"){const a=(i=document.querySelector('input[name="email"]'))==null?void 0:i.value;/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(a)&&(ie("leadEvent",a),No(e,qo({event:W.LEAD,data:{email:a}})))}},!0)},JI=e=>{window.addEventListener("click",t=>{var r;const n=t.target;if(n instanceof HTMLElement&&n.textContent==="add to bag"||n.parentElement instanceof HTMLElement&&((r=n.parentElement)==null?void 0:r.textContent)==="add to bag"){ie("product_atc");const i={cartLine:{quantity:1,cost:{totalAmount:{amount:ge.price,currencyCode:ge.currencyCode}},merchandise:{id:ge.variantId,image:{src:ge.image},product:{id:ge.productId,title:ge.title},price:{amount:ge.price,currencyCode:ge.currencyCode},sku:ge.sku,title:ge.title}}};OI(window.navigator,{data:{context:{pixels:K({},If())}},workspaceId:e});const a=qo({event:"product_added_to_cart",data:i});No(e,a)}},!0)},XI=e=>se(this,null,function*(){ZI(),QI();const t=yield MI({wid:e,pop_preview:"",pop_id:"",app_key:""});GI({pixels:t.pixels,disableAutoPageView:!0}),YI(e),JI(e),VI(e),KI(e)}),ZI=e=>{localStorage.getItem("zalify_order_attributes")||localStorage.setItem("zalify_order_attributes",JSON.stringify({cart_id:cr(),client_id:At()}))},QI=e=>{const t=document.createElement("script");t.innerHTML=`(function(c,l,a,r,i,t,y){
  c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
  t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
  y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "likwx7gzsr");`,document.head.appendChild(t)},eE=document.currentScript;let Bo=new URL(eE.src).searchParams.get("workspace_id")||"";(()=>se(this,null,function*(){ie("Zalify headless Pixel loaded!"),yield ch(),window.zalifyWorkspaceId=Bo,Bo===Vs&&XI(Bo)}))()})()});fE();})();
